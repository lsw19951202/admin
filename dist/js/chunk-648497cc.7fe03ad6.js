(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-648497cc"],{"196b":function(t,a,i){var e=i("24fb");a=e(!1),a.push([t.i,".confirm[data-v-5f6fa4c7]{z-index:9997;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.confirm[data-v-5f6fa4c7],.confirm-mark[data-v-5f6fa4c7]{position:fixed;width:100%;left:0;top:0}.confirm-mark[data-v-5f6fa4c7]{height:100%;background:#000;opacity:.5;z-index:9998}.confirm-box[data-v-5f6fa4c7]{border-radius:.25rem;margin:auto;margin-top:1rem;width:18.75rem;background:#fff;position:relative;z-index:9999;padding-bottom:.34rem}.confirm-box[data-v-5f6fa4c7],.confirm-header[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-header[data-v-5f6fa4c7]{padding:0 .5rem;border-bottom:1px solid #e5e5e5;font-size:.5625rem;line-height:1.75rem;height:1.75rem;color:#676b6d}.confirm-body[data-v-5f6fa4c7]{position:relative;padding:.5rem}.confirm-body[data-v-5f6fa4c7],.confirm-form-line[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.confirm-form-line[data-v-5f6fa4c7]{height:1.06rem;margin-bottom:.5rem;font-size:.4375rem;display:-webkit-box;display:-ms-flexbox;display:flex;color:#676b6d}.confirm-form-line.line2[data-v-5f6fa4c7]{display:block}.confirm-form-line.line2[data-v-5f6fa4c7],.confirm-form-line.line2>div[data-v-5f6fa4c7]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.confirm-form-line.line2>div[data-v-5f6fa4c7]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:0}.confirm-form-line.line2>div>label[data-v-5f6fa4c7]{display:inline-block;width:3rem;text-align:right}.confirm-form-line.line2>div>div[data-v-5f6fa4c7]{display:inline-block;width:0;-webkit-box-flex:1;-ms-flex:1;flex:1}.confirm-form-line label[data-v-5f6fa4c7]{width:16%;text-align:right;font-size:.4375rem;padding:0 .5rem;height:100%;line-height:1.06rem}.confirm-form-line .monthBox[data-v-5f6fa4c7]{display:inline-block;padding-top:.15rem}.confirm-form-line.line2>div>div .sub[data-v-5f6fa4c7],.confirm-form-line .monthBox .sub[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-right:none;cursor:pointer}.confirm-form-line.line2>div>div .add[data-v-5f6fa4c7],.confirm-form-line .monthBox .add[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-left:none;margin-right:.2rem;cursor:pointer}.confirm-form-line.line2>div>div .num[data-v-5f6fa4c7],.confirm-form-line .monthBox .num[data-v-5f6fa4c7]{vertical-align:top;display:inline-block;width:1rem;height:.7rem;border:1px solid #333;text-align:center;outline:none}.confirm-form-line-right[data-v-5f6fa4c7]{-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:1.06rem;padding:0 .5rem}.confirm-form-line-right[data-v-5f6fa4c7],.confirm-form-line-right input[data-v-5f6fa4c7]{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-form-line-right input[data-v-5f6fa4c7]{width:100%;display:block;padding:.2rem .375rem;font-size:.4375rem;color:#555;background-color:#fff;border:1px solid #ccc;border-radius:.125rem}.confirm-footer[data-v-5f6fa4c7]{width:100%;border-top:1px solid #e5e5e5;padding:0 .5rem;height:1.75rem;line-height:1.75rem;text-align:right}.confirm-footer[data-v-5f6fa4c7],.confirm-footer button[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-footer button[data-v-5f6fa4c7]{display:inline-block;font-size:.4375rem}.confirm-ok[data-v-5f6fa4c7]{background-color:#26af95;color:#fff;width:2.5rem}.confirm-cancel[data-v-5f6fa4c7],.confirm-ok[data-v-5f6fa4c7]{padding:.2rem .375rem;border-radius:.125rem;border:1px solid transparent;cursor:pointer}.confirm-cancel[data-v-5f6fa4c7]{background-color:#fff;border-color:#ccc;color:#333;margin-left:1rem}.fade-enter-active[data-v-5f6fa4c7]{-webkit-animation:fade-in-data-v-5f6fa4c7 .3s ease-in;animation:fade-in-data-v-5f6fa4c7 .3s ease-in}.fade-leave-active[data-v-5f6fa4c7]{-webkit-animation:fade-out-data-v-5f6fa4c7 .5s ease-out;animation:fade-out-data-v-5f6fa4c7 .5s ease-out}.ease-enter-active[data-v-5f6fa4c7]{-webkit-animation:easein-data-v-5f6fa4c7 .3s ease-in;animation:easein-data-v-5f6fa4c7 .3s ease-in}.ease-leave-active[data-v-5f6fa4c7]{-webkit-animation:easeout-data-v-5f6fa4c7 .3s ease-out;animation:easeout-data-v-5f6fa4c7 .3s ease-out}@-webkit-keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@-webkit-keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@-webkit-keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@-webkit-keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}@keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}",""]),t.exports=a},2161:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"confirm"},[i("transition",{attrs:{name:"fade"}},[t.isShow?i("div",{staticClass:"confirm-mark"}):t._e()]),i("transition",{attrs:{name:"ease"}},[t.isShow?i("div",{staticClass:"confirm-box"},[i("div",{staticClass:"confirm-header"},[t._v(t._s(t.confirmParams.header))]),"modifyPwd"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},[i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("账户名:")]),i("div",{staticClass:"confirm-form-line-right"},[t._v(" "+t._s(t.confirmParams.username)+" ")])]),i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("密码:")]),i("div",{staticClass:"confirm-form-line-right"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.pwd,expression:"pwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.pwd},on:{input:function(a){a.target.composing||(t.pwd=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])]),i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("确认密码:")]),i("div",{staticClass:"confirm-form-line-right"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.confirmPwd,expression:"confirmPwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.confirmPwd},on:{input:function(a){a.target.composing||(t.confirmPwd=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])])]):t._e(),"del"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},[i("div",{staticClass:"confirm-form-line"},[t._v("确定删除?")])]):t._e(),"modifyStatus"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},[i("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))])]):t._e(),"yfdRobot"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},["outline"==t.confirmParams.tp||"delete"==t.confirmParams.tp?i("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))]):"globalSetting"==t.confirmParams.tp?i("div",{staticClass:"confirm-form-line line2"},[i("div",[i("label",[t._v("H5全局权限")]),i("div",[i("div",{staticClass:"line",staticStyle:{"margin-bottom":".5rem",display:"inline-block"}},[t._v(" 微信群 "),i("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.groupStatu},on:{changeSwitchStatus:t.changeGroupStatus}})],1),i("div",{staticClass:"line",staticStyle:{display:"inline-block","margin-left":"1rem"}},[t._v(" 朋友圈 "),i("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.friendStatu},on:{changeSwitchStatus:t.changeFriendStatus}})],1)])]),i("div",[i("label",[t._v("最大同步群数")]),i("div",[i("div",{staticClass:"sub",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.subNumber(a)}}},[t._v("-")]),i("div",{staticClass:"num"},[t._v(t._s(t.confirmParams.maxGroup))]),i("div",{staticClass:"add",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.addNumber(a)}}},[t._v("+")]),t._v(" 限10个以内 ")])]),i("div",[i("label",[t._v("监控设置")]),i("div",[t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_one?i("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start"}},[i("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("1群：")]),i("div",{staticClass:"group_setting",staticStyle:{display:"inline-block","font-size":"0.375rem",color:"red"}},[t._v(" 开启指令："+t._s(t.confirmParams.adminGroupSettings.group_one.open_monitor)+" "),i("br"),t._v(" 关闭指令："+t._s(t.confirmParams.adminGroupSettings.group_one.close_monitor)+" ")])]):t._e(),t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_two?i("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start","margin-top":"0.3rem"}},[i("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("2群：")]),i("div",{staticClass:"group_setting",staticStyle:{display:"inline-block",flex:"1"}},[i("div",{staticClass:"action-btn",style:t.confirmParams.setGroupTwo?"background-color: #ccc; color: white; width: fit-content; display: inline-block;":"display: inline-block; width: fit-content;",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.$parent.changeGroupTwoStatu(a)}}},[t._v("设置")]),t.confirmParams.setGroupTwo?i("div",{staticClass:"action-btn",staticStyle:{float:"right",display:"inline-block"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.$parent.refreshAdminGroupSettings(a)}}},[t._v("刷新")]):t._e(),t.confirmParams.setGroupTwo?i("div",{staticClass:"table",staticStyle:{width:"100%",height:"5rem",overflow:"hidden","overflow-y":"auto"}},[i("table",[i("thead",[i("tr",{staticStyle:{height:"1rem"}},[i("td",{staticStyle:{width:"1.5rem"}},[t._v("序号")]),i("td",[t._v("群名")])])]),i("tbody",t._l(t.confirmParams.adminGroupSettings.group_two,(function(a,e){return i("tr",{key:e,staticStyle:{height:"1rem"}},[i("td",{staticStyle:{width:"1.5rem"}},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.confirmParams.adminGroupSettings.select_group.indexOf(a.group_id)>=0},on:{change:function(a){return a.preventDefault(),a.stopPropagation(),t.$parent.changeGroupTwoSelect(e)}}}),t._v(t._s(e+1))]),i("td",[t._v(t._s(a.group_name))])])})),0)])]):t._e(),t.confirmParams.setGroupTwo?i("div",{staticStyle:{"font-size":".375rem",color:"red"}},[t._v("已选中："+t._s(t.selectedGroupName))]):t._e()])]):t._e()])]),i("div",{staticStyle:{"margin-top":"0.2rem"}},[i("label",[t._v("H5顶部提示")]),i("div",{staticStyle:{width:"100%",height:"3rem"}},[i("html-editor",{staticClass:"headerMsgEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.head_message,editable:!0}})],1)]),i("div",{staticStyle:{"margin-top":"0.2rem"}},[i("label",[t._v("淘口令小尾巴")]),i("div",{staticStyle:{width:"100%",height:"3rem"}},[i("html-editor",{staticClass:"tkCodeEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.tk_code,editable:!0}})],1)])]):i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("选择续时时间")]),i("div",{staticClass:"monthBox"},[i("div",{staticClass:"sub",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.subNumber(a)}}},[t._v("-")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmParams.month,expression:"confirmParams.month"}],staticClass:"num",attrs:{type:"text"},domProps:{value:t.confirmParams.month},on:{input:function(a){a.target.composing||t.$set(t.confirmParams,"month",a.target.value)}}}),i("div",{staticClass:"add",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.addNumber(a)}}},[t._v("+")]),t._v(" 月 ")])])]):t._e(),i("div",{staticClass:"confirm-footer"},[i("button",{staticClass:"confirm-ok",on:{click:function(a){return t.confirm(1)}}},[t._v("确认")]),i("button",{staticClass:"confirm-cancel",on:{click:function(a){return t.confirm(0)}}},[t._v("取消")])])]):t._e()])],1)},o=[],n=(i("c975"),i("a15b"),i("406a")),r=i("a0f6"),s={props:["isShow","confirmParams"],data:function(){return{pwd:"",confirmPwd:""}},components:{"switch-progress":n["a"],htmlEditor:r["a"]},computed:{selectedGroupName:function(){for(var t=[],a=0;a<this.confirmParams.adminGroupSettings.group_two.length;a++)this.confirmParams.adminGroupSettings.select_group.indexOf(this.confirmParams.adminGroupSettings.group_two[a].group_id)>=0&&t.push(this.confirmParams.adminGroupSettings.group_two[a].group_name);return t.join(",")}},methods:{changeGroupStatus:function(t){this.confirmParams.groupStatu=t.status},changeFriendStatus:function(t){this.confirmParams.friendStatu=t.status},subNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month>1&&(this.confirmParams.month-=1):"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup>1&&(this.confirmParams.maxGroup-=1)},addNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month=this.confirmParams.month-0+1:"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup<10&&(this.confirmParams.maxGroup=this.confirmParams.maxGroup-0+1)},confirm:function(t){if(0==t)this.$emit("confirmClicked");else switch(this.confirmParams.type){case"modifyPwd":this.confirmModifyPwd();break;case"del":this.confirmDel();break;case"modifyStatus":this.confirmModifyStatus();break;case"yfdRobot":this.confirmModifyStatus();break;default:return}},confirmModifyStatus:function(){if(this.confirmParams.tp&&"globalSetting"==this.confirmParams.tp)for(var t in this.$children)this.$children[t].$el.className.indexOf("headerMsgEditor")>=0&&(this.confirmParams.tipsStringSettings["head_message"]=this.$children[t].getContent()),this.$children[t].$el.className.indexOf("tkCodeEditor")>=0&&(this.confirmParams.tipsStringSettings["tk_code"]=this.$children[t].getContent());this.$emit("confirmClicked",this.confirmParams)},confirmDel:function(){this.$emit("confirmClicked",this.confirmParams)},confirmModifyPwd:function(){if(this.pwd)if(this.confirmPwd)if(this.confirmPwd==this.pwd){var t=this.confirmParams;t.pwd=this.pwd,this.$emit("confirmClicked",t),this.pwd="",this.confirmPwd=""}else this.$parent.alert("两次输入的密码不一致");else this.$parent.alert("请再次输入新密码");else this.$parent.alert("请输入新密码")}}},c=s,l=(i("9f6d"),i("2877")),d=Object(l["a"])(c,e,o,!1,null,"5f6fa4c7",null);a["a"]=d.exports},"21f0":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDRENzdFMzgyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDRENzdFMzkyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NEQ3N0UzNjJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NEQ3N0UzNzJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu9JCT8AAAAzSURBVHjaYrx3795/BjIBC5RmJEPvfyYGCsBI1MyCHoJE6GHEpZlxNLTpEFVk5SyAAAMAQ6sGvzkOx9MAAAAASUVORK5CYII="},"2bb2":function(t,a,i){var e=i("4864");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=i("499e").default;o("0f9c64a7",e,!0,{sourceMap:!1,shadowMode:!1})},4864:function(t,a,i){var e=i("24fb"),o=i("1de5"),n=i("0993"),r=i("f0c8"),s=i("e902"),c=i("21f0"),l=i("eaec");a=e(!1);var d=o(n),f=o(r),m=o(s),h=o(c),u=o(l);a.push([t.i,".role-editor[data-v-24aad5a2]{color:#666;overflow:scroll}.checkbox[data-v-24aad5a2]{margin-top:.15rem;vertical-align:sub;position:relative;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:.5rem;z-index:5000}.checkbox[data-v-24aad5a2]:checked:after{background:#fff url("+d+') no-repeat 0/auto}.checkbox[data-v-24aad5a2]:after{z-index:5000;content:" ";position:absolute;top:-.4rem;width:1rem;height:1rem;overflow:hidden;background:#fff url('+f+") no-repeat 0/auto}.tree-box[data-v-24aad5a2]{background:#fff url("+m+") .25rem/1px repeat-y}.tree-box.child[data-v-24aad5a2]{padding-left:2rem}.tree-item[data-v-24aad5a2]{margin:.3rem 0;background-color:#fff;margin-top:0}.tree-item>a[data-toggle=collapse][data-v-24aad5a2]{padding-left:1rem;background:#fff url("+h+") no-repeat 0/auto;cursor:pointer;padding-left:1.5rem}.tree-item>a[data-toggle=collapse][aria-expanded=false][data-v-24aad5a2]{background:#fff url("+u+") no-repeat 0/auto}.tree-item>label[data-v-24aad5a2]{margin-bottom:.3rem;display:inline-block}.hide[data-v-24aad5a2]{display:none}.actions[data-v-24aad5a2]{margin-top:.5rem;width:100%}.action[data-v-24aad5a2]{width:2.5rem;height:1.0625rem;color:#fff;text-align:center;font-size:.4375rem;cursor:pointer;background-color:#108beb;border-radius:.125rem}.action[data-v-24aad5a2]:last-child{margin-left:1rem}.form-ipt[data-v-24aad5a2]{width:15rem}",""]),t.exports=a},"9cda":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"detail-container"},[t.showRoleEditor?t._e():i("div",{staticClass:"detail-header"},["T"==t.contentData.actions.role_add?i("button",{staticClass:"action-btn",on:{click:t.showEditRoleView}},[t._v("新增角色")]):t._e()]),t.showRoleEditor?i("role-editor",{attrs:{roleInfo:t.currentRoleInfo,authInfo:t.authInfo,authTree:t.authTree,editRole:t.editRole,old_name:t.currentRoleInfo.name},on:{reloadRoleList:t.loadRoleList}}):i("div",{staticClass:"table-container"},[i("detail-table",{attrs:{tbType:t.tbType,tableHeader:t.tableHeader,tbData:t.contentData.data},on:{editRoleClicked:t.editRoleInfo,deleteRoleClicked:t.deleteRole}})],1),i("confirm",{attrs:{isShow:t.showConfirm,confirmParams:t.confirmParams},on:{confirmClicked:t.confirmClicked}})],1)},o=[],n=(i("b0c0"),i("d3b7"),i("bff1")),r=i("bcc8"),s=i("2161"),c=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"role-editor hideScrollBar"},[i("div",{staticClass:"form-group lineheight1rem"},[i("label",[t._v("名字:")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.roleInfo.name,expression:"roleInfo.name",modifiers:{trim:!0}}],staticClass:"form-ipt",attrs:{type:"text"},domProps:{value:t.roleInfo.name},on:{input:function(a){a.target.composing||t.$set(t.roleInfo,"name",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),i("div",{staticClass:"form-group h-flex"},[i("label",[t._v("角色权限:")]),i("div",{staticStyle:{flex:"1"}},[i("ul",{staticClass:"tree-box"},t._l(t.authTree.auth_info.auth_info,(function(a,e){return i("li",{key:e,staticClass:"tree-item"},[i("a",{staticClass:"collapse",attrs:{"data-toggle":"collapse","aria-expanded":a.expand?"":"false"},on:{click:function(i){return t.itemClicked(a)}}}),i("label",[i("input",{staticClass:"checkbox",attrs:{type:"checkbox","data-url":a.name},domProps:{checked:t.rootAuths[a.name]},on:{change:function(i){return t.ckdChanged(a)}}}),t._v(" "+t._s(a.name)+" ")]),i("ul",{class:"tree-box child"+(a.expand?"":" hide")},t._l(a.auth_detail,(function(e,o){return i("li",{key:o,staticClass:"tree-item"},[i("a",{staticClass:"collapse",attrs:{"data-toggle":"collapse","aria-expanded":e.expand?"":"false"},on:{click:function(a){return t.itemClicked(e)}}}),i("label",[i("input",{staticClass:"checkbox",attrs:{type:"checkbox","data-url":e.name},domProps:{checked:t.auths[e.name]},on:{change:function(i){return t.ckdChanged(e,a)}}}),t._v(" "+t._s(e.show_name)+" ")]),i("ul",{class:"tree-box child"+(e.expand?"":" hide")},t._l(e.auth_detail,(function(o,n){return i("li",{key:n,staticClass:"tree-item"},[i("a",{staticClass:"collapse",attrs:{"data-toggle":"collapse","aria-expanded":o.expand?"":"false"}}),i("label",[i("input",{staticClass:"checkbox",attrs:{type:"checkbox","data-url":o.name},domProps:{checked:t.auths[o.name]},on:{change:function(i){return t.ckdChanged(o,e,a)}}}),t._v(" "+t._s(o.show_name)+" ")])])})),0)])})),0)])})),0),i("div",{staticClass:"actions"},[i("button",{staticClass:"action",attrs:{value:"保存"},on:{click:t.saveRoleInfo}},[t._v("保存")]),i("button",{staticClass:"action",attrs:{value:"取消"},on:{click:t.cancelEdit}},[t._v("取消")])])])])])},l=[],d=i("2c17"),f=i("4328"),m=i.n(f),h={props:["editRole","authInfo","authTree","roleInfo","old_name"],data:function(){return{auths:{},rootAuths:{}}},created:function(){if(this.authInfo)for(var t in this.authInfo.extra_permission)this.auths[this.authInfo.extra_permission[t]]=!0;for(var a in this.auths=Object.assign({},this.auths),this.authTree.auth_info.auth_info){var i=this.authTree.auth_info.auth_info[a];if(void 0!=this.auths[i.name]&&delete this.auths[i.name],this.rootAuths[i.name]=!1,i.auth_detail)for(var e in i.auth_detail){var o=i.auth_detail[e];if(this.auths[o.name]){this.rootAuths[i.name]=!0;break}if(o.auth_detail)for(var n in o.auth_detail){var r=o.auth_detail[n];if(this.auths[r.name]){this.rootAuths[i.name]=!0;break}}}}this.rootAuths=Object.assign({},this.rootAuths)},methods:{itemClicked:function(t){t.expand=!t.expand},saveRoleInfo:function(){var t=this,a="",i={name:this.roleInfo["name"],extra_permission:[]};if(this.editRole?(a=n["default"].urls.roleEdit,i["old_name"]=this.old_name):a=n["default"].urls.roleAdd,this.roleInfo["name"]){for(var e in this.auths)this.auths[e]&&i["extra_permission"].push(e);for(var o in this.rootAuths)this.rootAuths[o]&&i["extra_permission"].push(o);Object(d["a"])({url:a,method:"post",data:m.a.stringify(i)}).then((function(a){if(200==a.status){var i=a.data;200==i.code?(t.cancelEdit(),t.$emit("reloadRoleList")):t.$parent.alert(i.message||"请求失败")}})).catch((function(t){}))}else this.$parent.alert("名字必须填写")},cancelEdit:function(){this.$parent.showRoleEditor=!1,this.$parent.currRoleInfo={},this.$parent.editRole=!1,this.$parent.$parent.subTitle2="",this.$parent.roleInfo=null,this.initAuthTree()},initAuthTree:function(){for(var t in this.authTree.auth_info.auth_info){var a=this.authTree.auth_info.auth_info[t];if(a.expand=!1,a.auth_detail)for(var i in a.auth_detail){var e=a.auth_detail[i];e.expand=!1}}},ckdChanged:function(t,a,i){var e=t.name,o={},n={};if(i)if(o[e]=!this.auths[e],o[e])o[a.name]=!0,n[i.name]=!0;else{var r=!1;for(var s in a.auth_detail){var c=a.auth_detail[s];if(this.auths[c.name]&&0!=o[c.name]){r=!0;break}}if(o[a.name]=r,!r){var l=!1;for(var d in i.auth_detail){var f=i.auth_detail[d];if(this.auths[f.name]&&0!=o[f.name]){l=!0;break}}n[i.name]=l}}else if(a)if(o[e]=!this.auths[e],o[e])for(var m in n[a.name]=!0,t.auth_detail){var h=t.auth_detail[m];o[h.name]=!0}else{for(var u in t.auth_detail){var p=t.auth_detail[u];o[p.name]=!1}var v=!1;for(var b in a.auth_detail){var g=a.auth_detail[b];if(this.auths[g.name]&&0!=o[g.name]){v=!0;break}}n[a.name]=v}else if(n[e]=!this.rootAuths[e],n[e])for(var k in t.auth_detail){var w=t.auth_detail[k];for(var A in o[w.name]=!0,w.auth_detail){var y=w.auth_detail[A];o[y.name]=!0}}else for(var x in t.auth_detail){var _=t.auth_detail[x];for(var C in o[_.name]=!1,_.auth_detail){var R=_.auth_detail[C];o[R.name]=!1}}this.auths=Object.assign({},this.auths,o),this.rootAuths=Object.assign({},this.rootAuths,n)}}},u=h,p=(i("adf4"),i("2877")),v=Object(p["a"])(u,c,l,!1,null,"24aad5a2",null),b=v.exports,g={inject:["reload","alert","showLoading","hideLoading"],data:function(){return{tableHeader:n["default"].tableHeader.roleManager,showRoleEditor:!1,currentRoleInfo:{},authTree:null,authInfo:null,editRole:!1,showConfirm:!1,confirmParams:{},tbType:"role",contentData:{actions:[],data:{}}}},components:{"detail-table":r["a"],confirm:s["a"],"role-editor":b},created:function(){this.loadAuthTree(),this.loadRoleList(1)},methods:{confirmClicked:function(t){var a=this;if(this.showConfirm=!1,t){var i="",e="get",o={},r=null,s=null;"del"==t.type&&(i=n["default"].urls.roleDel,e="get",o={name:t.name},r=this.loadRoleList,s=function(t){a.alert(t||"删除角色失败")}),Object(d["a"])({url:i,method:e,params:o}).then((function(t){if(200==t.status){var a=t.data;200==a.code?r():s(a.message)}else s("操作失败")})).catch((function(t){s(t.message)}))}},showEditRoleView:function(){this.showRoleEditor=!0,this.currentRoleInfo={},this.editRole=!1,this.$parent.subTitle2=this.editRole?"编辑角色":"新增角色"},editRoleInfo:function(t){this.editRole=!0,this.$parent.subTitle2=this.editRole?"编辑角色":"新增角色",this.loadAuthInfo(this.contentData.data[t].name),this.currentRoleInfo=Object.assign({},this.contentData.data[t])},deleteRole:function(t){var a={type:"del",header:"操作提示",name:this.contentData.data[t]["name"]};this.confirmParams=Object.assign({},a),this.showConfirm=!0},loadRoleList:function(){var t=this;this.showLoading(),Object(d["a"])({url:n["default"].urls.roleList,method:"get"}).then((function(a){if(200==a.status){var i=a.data;200==i.code?t.contentData=Object.assign({},i.data):t.alert(i.message||"请求角色列表失败")}else t.alert("请求角色列表失败")})).catch((function(a){t.alert("请求角色列表失败")})).then((function(){t.hideLoading()}))},loadAuthTree:function(){var t=this;return this.authTree?(new Promise).resolve():d["a"].get(n["default"].urls.userAuthTree).then((function(a){if(200==a.status){var i=a.data;if(200==i.code){var e=i.data;for(var o in e.auth_info.auth_info){var n=e.auth_info.auth_info[o];if(n.expand=!1,n.auth_detail)for(var r in n.auth_detail){var s=n.auth_detail[r];if(s.expand=!1,s.auth_detail)for(var c in s.auth_detail){var l=s.auth_detail[c];l.expand=!0}}}t.authTree=Object.assign({},e)}}})).catch((function(t){}))},loadAuthInfo:function(t){var a=this;return Object(d["a"])({url:n["default"].urls.roleAuthInfo,methods:"get",params:{name:t}}).then((function(t){if(200==t.status){var i=t.data;200==i.code&&(a.authInfo=Object.assign({},i.data),a.showRoleEditor=!0)}})).catch((function(t){}))}}},k=g,w=Object(p["a"])(k,e,o,!1,null,null,null);a["default"]=w.exports},"9f6d":function(t,a,i){"use strict";var e=i("fc49"),o=i.n(e);o.a},adf4:function(t,a,i){"use strict";var e=i("2bb2"),o=i.n(e);o.a},e902:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAPCAYAAAAlH6X5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjI5NjEwRkIyQkVDMTFFN0I2M0RBNjk4NkMwODQwQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjI5NjEwRkMyQkVDMTFFN0I2M0RBNjk4NkMwODQwQkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMjk2MTBGOTJCRUMxMUU3QjYzREE2OTg2QzA4NDBCRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMjk2MTBGQTJCRUMxMUU3QjYzREE2OTg2QzA4NDBCRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjefXEsAAAAiSURBVHjaYrh37x4DEwMDwx8QwQwiwFxGOOs/nEVAAiDAAD0iBbdysbFuAAAAAElFTkSuQmCC"},eaec:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDRENzdFMzQyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDRENzdFMzUyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NEQ3N0UzMjJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NEQ3N0UzMzJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqAl8X0AAABASURBVHjaYrx3795/BjIBC5RmJEPvfyYGCgAhzf8p0cwwODWzEOFHdDFGXJoZsWhkHGYBRkgzI82jiqycBRBgAEsYCb61/i3PAAAAAElFTkSuQmCC"},fc49:function(t,a,i){var e=i("196b");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=i("499e").default;o("94ae02be",e,!0,{sourceMap:!1,shadowMode:!1})}}]);