(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2518cf1b"],{"017c":function(t,e,i){"use strict";var a=i("a8c8"),o=i.n(a);o.a},1330:function(t,e,i){"use strict";var a=i("d0b8"),o=i.n(a);o.a},"196b":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".confirm[data-v-5f6fa4c7]{z-index:9997;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.confirm[data-v-5f6fa4c7],.confirm-mark[data-v-5f6fa4c7]{position:fixed;width:100%;left:0;top:0}.confirm-mark[data-v-5f6fa4c7]{height:100%;background:#000;opacity:.5;z-index:9998}.confirm-box[data-v-5f6fa4c7]{border-radius:.25rem;margin:auto;margin-top:1rem;width:18.75rem;background:#fff;position:relative;z-index:9999;padding-bottom:.34rem}.confirm-box[data-v-5f6fa4c7],.confirm-header[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-header[data-v-5f6fa4c7]{padding:0 .5rem;border-bottom:1px solid #e5e5e5;font-size:.5625rem;line-height:1.75rem;height:1.75rem;color:#676b6d}.confirm-body[data-v-5f6fa4c7]{position:relative;padding:.5rem}.confirm-body[data-v-5f6fa4c7],.confirm-form-line[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.confirm-form-line[data-v-5f6fa4c7]{height:1.06rem;margin-bottom:.5rem;font-size:.4375rem;display:-webkit-box;display:-ms-flexbox;display:flex;color:#676b6d}.confirm-form-line.line2[data-v-5f6fa4c7]{display:block}.confirm-form-line.line2[data-v-5f6fa4c7],.confirm-form-line.line2>div[data-v-5f6fa4c7]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.confirm-form-line.line2>div[data-v-5f6fa4c7]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:0}.confirm-form-line.line2>div>label[data-v-5f6fa4c7]{display:inline-block;width:3rem;text-align:right}.confirm-form-line.line2>div>div[data-v-5f6fa4c7]{display:inline-block;width:0;-webkit-box-flex:1;-ms-flex:1;flex:1}.confirm-form-line label[data-v-5f6fa4c7]{width:16%;text-align:right;font-size:.4375rem;padding:0 .5rem;height:100%;line-height:1.06rem}.confirm-form-line .monthBox[data-v-5f6fa4c7]{display:inline-block;padding-top:.15rem}.confirm-form-line.line2>div>div .sub[data-v-5f6fa4c7],.confirm-form-line .monthBox .sub[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-right:none;cursor:pointer}.confirm-form-line.line2>div>div .add[data-v-5f6fa4c7],.confirm-form-line .monthBox .add[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-left:none;margin-right:.2rem;cursor:pointer}.confirm-form-line.line2>div>div .num[data-v-5f6fa4c7],.confirm-form-line .monthBox .num[data-v-5f6fa4c7]{vertical-align:top;display:inline-block;width:1rem;height:.7rem;border:1px solid #333;text-align:center;outline:none}.confirm-form-line-right[data-v-5f6fa4c7]{-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:1.06rem;padding:0 .5rem}.confirm-form-line-right[data-v-5f6fa4c7],.confirm-form-line-right input[data-v-5f6fa4c7]{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-form-line-right input[data-v-5f6fa4c7]{width:100%;display:block;padding:.2rem .375rem;font-size:.4375rem;color:#555;background-color:#fff;border:1px solid #ccc;border-radius:.125rem}.confirm-footer[data-v-5f6fa4c7]{width:100%;border-top:1px solid #e5e5e5;padding:0 .5rem;height:1.75rem;line-height:1.75rem;text-align:right}.confirm-footer[data-v-5f6fa4c7],.confirm-footer button[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-footer button[data-v-5f6fa4c7]{display:inline-block;font-size:.4375rem}.confirm-ok[data-v-5f6fa4c7]{background-color:#26af95;color:#fff;width:2.5rem}.confirm-cancel[data-v-5f6fa4c7],.confirm-ok[data-v-5f6fa4c7]{padding:.2rem .375rem;border-radius:.125rem;border:1px solid transparent;cursor:pointer}.confirm-cancel[data-v-5f6fa4c7]{background-color:#fff;border-color:#ccc;color:#333;margin-left:1rem}.fade-enter-active[data-v-5f6fa4c7]{-webkit-animation:fade-in-data-v-5f6fa4c7 .3s ease-in;animation:fade-in-data-v-5f6fa4c7 .3s ease-in}.fade-leave-active[data-v-5f6fa4c7]{-webkit-animation:fade-out-data-v-5f6fa4c7 .5s ease-out;animation:fade-out-data-v-5f6fa4c7 .5s ease-out}.ease-enter-active[data-v-5f6fa4c7]{-webkit-animation:easein-data-v-5f6fa4c7 .3s ease-in;animation:easein-data-v-5f6fa4c7 .3s ease-in}.ease-leave-active[data-v-5f6fa4c7]{-webkit-animation:easeout-data-v-5f6fa4c7 .3s ease-out;animation:easeout-data-v-5f6fa4c7 .3s ease-out}@-webkit-keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@-webkit-keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@-webkit-keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@-webkit-keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}@keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}",""]),t.exports=e},2161:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"confirm"},[i("transition",{attrs:{name:"fade"}},[t.isShow?i("div",{staticClass:"confirm-mark"}):t._e()]),i("transition",{attrs:{name:"ease"}},[t.isShow?i("div",{staticClass:"confirm-box"},[i("div",{staticClass:"confirm-header"},[t._v(t._s(t.confirmParams.header))]),"modifyPwd"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},[i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("账户名:")]),i("div",{staticClass:"confirm-form-line-right"},[t._v(" "+t._s(t.confirmParams.username)+" ")])]),i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("密码:")]),i("div",{staticClass:"confirm-form-line-right"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.pwd,expression:"pwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("确认密码:")]),i("div",{staticClass:"confirm-form-line-right"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.confirmPwd,expression:"confirmPwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.confirmPwd},on:{input:function(e){e.target.composing||(t.confirmPwd=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]):t._e(),"del"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},[i("div",{staticClass:"confirm-form-line"},[t._v("确定删除?")])]):t._e(),"modifyStatus"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},[i("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))])]):t._e(),"yfdRobot"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},["outline"==t.confirmParams.tp||"delete"==t.confirmParams.tp?i("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))]):"globalSetting"==t.confirmParams.tp?i("div",{staticClass:"confirm-form-line line2"},[i("div",[i("label",[t._v("H5全局权限")]),i("div",[i("div",{staticClass:"line",staticStyle:{"margin-bottom":".5rem",display:"inline-block"}},[t._v(" 微信群 "),i("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.groupStatu},on:{changeSwitchStatus:t.changeGroupStatus}})],1),i("div",{staticClass:"line",staticStyle:{display:"inline-block","margin-left":"1rem"}},[t._v(" 朋友圈 "),i("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.friendStatu},on:{changeSwitchStatus:t.changeFriendStatus}})],1)])]),i("div",[i("label",[t._v("最大同步群数")]),i("div",[i("div",{staticClass:"sub",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.subNumber(e)}}},[t._v("-")]),i("div",{staticClass:"num"},[t._v(t._s(t.confirmParams.maxGroup))]),i("div",{staticClass:"add",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addNumber(e)}}},[t._v("+")]),t._v(" 限10个以内 ")])]),i("div",[i("label",[t._v("监控设置")]),i("div",[t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_one?i("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start"}},[i("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("1群：")]),i("div",{staticClass:"group_setting",staticStyle:{display:"inline-block","font-size":"0.375rem",color:"red"}},[t._v(" 开启指令："+t._s(t.confirmParams.adminGroupSettings.group_one.open_monitor)+" "),i("br"),t._v(" 关闭指令："+t._s(t.confirmParams.adminGroupSettings.group_one.close_monitor)+" ")])]):t._e(),t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_two?i("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start","margin-top":"0.3rem"}},[i("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("2群：")]),i("div",{staticClass:"group_setting",staticStyle:{display:"inline-block",flex:"1"}},[i("div",{staticClass:"action-btn",style:t.confirmParams.setGroupTwo?"background-color: #ccc; color: white; width: fit-content; display: inline-block;":"display: inline-block; width: fit-content;",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$parent.changeGroupTwoStatu(e)}}},[t._v("设置")]),t.confirmParams.setGroupTwo?i("div",{staticClass:"action-btn",staticStyle:{float:"right",display:"inline-block"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$parent.refreshAdminGroupSettings(e)}}},[t._v("刷新")]):t._e(),t.confirmParams.setGroupTwo?i("div",{staticClass:"table",staticStyle:{width:"100%",height:"5rem",overflow:"hidden","overflow-y":"auto"}},[i("table",[i("thead",[i("tr",{staticStyle:{height:"1rem"}},[i("td",{staticStyle:{width:"1.5rem"}},[t._v("序号")]),i("td",[t._v("群名")])])]),i("tbody",t._l(t.confirmParams.adminGroupSettings.group_two,(function(e,a){return i("tr",{key:a,staticStyle:{height:"1rem"}},[i("td",{staticStyle:{width:"1.5rem"}},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.confirmParams.adminGroupSettings.select_group.indexOf(e.group_id)>=0},on:{change:function(e){return e.preventDefault(),e.stopPropagation(),t.$parent.changeGroupTwoSelect(a)}}}),t._v(t._s(a+1))]),i("td",[t._v(t._s(e.group_name))])])})),0)])]):t._e(),t.confirmParams.setGroupTwo?i("div",{staticStyle:{"font-size":".375rem",color:"red"}},[t._v("已选中："+t._s(t.selectedGroupName))]):t._e()])]):t._e()])]),i("div",{staticStyle:{"margin-top":"0.2rem"}},[i("label",[t._v("H5顶部提示")]),i("div",{staticStyle:{width:"100%",height:"3rem"}},[i("html-editor",{staticClass:"headerMsgEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.head_message,editable:!0}})],1)]),i("div",{staticStyle:{"margin-top":"0.2rem"}},[i("label",[t._v("淘口令小尾巴")]),i("div",{staticStyle:{width:"100%",height:"3rem"}},[i("html-editor",{staticClass:"tkCodeEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.tk_code,editable:!0}})],1)])]):i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("选择续时时间")]),i("div",{staticClass:"monthBox"},[i("div",{staticClass:"sub",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.subNumber(e)}}},[t._v("-")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmParams.month,expression:"confirmParams.month"}],staticClass:"num",attrs:{type:"text"},domProps:{value:t.confirmParams.month},on:{input:function(e){e.target.composing||t.$set(t.confirmParams,"month",e.target.value)}}}),i("div",{staticClass:"add",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addNumber(e)}}},[t._v("+")]),t._v(" 月 ")])])]):t._e(),i("div",{staticClass:"confirm-footer"},[i("button",{staticClass:"confirm-ok",on:{click:function(e){return t.confirm(1)}}},[t._v("确认")]),i("button",{staticClass:"confirm-cancel",on:{click:function(e){return t.confirm(0)}}},[t._v("取消")])])]):t._e()])],1)},o=[],r=(i("c975"),i("a15b"),i("406a")),s=i("a0f6"),n={props:["isShow","confirmParams"],data:function(){return{pwd:"",confirmPwd:""}},components:{"switch-progress":r["a"],htmlEditor:s["a"]},computed:{selectedGroupName:function(){for(var t=[],e=0;e<this.confirmParams.adminGroupSettings.group_two.length;e++)this.confirmParams.adminGroupSettings.select_group.indexOf(this.confirmParams.adminGroupSettings.group_two[e].group_id)>=0&&t.push(this.confirmParams.adminGroupSettings.group_two[e].group_name);return t.join(",")}},methods:{changeGroupStatus:function(t){this.confirmParams.groupStatu=t.status},changeFriendStatus:function(t){this.confirmParams.friendStatu=t.status},subNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month>1&&(this.confirmParams.month-=1):"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup>1&&(this.confirmParams.maxGroup-=1)},addNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month=this.confirmParams.month-0+1:"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup<10&&(this.confirmParams.maxGroup=this.confirmParams.maxGroup-0+1)},confirm:function(t){if(0==t)this.$emit("confirmClicked");else switch(this.confirmParams.type){case"modifyPwd":this.confirmModifyPwd();break;case"del":this.confirmDel();break;case"modifyStatus":this.confirmModifyStatus();break;case"yfdRobot":this.confirmModifyStatus();break;default:return}},confirmModifyStatus:function(){if(this.confirmParams.tp&&"globalSetting"==this.confirmParams.tp)for(var t in this.$children)this.$children[t].$el.className.indexOf("headerMsgEditor")>=0&&(this.confirmParams.tipsStringSettings["head_message"]=this.$children[t].getContent()),this.$children[t].$el.className.indexOf("tkCodeEditor")>=0&&(this.confirmParams.tipsStringSettings["tk_code"]=this.$children[t].getContent());this.$emit("confirmClicked",this.confirmParams)},confirmDel:function(){this.$emit("confirmClicked",this.confirmParams)},confirmModifyPwd:function(){if(this.pwd)if(this.confirmPwd)if(this.confirmPwd==this.pwd){var t=this.confirmParams;t.pwd=this.pwd,this.$emit("confirmClicked",t),this.pwd="",this.confirmPwd=""}else this.$parent.alert("两次输入的密码不一致");else this.$parent.alert("请再次输入新密码");else this.$parent.alert("请输入新密码")}}},d=n,c=(i("9f6d"),i("2877")),l=Object(c["a"])(d,a,o,!1,null,"5f6fa4c7",null);e["a"]=l.exports},"35f9":function(t,e,i){var a=i("24fb"),o=i("1de5"),r=i("558f");e=a(!1);var s=o(r);e.push([t.i,".select-box[data-v-60bcd88e]{width:5rem;height:1rem;line-height:1rem;border:1px solid #d9d9dd;border-radius:.125rem!important}.select-box[data-v-60bcd88e],.select-ipt[data-v-60bcd88e]{display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:.4375rem}.select-ipt[data-v-60bcd88e]{-webkit-appearance:menulist;-moz-appearance:menulist;appearance:menulist;width:100%;height:100%;padding-left:.34375rem;border:none;outline:none;vertical-align:top;border-radius:.125rem!important;cursor:pointer}.select-dropdown[data-v-60bcd88e]{width:.3125rem;height:.1875rem;background:url("+s+") no-repeat;background-size:100% 100%;display:inline-block;margin-left:.15625rem;vertical-align:middle}.select-options[data-v-60bcd88e]{overflow:hidden;position:absolute;background-color:#fff;opacity:1;z-index:8000;width:5rem;height:auto;border-radius:.125rem;-webkit-box-shadow:0 0 .1875rem hsla(0,0%,60.4%,.5);box-shadow:0 0 .1875rem hsla(0,0%,60.4%,.5);max-height:8.125rem;overflow-y:scroll}.select-option[data-v-60bcd88e],.select-options[data-v-60bcd88e]{-webkit-box-sizing:border-box;box-sizing:border-box}.select-option[data-v-60bcd88e]{padding-left:.34375rem;padding-right:.34375rem;height:1rem;line-height:1rem;font-size:.4375rem;white-space:nowrap;overflow-x:hidden}.select-option.selected[data-v-60bcd88e]{background-color:#4880ea;color:#fff}.ease-enter-active[data-v-60bcd88e]{-webkit-animation:easein-data-v-60bcd88e .2s ease-in;animation:easein-data-v-60bcd88e .2s ease-in}.ease-leave-active[data-v-60bcd88e]{-webkit-animation:easeout-data-v-60bcd88e .2s ease-out;animation:easeout-data-v-60bcd88e .2s ease-out}@-webkit-keyframes easein-data-v-60bcd88e{0%{height:0%}to{height:100%}}@keyframes easein-data-v-60bcd88e{0%{height:0%}to{height:100%}}@-webkit-keyframes easeout-data-v-60bcd88e{0%{height:0%}to{height:0%}}@keyframes easeout-data-v-60bcd88e{0%{height:0%}to{height:0%}}.pop-box .body .pop-groups.user-level-selector[data-v-60bcd88e]{width:100%;height:1.25rem;line-height:1.25rem;font-size:.4375rem;margin-top:1rem}.pop-box .body .pop-groups.user-level-selector label[data-v-60bcd88e]{width:4.28125rem;text-align:right;height:1.25rem;line-height:1.25rem}.pop-box .body .pop-groups.user-level-selector .select-box[data-v-60bcd88e]{width:9.375rem;height:1.25rem;line-height:1.25rem;color:#999;font-size:.4375rem;margin-left:.25rem}",""]),t.exports=e},"3ca3":function(t,e,i){"use strict";var a=i("6547").charAt,o=i("69f3"),r=i("7dd0"),s="String Iterator",n=o.set,d=o.getterFor(s);r(String,"String",(function(t){n(this,{type:s,string:String(t),index:0})}),(function(){var t,e=d(this),i=e.string,o=e.index;return o>=i.length?{value:void 0,done:!0}:(t=a(i,o),e.index+=t.length,{value:t,done:!1})}))},"6a4a":function(t,e,i){var a=i("35f9");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("56635bba",a,!0,{sourceMap:!1,shadowMode:!1})},"6b9b":function(t,e,i){"use strict";var a=i("6a4a"),o=i.n(a);o.a},"707d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"select",on:{blur:t.hideSelector}},[i("label",[t._v(t._s(t.selectParams.label)+":")]),i("div",{staticClass:"select-box"},[i("select",{staticClass:"select-ipt",domProps:{value:t.value},on:{change:t.optClicked}},t._l(t.selectParams.options,(function(e,a){return i("option",{key:a,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)])])},o=[],r={props:["selectParams","value"],data:function(){return{showOpts:!1}},methods:{hideSelector:function(){this.showOpts=!1},selectIptClicked:function(){this.showOpts=!this.showOpts},optClicked:function(t){this.$emit("selectOptsClicked",t.target.value),this.hideSelector()}}},s=r,n=(i("6b9b"),i("2877")),d=Object(n["a"])(s,a,o,!1,null,"60bcd88e",null);e["a"]=d.exports},"852f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showEditor,expression:"!showEditor"}],staticClass:"detail-data-box"},[i("header",{staticClass:"search-header"},[i("div",{staticClass:"search-group"},[i("label",[t._v("商品ID")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.goods_id,expression:"goods_id"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.goods_id},on:{input:function(e){e.target.composing||(t.goods_id=e.target.value)}}})]),i("selector",{staticClass:"search-group",attrs:{value:t.module,selectParams:t.moduleSelectParams},on:{selectOptsClicked:t.moduleOptsClicked}}),i("selector",{staticClass:"search-group",attrs:{value:t.status,selectParams:t.statusSelectParams},on:{selectOptsClicked:t.statusOptsClicked}}),i("button",{staticClass:"action-btn",on:{click:function(e){return t.loadGoods(1)}}},[t._v("搜索")]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.showAddBtn,expression:"showAddBtn"}],staticClass:"action-btn",on:{click:t.addGood}},[t._v("新增")]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.showImportBtn,expression:"showImportBtn"}],staticClass:"action-btn",on:{click:t.importGoods}},[t._v("批量导入")]),i("form",{ref:"fileForm",staticStyle:{display:"none"},attrs:{enctype:"multipart/form-data"}},[i("input",{ref:"excelIpt",attrs:{type:"file",accept:".xls, .xlsx",name:"file"},on:{change:t.uploadExcel}})])],1),i("div",{staticClass:"table-container hideScrollBar"},[i("detail-table",{attrs:{tbType:t.tbType,tbData:t.tbData,tableHeader:t.tableHeader},on:{pubBtnClicked:t.changeDirectStatus,editBtnClicked:t.editDirect}})],1),i("page",{attrs:{pageData:t.pageData},on:{loadList:t.loadGoods}})],1),i("confirm",{attrs:{isShow:t.showConfirm,confirmParams:t.confirmParams},on:{confirmClicked:t.confirmClicked}}),t.showEditor?i("direct-editor",{attrs:{direct:t.direct},on:{saveDirect:t.saveDirect,cancelEdit:t.cancelEdit}}):t._e()],1)},o=[],r=(i("d3b7"),i("3ca3"),i("ddb0"),i("bff1")),s=i("707d"),n=i("2c17"),d=i("4328"),c=i.n(d),l=i("bcc8"),m=i("2161"),f=i("ef59"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail-data-box direct-editor"},[i("div",{staticClass:"editor-header"},[t._v("新增/修改定向商品")]),i("div",{staticClass:"editor-body hideScrollBar"},[i("div",{staticClass:"editor-groups"},[i("label",[t._v("所属模块")]),i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.module,expression:"module"}],attrs:{disabled:t.direct.id},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.module=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"1"}},[t._v("搜索")])])])]),i("div",{staticClass:"editor-groups"},[i("label",[t._v("商品ID")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.goods_id,expression:"goods_id"}],attrs:{type:"text",placeholder:"请输入商品ID,并按回车键",disabled:t.direct.id},domProps:{value:t.goods_id},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getGoodsInfo(e)},input:function(e){e.target.composing||(t.goods_id=e.target.value)}}})])]),i("div",{staticClass:"editor-groups"},[i("label",[t._v("商品名称")]),i("div",[i("span",[t._v(t._s(t.goods_name))])])]),i("div",{staticClass:"editor-groups"},[i("label",[t._v("商家佣金比例")]),i("div",[i("span",[t._v(t._s(t.tkrates))])])]),i("div",{staticClass:"editor-groups"},[i("label",[t._v("优惠券使用时间")]),i("div",[i("flat-picker",{staticClass:"search-time-picker",attrs:{config:t.dateConfig},model:{value:t.use_starttime,callback:function(e){t.use_starttime=e},expression:"use_starttime"}}),t._v(" 至 "),i("flat-picker",{staticClass:"search-time-picker",attrs:{config:t.dateConfig},model:{value:t.use_endtime,callback:function(e){t.use_endtime=e},expression:"use_endtime"}})],1)]),i("div",{staticClass:"editor-groups"},[i("label",[t._v("优惠券领取时间")]),i("div",[i("flat-picker",{staticClass:"search-time-picker",attrs:{config:t.dateConfig},model:{value:t.receive_starttime,callback:function(e){t.receive_starttime=e},expression:"receive_starttime"}}),t._v(" 至 "),i("flat-picker",{staticClass:"search-time-picker",attrs:{config:t.dateConfig},model:{value:t.receive_endtime,callback:function(e){t.receive_endtime=e},expression:"receive_endtime"}})],1)]),i("div",{staticClass:"editor-groups"},[i("label",[t._v("平台佣金比例")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.directed_tkrates,expression:"directed_tkrates"}],attrs:{type:"text"},domProps:{value:t.directed_tkrates},on:{input:function(e){e.target.composing||(t.directed_tkrates=e.target.value)}}})])]),i("div",{staticClass:"editor-groups"},[i("label",[t._v("优惠券链接")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_url,expression:"coupon_url"}],attrs:{type:"text"},domProps:{value:t.coupon_url},on:{input:function(e){e.target.composing||(t.coupon_url=e.target.value)}}})])]),i("div",{staticClass:"editor-groups"},[i("label",[t._v("优惠券金额")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.directed_couponmoney,expression:"directed_couponmoney"}],attrs:{type:"text"},domProps:{value:t.directed_couponmoney},on:{input:function(e){e.target.composing||(t.directed_couponmoney=e.target.value)}}})])]),t.direct.id?i("div",{staticClass:"editor-groups"},[i("label",[t._v("状态")]),i("div",[i("span",[t._v(" "+t._s(t.direct.status)+" ")])])]):t._e(),i("div",{staticClass:"editor-groups"},[i("label"),i("div",[i("button",{staticClass:"action-btn",on:{click:t.saveDirect}},[t._v("保存")]),i("button",{staticClass:"action-btn",on:{click:t.cancelEdit}},[t._v("取消")])])])])])},p=[],h=(i("ac1f"),i("5319"),i("1276"),i("c38f")),v=i.n(h),g=(i("0952"),i("dc1c")),b={inject:["alert"],props:["direct"],components:{"flat-picker":v.a},data:function(){return{dateConfig:{locale:g["Mandarin"],dateFormat:"Y-m-d H:i",enableTime:!0,time_24hr:!0},module:"",goods_id:"",goods_name:"",tkrates:"",directed_tkrates:"",receive_starttime:"",receive_endtime:"",use_starttime:"",use_endtime:"",directed_couponmoney:"",coupon_url:""}},created:function(){this.module="搜索"==this.direct.module?1:0,this.$data["goods_id"]=this.direct.itemid,this.tkrates=(this.direct.tkrates||0)+"%",this.$data["directed_tkrates"]=(this.direct.directed_tkrates||0)+"%",this.$data["goods_name"]=this.direct.itemtitle,this.$data["use_starttime"]=this.direct.use_time?this.direct.use_time.split("至")[0]:"",this.$data["use_endtime"]=this.direct.use_time?this.direct.use_time.split("至")[1]:"",this.$data["receive_starttime"]=this.direct.receive_time?this.direct.receive_time.split("至")[0]:"",this.$data["receive_endtime"]=this.direct.receive_time?this.direct.receive_time.split("至")[1]:"",this.$data["coupon_url"]=this.direct.jump_link,this.$data["directed_couponmoney"]=this.direct.directed_couponmoney},methods:{saveDirect:function(){this.module?this.goods_id?this.use_starttime&&this.use_endtime?this.receive_starttime&&this.receive_endtime?/^\d+(\.?\d+)?%$/.test(this.directed_tkrates)?this.directed_tkrates.replace("%","")>this.tkrates?this.alert("平台佣金比例不能大于商家佣金比例"):this.coupon_url?this.directed_couponmoney?this.$emit("saveDirect",{module:this.module,goods_id:this.$data["goods_id"],goods_name:this.$data["goods_name"],directed_tkrates:this.$data["directed_tkrates"],coupon_url:this.$data["coupon_url"],directed_couponmoney:this.$data["directed_couponmoney"],receive_starttime:this.$data["receive_starttime"],receive_endtime:this.$data["receive_endtime"],use_starttime:this.$data["use_starttime"],use_endtime:this.$data["use_endtime"]}):this.alert("优惠券金额必填"):this.alert("优惠券链接必填"):this.alert("平台佣金比例格式错误"):this.alert("优惠券领取时间必填"):this.alert("优惠券使用时间必填"):this.alert("商品ID为必填"):this.alert("所属模块为必填")},cancelEdit:function(){this.$emit("cancelEdit")},getGoodsInfo:function(){var t=this;this.goods_id&&Object(n["a"])({url:r["default"].urls.directGoodsInfo,method:"get",params:{platform:"tb",goods_id:this.goods_id}}).then((function(e){200==e.status&&"success"==e.data.code&&(t.$data["goods_name"]=e.data.result.title,t.$data["tkrates"]=e.data.result.tkrate+"%")}))}}},_=b,x=(i("1330"),i("2877")),w=Object(x["a"])(_,u,p,!1,null,"32452ed6",null),k=w.exports,y={inject:["reload","alert","showLoading","hideLoading","loadFields","loadTBData"],components:{selector:s["a"],"detail-table":l["a"],confirm:m["a"],page:f["a"],"direct-editor":k},data:function(){return{showAddBtn:!1,showImportBtn:!1,showConfirm:!1,confirmParams:{type:"modifyStatus",header:"操作提示",text:"确定修改商品状态?",idx:0},tbType:"directList",tbData:[],tableHeader:[],goods_id:"",showEditor:!1,module:"",status:"",moduleSelectParams:{label:"模块",options:[{value:"",text:"请选择"},{value:1,text:"搜索"}]},statusSelectParams:{label:"状态",options:[{value:"",text:"请选择"},{value:0,text:"待发布"},{value:1,text:"发布中"},{value:2,text:"已下架"}]},fields:[],pageData:{total:0,page:1,total_page:0},directList:null,direct:null}},created:function(){var t=this;return this.showLoading(),Promise.all([this.loadFields(r["default"].urls.appFields,{field_type:"directedList"}),this.loadTBData(r["default"].urls.directList,{page:1},"get")]).then((function(e){var i=e[0].tableHeader;i[0].push({name:"操作"}),t.tableHeader=i,t.fields=e[0].fields,t.tbData=t.createTBData(e[1]),t.showAddBtn=e[1]["actions"]["directed_add"],t.showImportBtn=e[1]["actions"]["directed_import"]})).catch((function(t){})).then((function(){t.hideLoading()}))},methods:{saveDirect:function(t){var e=this;this.showEditor=!1,this.showLoading();var i={goods_id:t.goods_id,module:t.module,directed_tkrates:t.directed_tkrates,coupon_url:t.coupon_url,directed_couponmoney:t.directed_couponmoney,receive_starttime:t.receive_starttime,receive_endtime:t.receive_endtime,use_starttime:t.use_starttime,use_endtime:t.use_endtime};Object(n["a"])({url:r["default"].urls.editDirect,method:"post",data:c.a.stringify(i)}).then((function(t){200==t.status&&200==t.data.code?e.loadGoods(e.pageData.page||1):e.alert("保存定向商品失败")})).catch((function(t){e.alert("保存定向商品失败")})).then((function(){e.hideLoading()}))},cancelEdit:function(){this.showEditor=!1},moduleOptsClicked:function(t){this.module=t},statusOptsClicked:function(t){this.status=t},addGood:function(){this.direct={},this.showEditor=!0},importGoods:function(){this.$refs.excelIpt.click()},uploadExcel:function(){var t=this;this.showLoading();var e=new FormData(this.$refs.fileForm);Object(n["a"])({url:r["default"].urls.importDirect,method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status&&200==e.data.code?(t.status="",t.module="",t.$data["goods_id"]="",t.loadGoods(1)):t.alert("上传文件失败")})).catch((function(e){t.alert("上传文件失败")})).then((function(){t.hideLoading(),t.$refs.excelIpt.value=""}))},changeDirectStatus:function(t){this.confirmParams.idx=t,"发布中"==this.directList[t].status?this.confirmParams.text="是否确定要下架该商品?":"待发布"==this.directList[t].status&&(this.confirmParams.text="是否确定要发布该商品?"),this.showConfirm=!0},editDirect:function(t){this.direct=this.directList[t],this.showEditor=!0},confirmClicked:function(t){var e=this;this.showConfirm=!1,t&&(this.showLoading(),Object(n["a"])({url:r["default"].urls.directStatu,method:"post",data:c.a.stringify({ids:this.directList[t.idx].id,type:"发布中"==this.directList[t.idx].status?"off":"open"})}).then((function(t){200==t.status?200==t.data.code?e.loadGoods(e.pageData.page||1):e.alert(t.data.message||"修改定向商品状态失败"):e.alert("修改定向商品状态失败")})).catch((function(t){e.alert("修改定向商品状态失败")})).then((function(){e.hideLoading()})))},createTBData:function(t){this.pageData.total=t.total,this.pageData.page=t.page,this.pageData["total_page"]=t.total_page||t.pageCount||0,this.directList=t.data||[];for(var e=[],i=0;i<t.data.length;i++){var a=t.data[i];e.push([]);for(var o=0;o<this.fields.length;o++)"tkrates"==this.fields[o]||"directed_tkrates"==this.fields[o]?e[i].push((a[this.fields[o]]||0)+"%"):e[i].push(a[this.fields[o]]||(0==a[this.fields[o]]?0:"--"));e[i].push({directed_operate:a["directed_operate"]||"F",directed_edit:a["directed_edit"]||"F",status:a["status"]})}return e},loadGoods:function(t){var e=this;this.showLoading(),this.loadTBData(r["default"].urls.directList,{page:t||1,goods_id:this.$data["goods_id"],module:this.module,status:this.status},"get").then((function(t){e.tbData=e.createTBData(t)})).catch((function(t){})).then((function(){e.hideLoading()}))}}},P=y,C=(i("017c"),Object(x["a"])(P,a,o,!1,null,"5b2a9640",null));e["default"]=C.exports},"9f6d":function(t,e,i){"use strict";var a=i("fc49"),o=i.n(a);o.a},a8c8:function(t,e,i){var a=i("c852");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("7c0f545c",a,!0,{sourceMap:!1,shadowMode:!1})},c852:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".detail-container[data-v-5b2a9640]{background-color:#f2f2f2;padding:0;margin:0;overflow-y:scroll}.detail-data-box[data-v-5b2a9640]{margin-top:0}",""]),t.exports=e},cd91:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".direct-editor[data-v-32452ed6]{padding:0;color:#333}.editor-header[data-v-32452ed6]{font-weight:700;height:2.34375rem;line-height:2.34375rem;border-bottom:1px solid #e6e6e6;font-size:.5625rem;padding-left:1.125rem}.editor-body[data-v-32452ed6]{height:0;-webkit-box-flex:1;-ms-flex:1;flex:1;padding:.75rem 1.125rem;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden;overflow-y:scroll}.editor-body[data-v-32452ed6],.editor-groups[data-v-32452ed6]{display:-webkit-box;display:-ms-flexbox;display:flex}.editor-groups[data-v-32452ed6]{width:100%;height:1.25rem;line-height:1.25rem;margin-top:.625rem;font-size:.4375rem}.editor-groups[data-v-32452ed6]:first-child{margin-top:0}.editor-groups label[data-v-32452ed6]{width:3.0625rem;height:100%;line-height:1.25rem}.editor-groups>div[data-v-32452ed6]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;width:0}.editor-groups input[data-v-32452ed6],.editor-groups select[data-v-32452ed6]{font-size:.4375rem;width:15.9375rem;height:100%;line-height:1.25rem;border:1px solid #d9d9d9;border-radius:.125rem;padding:.3125rem;-webkit-box-sizing:border-box;box-sizing:border-box}.editor-groups select[data-v-32452ed6]{-webkit-appearance:menulist}.editor-groups input.search-time-picker[data-v-32452ed6]{width:7.5rem}",""]),t.exports=e},d0b8:function(t,e,i){var a=i("cd91");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("2c570e62",a,!0,{sourceMap:!1,shadowMode:!1})},ddb0:function(t,e,i){var a=i("da84"),o=i("fdbc"),r=i("e260"),s=i("9112"),n=i("b622"),d=n("iterator"),c=n("toStringTag"),l=r.values;for(var m in o){var f=a[m],u=f&&f.prototype;if(u){if(u[d]!==l)try{s(u,d,l)}catch(h){u[d]=l}if(u[c]||s(u,c,m),o[m])for(var p in r)if(u[p]!==r[p])try{s(u,p,r[p])}catch(h){u[p]=r[p]}}}},ef59:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pages-container"},[t._v(" 共搜索到"),i("span",{staticClass:"pages-rows"},[t._v(t._s(t.pageData.total))]),t._v("条数据 "),i("div",{staticClass:"pages-btns"},[i("div",{class:"pageBtn prev"+(1==t.pageData.page?" disabled":""),on:{click:t.loadPrevPage}},[t._v("<")]),t._l(t.toPage-t.fromPage+1,(function(e){return i("div",{key:e,class:"pageBtn"+(e+t.fromPage-1==t.pageData.page?" checked":""),on:{click:function(i){return t.loadList(e+t.fromPage-1)}}},[t._v(t._s(e+t.fromPage-1))])})),i("div",{class:"pageBtn next"+(t.pageData.page==t.pageData.total_page?" disabled":""),on:{click:t.loadNextPage}},[t._v(">")])],2)])},o=[],r={inject:["alert"],props:["pageData"],data:function(){return{}},methods:{loadPrevPage:function(){1!=this.pageData.page?this.loadList(this.pageData.page-1):this.alert("已经是第一页")},loadNextPage:function(){this.pageData.page>=this.pageData.total_page?this.alert("已经是最后一页"):this.loadList(this.pageData.page-0+1)},loadList:function(t){this.$emit("loadList",t)}},computed:{fromPage:function(){var t=1;return t=this.pageData.total_page>9?this.pageData.page<=5?1:this.pageData.total_page-this.pageData.page<=4?this.pageData.total_page-8:this.pageData.page-4:1,t},toPage:function(){var t=9;return t=this.pageData.total_page>9?this.pageData.page<=5?9:this.pageData.total_page-this.pageData.page<=4?this.pageData.total_page-0:this.pageData.page-0+4:this.pageData.total_page-0||1,t}}},s=r,n=i("2877"),d=Object(n["a"])(s,a,o,!1,null,null,null);e["a"]=d.exports},fc49:function(t,e,i){var a=i("196b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("94ae02be",a,!0,{sourceMap:!1,shadowMode:!1})},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);