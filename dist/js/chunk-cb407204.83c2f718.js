(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb407204"],{"196b":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".confirm[data-v-5f6fa4c7]{z-index:9997;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.confirm[data-v-5f6fa4c7],.confirm-mark[data-v-5f6fa4c7]{position:fixed;width:100%;left:0;top:0}.confirm-mark[data-v-5f6fa4c7]{height:100%;background:#000;opacity:.5;z-index:9998}.confirm-box[data-v-5f6fa4c7]{border-radius:.25rem;margin:auto;margin-top:1rem;width:18.75rem;background:#fff;position:relative;z-index:9999;padding-bottom:.34rem}.confirm-box[data-v-5f6fa4c7],.confirm-header[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-header[data-v-5f6fa4c7]{padding:0 .5rem;border-bottom:1px solid #e5e5e5;font-size:.5625rem;line-height:1.75rem;height:1.75rem;color:#676b6d}.confirm-body[data-v-5f6fa4c7]{position:relative;padding:.5rem}.confirm-body[data-v-5f6fa4c7],.confirm-form-line[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.confirm-form-line[data-v-5f6fa4c7]{height:1.06rem;margin-bottom:.5rem;font-size:.4375rem;display:-webkit-box;display:-ms-flexbox;display:flex;color:#676b6d}.confirm-form-line.line2[data-v-5f6fa4c7]{display:block}.confirm-form-line.line2[data-v-5f6fa4c7],.confirm-form-line.line2>div[data-v-5f6fa4c7]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.confirm-form-line.line2>div[data-v-5f6fa4c7]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:0}.confirm-form-line.line2>div>label[data-v-5f6fa4c7]{display:inline-block;width:3rem;text-align:right}.confirm-form-line.line2>div>div[data-v-5f6fa4c7]{display:inline-block;width:0;-webkit-box-flex:1;-ms-flex:1;flex:1}.confirm-form-line label[data-v-5f6fa4c7]{width:16%;text-align:right;font-size:.4375rem;padding:0 .5rem;height:100%;line-height:1.06rem}.confirm-form-line .monthBox[data-v-5f6fa4c7]{display:inline-block;padding-top:.15rem}.confirm-form-line.line2>div>div .sub[data-v-5f6fa4c7],.confirm-form-line .monthBox .sub[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-right:none;cursor:pointer}.confirm-form-line.line2>div>div .add[data-v-5f6fa4c7],.confirm-form-line .monthBox .add[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-left:none;margin-right:.2rem;cursor:pointer}.confirm-form-line.line2>div>div .num[data-v-5f6fa4c7],.confirm-form-line .monthBox .num[data-v-5f6fa4c7]{vertical-align:top;display:inline-block;width:1rem;height:.7rem;border:1px solid #333;text-align:center;outline:none}.confirm-form-line-right[data-v-5f6fa4c7]{-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:1.06rem;padding:0 .5rem}.confirm-form-line-right[data-v-5f6fa4c7],.confirm-form-line-right input[data-v-5f6fa4c7]{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-form-line-right input[data-v-5f6fa4c7]{width:100%;display:block;padding:.2rem .375rem;font-size:.4375rem;color:#555;background-color:#fff;border:1px solid #ccc;border-radius:.125rem}.confirm-footer[data-v-5f6fa4c7]{width:100%;border-top:1px solid #e5e5e5;padding:0 .5rem;height:1.75rem;line-height:1.75rem;text-align:right}.confirm-footer[data-v-5f6fa4c7],.confirm-footer button[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-footer button[data-v-5f6fa4c7]{display:inline-block;font-size:.4375rem}.confirm-ok[data-v-5f6fa4c7]{background-color:#26af95;color:#fff;width:2.5rem}.confirm-cancel[data-v-5f6fa4c7],.confirm-ok[data-v-5f6fa4c7]{padding:.2rem .375rem;border-radius:.125rem;border:1px solid transparent;cursor:pointer}.confirm-cancel[data-v-5f6fa4c7]{background-color:#fff;border-color:#ccc;color:#333;margin-left:1rem}.fade-enter-active[data-v-5f6fa4c7]{-webkit-animation:fade-in-data-v-5f6fa4c7 .3s ease-in;animation:fade-in-data-v-5f6fa4c7 .3s ease-in}.fade-leave-active[data-v-5f6fa4c7]{-webkit-animation:fade-out-data-v-5f6fa4c7 .5s ease-out;animation:fade-out-data-v-5f6fa4c7 .5s ease-out}.ease-enter-active[data-v-5f6fa4c7]{-webkit-animation:easein-data-v-5f6fa4c7 .3s ease-in;animation:easein-data-v-5f6fa4c7 .3s ease-in}.ease-leave-active[data-v-5f6fa4c7]{-webkit-animation:easeout-data-v-5f6fa4c7 .3s ease-out;animation:easeout-data-v-5f6fa4c7 .3s ease-out}@-webkit-keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@-webkit-keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@-webkit-keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@-webkit-keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}@keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}",""]),t.exports=e},2161:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"confirm"},[i("transition",{attrs:{name:"fade"}},[t.isShow?i("div",{staticClass:"confirm-mark"}):t._e()]),i("transition",{attrs:{name:"ease"}},[t.isShow?i("div",{staticClass:"confirm-box"},[i("div",{staticClass:"confirm-header"},[t._v(t._s(t.confirmParams.header))]),"modifyPwd"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},[i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("账户名:")]),i("div",{staticClass:"confirm-form-line-right"},[t._v(" "+t._s(t.confirmParams.username)+" ")])]),i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("密码:")]),i("div",{staticClass:"confirm-form-line-right"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.pwd,expression:"pwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("确认密码:")]),i("div",{staticClass:"confirm-form-line-right"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.confirmPwd,expression:"confirmPwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.confirmPwd},on:{input:function(e){e.target.composing||(t.confirmPwd=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]):t._e(),"del"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},[i("div",{staticClass:"confirm-form-line"},[t._v("确定删除?")])]):t._e(),"modifyStatus"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},[i("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))])]):t._e(),"yfdRobot"==t.confirmParams.type?i("div",{staticClass:"confirm-body"},["outline"==t.confirmParams.tp||"delete"==t.confirmParams.tp?i("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))]):"globalSetting"==t.confirmParams.tp?i("div",{staticClass:"confirm-form-line line2"},[i("div",[i("label",[t._v("H5全局权限")]),i("div",[i("div",{staticClass:"line",staticStyle:{"margin-bottom":".5rem",display:"inline-block"}},[t._v(" 微信群 "),i("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.groupStatu},on:{changeSwitchStatus:t.changeGroupStatus}})],1),i("div",{staticClass:"line",staticStyle:{display:"inline-block","margin-left":"1rem"}},[t._v(" 朋友圈 "),i("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.friendStatu},on:{changeSwitchStatus:t.changeFriendStatus}})],1)])]),i("div",[i("label",[t._v("最大同步群数")]),i("div",[i("div",{staticClass:"sub",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.subNumber(e)}}},[t._v("-")]),i("div",{staticClass:"num"},[t._v(t._s(t.confirmParams.maxGroup))]),i("div",{staticClass:"add",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addNumber(e)}}},[t._v("+")]),t._v(" 限10个以内 ")])]),i("div",[i("label",[t._v("监控设置")]),i("div",[t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_one?i("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start"}},[i("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("1群：")]),i("div",{staticClass:"group_setting",staticStyle:{display:"inline-block","font-size":"0.375rem",color:"red"}},[t._v(" 开启指令："+t._s(t.confirmParams.adminGroupSettings.group_one.open_monitor)+" "),i("br"),t._v(" 关闭指令："+t._s(t.confirmParams.adminGroupSettings.group_one.close_monitor)+" ")])]):t._e(),t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_two?i("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start","margin-top":"0.3rem"}},[i("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("2群：")]),i("div",{staticClass:"group_setting",staticStyle:{display:"inline-block",flex:"1"}},[i("div",{staticClass:"action-btn",style:t.confirmParams.setGroupTwo?"background-color: #ccc; color: white; width: fit-content; display: inline-block;":"display: inline-block; width: fit-content;",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$parent.changeGroupTwoStatu(e)}}},[t._v("设置")]),t.confirmParams.setGroupTwo?i("div",{staticClass:"action-btn",staticStyle:{float:"right",display:"inline-block"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$parent.refreshAdminGroupSettings(e)}}},[t._v("刷新")]):t._e(),t.confirmParams.setGroupTwo?i("div",{staticClass:"table",staticStyle:{width:"100%",height:"5rem",overflow:"hidden","overflow-y":"auto"}},[i("table",[i("thead",[i("tr",{staticStyle:{height:"1rem"}},[i("td",{staticStyle:{width:"1.5rem"}},[t._v("序号")]),i("td",[t._v("群名")])])]),i("tbody",t._l(t.confirmParams.adminGroupSettings.group_two,(function(e,a){return i("tr",{key:a,staticStyle:{height:"1rem"}},[i("td",{staticStyle:{width:"1.5rem"}},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.confirmParams.adminGroupSettings.select_group.indexOf(e.group_id)>=0},on:{change:function(e){return e.preventDefault(),e.stopPropagation(),t.$parent.changeGroupTwoSelect(a)}}}),t._v(t._s(a+1))]),i("td",[t._v(t._s(e.group_name))])])})),0)])]):t._e(),t.confirmParams.setGroupTwo?i("div",{staticStyle:{"font-size":".375rem",color:"red"}},[t._v("已选中："+t._s(t.selectedGroupName))]):t._e()])]):t._e()])]),i("div",{staticStyle:{"margin-top":"0.2rem"}},[i("label",[t._v("H5顶部提示")]),i("div",{staticStyle:{width:"100%",height:"3rem"}},[i("html-editor",{staticClass:"headerMsgEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.head_message,editable:!0}})],1)]),i("div",{staticStyle:{"margin-top":"0.2rem"}},[i("label",[t._v("淘口令小尾巴")]),i("div",{staticStyle:{width:"100%",height:"3rem"}},[i("html-editor",{staticClass:"tkCodeEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.tk_code,editable:!0}})],1)])]):i("div",{staticClass:"confirm-form-line"},[i("label",[t._v("选择续时时间")]),i("div",{staticClass:"monthBox"},[i("div",{staticClass:"sub",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.subNumber(e)}}},[t._v("-")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmParams.month,expression:"confirmParams.month"}],staticClass:"num",attrs:{type:"text"},domProps:{value:t.confirmParams.month},on:{input:function(e){e.target.composing||t.$set(t.confirmParams,"month",e.target.value)}}}),i("div",{staticClass:"add",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addNumber(e)}}},[t._v("+")]),t._v(" 月 ")])])]):t._e(),i("div",{staticClass:"confirm-footer"},[i("button",{staticClass:"confirm-ok",on:{click:function(e){return t.confirm(1)}}},[t._v("确认")]),i("button",{staticClass:"confirm-cancel",on:{click:function(e){return t.confirm(0)}}},[t._v("取消")])])]):t._e()])],1)},r=[],o=(i("c975"),i("a15b"),i("406a")),n=i("a0f6"),c={props:["isShow","confirmParams"],data:function(){return{pwd:"",confirmPwd:""}},components:{"switch-progress":o["a"],htmlEditor:n["a"]},computed:{selectedGroupName:function(){for(var t=[],e=0;e<this.confirmParams.adminGroupSettings.group_two.length;e++)this.confirmParams.adminGroupSettings.select_group.indexOf(this.confirmParams.adminGroupSettings.group_two[e].group_id)>=0&&t.push(this.confirmParams.adminGroupSettings.group_two[e].group_name);return t.join(",")}},methods:{changeGroupStatus:function(t){this.confirmParams.groupStatu=t.status},changeFriendStatus:function(t){this.confirmParams.friendStatu=t.status},subNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month>1&&(this.confirmParams.month-=1):"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup>1&&(this.confirmParams.maxGroup-=1)},addNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month=this.confirmParams.month-0+1:"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup<10&&(this.confirmParams.maxGroup=this.confirmParams.maxGroup-0+1)},confirm:function(t){if(0==t)this.$emit("confirmClicked");else switch(this.confirmParams.type){case"modifyPwd":this.confirmModifyPwd();break;case"del":this.confirmDel();break;case"modifyStatus":this.confirmModifyStatus();break;case"yfdRobot":this.confirmModifyStatus();break;default:return}},confirmModifyStatus:function(){if(this.confirmParams.tp&&"globalSetting"==this.confirmParams.tp)for(var t in this.$children)this.$children[t].$el.className.indexOf("headerMsgEditor")>=0&&(this.confirmParams.tipsStringSettings["head_message"]=this.$children[t].getContent()),this.$children[t].$el.className.indexOf("tkCodeEditor")>=0&&(this.confirmParams.tipsStringSettings["tk_code"]=this.$children[t].getContent());this.$emit("confirmClicked",this.confirmParams)},confirmDel:function(){this.$emit("confirmClicked",this.confirmParams)},confirmModifyPwd:function(){if(this.pwd)if(this.confirmPwd)if(this.confirmPwd==this.pwd){var t=this.confirmParams;t.pwd=this.pwd,this.$emit("confirmClicked",t),this.pwd="",this.confirmPwd=""}else this.$parent.alert("两次输入的密码不一致");else this.$parent.alert("请再次输入新密码");else this.$parent.alert("请输入新密码")}}},s=c,d=(i("9f6d"),i("2877")),l=Object(d["a"])(s,a,r,!1,null,"5f6fa4c7",null);e["a"]=l.exports},"21f0":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDRENzdFMzgyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDRENzdFMzkyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NEQ3N0UzNjJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NEQ3N0UzNzJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu9JCT8AAAAzSURBVHjaYrx3795/BjIBC5RmJEPvfyYGCsBI1MyCHoJE6GHEpZlxNLTpEFVk5SyAAAMAQ6sGvzkOx9MAAAAASUVORK5CYII="},"9f6d":function(t,e,i){"use strict";var a=i("fc49"),r=i.n(a);r.a},b503:function(t,e,i){var a=i("b537");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("499e").default;r("02af8834",a,!0,{sourceMap:!1,shadowMode:!1})},b537:function(t,e,i){var a=i("24fb"),r=i("1de5"),o=i("0993"),n=i("f0c8"),c=i("e902"),s=i("21f0"),d=i("eaec");e=a(!1);var l=r(o),m=r(n),f=r(c),u=r(s),h=r(d);e.push([t.i,".permission-editor[data-v-22c5cefc]{color:#666;overflow:scroll}.checkbox[data-v-22c5cefc]{margin-top:.15rem;vertical-align:sub;position:relative;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:.5rem}.checkbox[data-v-22c5cefc]:checked:after{background:#fff url("+l+') no-repeat 0/auto}.checkbox[data-v-22c5cefc]:after{content:" ";position:absolute;top:-1px;width:.7rem;height:.7rem;overflow:hidden;background:#fff url('+m+") no-repeat 0/auto}.tree-box[data-v-22c5cefc]{background:#fff url("+f+") .25rem/1px repeat-y}.tree-box.child[data-v-22c5cefc]{padding-left:2rem}.tree-item[data-v-22c5cefc]{margin:.3rem 0;background-color:#fff;margin-top:0}.tree-item>a[data-toggle=collapse][data-v-22c5cefc]{padding-left:1rem;background:#fff url("+u+") no-repeat 0/auto;cursor:pointer;padding-left:1.5rem}.tree-item>a[data-toggle=collapse][aria-expanded=false][data-v-22c5cefc]{background:#fff url("+h+') no-repeat 0/auto}.tree-item>label[data-v-22c5cefc]{margin-bottom:.3rem;display:inline-block}.hide[data-v-22c5cefc]{display:none}.radio[data-v-22c5cefc]{position:relative;vertical-align:text-top;z-index:5000;width:0;height:0}.radio[data-v-22c5cefc]:after,.radio[data-v-22c5cefc]:before{z-index:5000;content:"";position:absolute;display:inline-block;width:.625rem;height:.625rem;border-radius:50%;border:1px solid #ccc;background-color:#fff}.radio[data-v-22c5cefc]:checked:after,.radio[data-v-22c5cefc]:checked:before{border-color:#00b050}.radio[data-v-22c5cefc]:after{width:.3rem;height:.3rem;background-color:#ddd;top:.1625rem;left:.1625rem}.radio[data-v-22c5cefc]:checked:after{background-color:#00b050}.actions[data-v-22c5cefc]{margin-top:.5rem;width:100%}.action[data-v-22c5cefc]{width:2.5rem;height:1.0625rem;color:#fff;text-align:center;font-size:.4375rem;cursor:pointer;background-color:#108beb;border-radius:.125rem}.action[data-v-22c5cefc]:last-child{margin-left:1rem}.form-ipt[data-v-22c5cefc]{width:15rem}.tree-item .radio-box[data-v-22c5cefc]{padding-left:2rem}.radio-item[data-v-22c5cefc]{margin-bottom:.3rem}.radio-item label[data-v-22c5cefc]{margin-left:1rem}',""]),t.exports=e},cf1f:function(t,e,i){"use strict";var a=i("b503"),r=i.n(a);r.a},e902:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAPCAYAAAAlH6X5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjI5NjEwRkIyQkVDMTFFN0I2M0RBNjk4NkMwODQwQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjI5NjEwRkMyQkVDMTFFN0I2M0RBNjk4NkMwODQwQkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMjk2MTBGOTJCRUMxMUU3QjYzREE2OTg2QzA4NDBCRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMjk2MTBGQTJCRUMxMUU3QjYzREE2OTg2QzA4NDBCRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjefXEsAAAAiSURBVHjaYrh37x4DEwMDwx8QwQwiwFxGOOs/nEVAAiDAAD0iBbdysbFuAAAAAElFTkSuQmCC"},eaec:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDRENzdFMzQyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDRENzdFMzUyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NEQ3N0UzMjJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NEQ3N0UzMzJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqAl8X0AAABASURBVHjaYrx3795/BjIBC5RmJEPvfyYGCgAhzf8p0cwwODWzEOFHdDFGXJoZsWhkHGYBRkgzI82jiqycBRBgAEsYCb61/i3PAAAAAElFTkSuQmCC"},f3c5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail-container"},[t.showEditor?t._e():i("div",{staticClass:"detail-header"},["T"==t.contentData.actions.menu_add?i("button",{staticClass:"action-btn",on:{click:function(e){return t.showEditView("menu")}}},[t._v("新增主菜单")]):t._e(),"T"==t.contentData.actions.effect_add?i("button",{staticClass:"action-btn",on:{click:function(e){return t.showEditView("effect")}}},[t._v("新增权限")]):t._e(),"T"==t.contentData.actions.auth_add?i("button",{staticClass:"action-btn",on:{click:function(e){return t.showEditView("auth")}}},[t._v("新增功能")]):t._e()]),t.showEditor?t._e():i("div",{staticClass:"table-container"},[i("detail-table",{attrs:{tableBodyClick:t.tableBodyClick,tableHeaderFixed:t.tableHeaderFixed,tbType:t.tbType,tableHeader:t.tableHeader,tbData:t.computeTBData},on:{deletePermissionClicked:t.deletePermission}})],1),t.showEditor?i("permission-editor",{attrs:{authTree:t.authTree,editorType:t.editorType},on:{reloadPermissionList:t.loadPermissionList}}):t._e(),i("confirm",{attrs:{isShow:t.showConfirm,confirmParams:t.confirmParams},on:{confirmClicked:t.confirmClicked}})],1)},r=[],o=(i("b0c0"),i("bcc8")),n=i("2161"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"permission-editor hideScrollBar"},["menu"!=t.editorType?i("div",{staticClass:"form-group lineheight1rem"},[i("label",[t._v("url:")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.url,expression:"url",modifiers:{trim:!0}}],staticClass:"form-ipt",attrs:{type:"text"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]):t._e(),i("div",{staticClass:"form-group lineheight1rem"},[i("label",[t._v("名字:")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-ipt",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),i("div",{staticClass:"form-group lineheight1rem"},[i("label",[t._v("菜单排序:")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.sort,expression:"sort",modifiers:{trim:!0}}],staticClass:"form-ipt",attrs:{placeholder:"请输入相应数字(1-100 排序从小到大)",type:"number",max:"100",min:"1"},domProps:{value:t.sort},on:{input:function(e){e.target.composing||(t.sort=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),i("div",{staticClass:"form-group lineheight1rem"},[i("label",[t._v("选中回显:")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],staticClass:"form-ipt",attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),"effect"==t.editorType?i("div",{staticClass:"form-group h-flex"},[i("label",[t._v("父节点:")]),i("div",{staticStyle:{flex:"1"}},[i("ul",{staticClass:"radio-box"},t._l(t.authTree,(function(e,a){return i("li",{key:a,staticClass:"radio-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.parentMenu,expression:"parentMenu"}],staticClass:"radio",attrs:{type:"radio",name:"parentMenu"},domProps:{value:e.name,checked:t._q(t.parentMenu,e.name)},on:{change:function(i){t.parentMenu=e.name}}}),i("label",[t._v(t._s(e.name))])])})),0)])]):t._e(),"auth"==t.editorType?i("div",{staticClass:"form-group h-flex"},[i("label",[t._v("父节点:")]),i("div",{staticStyle:{flex:"1"}},[i("ul",{staticClass:"tree-box"},t._l(t.authTree,(function(e,a){return i("li",{key:a,staticClass:"tree-item"},[i("a",{staticClass:"collapse",attrs:{"data-toggle":"collapse","aria-expanded":e.expand?"":"false"},on:{click:function(i){return t.itemClicked(e)}}}),i("label",[t._v(t._s(e.name))]),i("ul",{class:"radio-box"+(e.expand?"":" hide")},t._l(e.auth_detail,(function(e,a){return i("li",{key:a,staticClass:"radio-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.parentMenu,expression:"parentMenu"}],staticClass:"radio",attrs:{type:"radio",name:"parentMenu"},domProps:{value:e.name,checked:t._q(t.parentMenu,e.name)},on:{change:function(i){t.parentMenu=e.name}}}),i("label",[t._v(t._s(e.show_name))])])})),0)])})),0)])]):t._e(),i("div",{staticClass:"form-group h-flex"},[i("label"),i("div",{staticStyle:{flex:"1"}},[i("div",{staticClass:"actions"},[i("button",{staticClass:"action",attrs:{value:"保存"},on:{click:t.saveInfo}},[t._v("保存")]),i("button",{staticClass:"action",attrs:{value:"取消"},on:{click:t.cancelEdit}},[t._v("取消")])])])])])},s=[],d=i("2c17"),l=i("4328"),m=i.n(l),f=i("bff1"),u={props:["editorType","authTree"],data:function(){return{url:"",name:"",sort:"",text:"",parentMenu:""}},methods:{itemClicked:function(t){t.expand=!t.expand},saveInfo:function(){var t=this,e="",i="",a="";"menu"==this.editorType?(e=f["default"].urls.authMenu,i="post",a=m.a.stringify({name:this.name,sort:this.sort,text:this.text})):"effect"==this.editorType?(e=f["default"].urls.authAdd,i="post",a=m.a.stringify({url:this.url,name:this.name,sort:this.sort,text:this.text,parent_menu:this.parentMenu})):"auth"==this.editorType&&(e=f["default"].urls.authEffect,i="post",a=m.a.stringify({url:this.url,name:this.name,sort:this.sort,text:this.text,parent_menu:this.parentMenu})),Object(d["a"])({url:e,method:i,data:a}).then((function(e){if(200==e.status){var i=e.data;200==i.code?(t.cancelEdit(),t.$emit("reloadPermissionList")):t.$parent.alert(i.message||"请求失败")}})).catch((function(t){}))},cancelEdit:function(){this.$parent.$parent.subTitle2="",this.$parent.showEditor=!1,this.initAuth()},initAuth:function(){if("auth"==this.editorType)for(var t in this.authTree){var e=this.authTree[t];e.expand=!1}}}},h=u,p=(i("cf1f"),i("2877")),v=Object(p["a"])(h,c,s,!1,null,"22c5cefc",null),b=v.exports,g={inject:["reload","alert","showLoading","hideLoading"],data:function(){return{tableHeader:[],showEditor:!1,tbType:"permission",tableBodyClick:!1,tableHeaderFixed:!1,confirmParams:{type:"del",header:"操作提示"},showConfirm:!1,editorType:"menu",authTree:null,contentData:{actions:[],data:{}}}},components:{"detail-table":o["a"],confirm:n["a"],"permission-editor":b},watch:{editorType:function(t,e){var i=this;"effect"!=t&&"auth"!=t||this.loadAuthTree().then((function(t){i.authTree=t,i.showEditor=!0}))}},created:function(){this.loadPermissionList()},methods:{loadAuthTree:function(){return"effect"==this.editorType?this.loadEffectAuthTree():"auth"==this.editorType?this.loadAuthAuthTree():void 0},loadEffectAuthTree:function(){return Object(d["a"])({url:f["default"].urls.authParentMenu,method:"get"}).then((function(t){if(200==t.status){var e=t.data;if(200==e.code)return e.data}})).catch((function(t){}))},loadAuthAuthTree:function(){return Object(d["a"])({url:f["default"].urls.authTree,method:"get"}).then((function(t){if(200==t.status){var e=t.data;if(200==e.code){var i=e.data.auth_info;for(var a in i){var r=i[a];r.expand=!1}return i}}})).catch((function(t){}))},deletePermission:function(t){this.showConfirm=!0,this.confirmParams=Object.assign({},this.confirmParams,{url:t})},confirmClicked:function(t){var e=this;this.showConfirm=!1,t&&Object(d["a"])({url:f["default"].urls.authDel,method:"post",data:m.a.stringify({auth_action:t.url})}).then((function(t){200==t.status?200==t.data.code?e.reload():e.alert(t.data.message||"删除权限失败"):e.alert("删除权限失败")})).catch((function(t){e.alert("删除权限失败")}))},showEditView:function(t){this.editorType=t,"menu"==t?(this.$parent.subTitle2="新增主菜单",this.showEditor=!0):"effect"==t?this.$parent.subTitle2="新增权限":"auth"==t&&(this.$parent.subTitle2="新增功能")},loadPermissionList:function(){var t=this;this.showLoading(),Object(d["a"])({url:f["default"].urls.authList,method:"get"}).then((function(e){if(200==e.status){var i=e.data;200==i.code?t.contentData=Object.assign({},i.data):t.alert(i.message||"加载权限列表失败")}else t.alert("加载权限列表失败")})).catch((function(e){t.alert("加载权限列表失败")})).then((function(){t.hideLoading()}))}},computed:{computeTBData:function(){var t=[];for(var e in this.contentData.data.auth_info){var i=this.contentData.data.auth_info[e];if(t.push({name:i.name,tp:"主菜单",url:i.name,delete_action:i.delete_action}),i.auth_detail)for(var a in i.auth_detail){var r=i.auth_detail[a];if(t.push({name:r.show_name,tp:"权限菜单",url:r.name,delete_action:r.delete_action}),r.auth_detail)for(var o in r.auth_detail){var n=r.auth_detail[o];t.push({name:n.show_name,tp:"操作菜单",url:n.name,delete_action:n.delete_action})}}}return t}}},w=g,k=Object(p["a"])(w,a,r,!1,null,null,null);e["default"]=k.exports},fc49:function(t,e,i){var a=i("196b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("499e").default;r("94ae02be",a,!0,{sourceMap:!1,shadowMode:!1})}}]);