(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d652b610"],{"1dde":function(e,t,a){var i=a("d039"),o=a("b622"),r=a("2d00"),d=o("species");e.exports=function(e){return r>=51||!i((function(){var t=[],a=t.constructor={};return a[d]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1de5":function(e,t,a){"use strict";e.exports=function(e,t){return t||(t={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},"1f92":function(e,t,a){var i=a("4d6b");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("383be776",i,!0,{sourceMap:!1,shadowMode:!1})},"27e0":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".issue[data-v-ca4a0a1c]{height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}.textValue[data-v-ca4a0a1c]{width:40px;height:25px;line-height:25px;text-align:center;background-color:#4880ea;color:#fff;border-radius:3px;cursor:pointer;margin:0 5px}.alert-mark[data-v-ca4a0a1c]{width:100%;height:100%;position:fixed;left:0;top:0;background:#000;opacity:.5;z-index:10001}.imgBox[data-v-ca4a0a1c]{width:30%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:10002}",""]),e.exports=t},"35f9":function(e,t,a){var i=a("24fb"),o=a("1de5"),r=a("558f");t=i(!1);var d=o(r);t.push([e.i,".select-box[data-v-60bcd88e]{width:5rem;height:1rem;line-height:1rem;border:1px solid #d9d9dd;border-radius:.125rem!important}.select-box[data-v-60bcd88e],.select-ipt[data-v-60bcd88e]{display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:.4375rem}.select-ipt[data-v-60bcd88e]{-webkit-appearance:menulist;-moz-appearance:menulist;appearance:menulist;width:100%;height:100%;padding-left:.34375rem;border:none;outline:none;vertical-align:top;border-radius:.125rem!important;cursor:pointer}.select-dropdown[data-v-60bcd88e]{width:.3125rem;height:.1875rem;background:url("+d+") no-repeat;background-size:100% 100%;display:inline-block;margin-left:.15625rem;vertical-align:middle}.select-options[data-v-60bcd88e]{overflow:hidden;position:absolute;background-color:#fff;opacity:1;z-index:8000;width:5rem;height:auto;border-radius:.125rem;-webkit-box-shadow:0 0 .1875rem hsla(0,0%,60.4%,.5);box-shadow:0 0 .1875rem hsla(0,0%,60.4%,.5);max-height:8.125rem;overflow-y:scroll}.select-option[data-v-60bcd88e],.select-options[data-v-60bcd88e]{-webkit-box-sizing:border-box;box-sizing:border-box}.select-option[data-v-60bcd88e]{padding-left:.34375rem;padding-right:.34375rem;height:1rem;line-height:1rem;font-size:.4375rem;white-space:nowrap;overflow-x:hidden}.select-option.selected[data-v-60bcd88e]{background-color:#4880ea;color:#fff}.ease-enter-active[data-v-60bcd88e]{-webkit-animation:easein-data-v-60bcd88e .2s ease-in;animation:easein-data-v-60bcd88e .2s ease-in}.ease-leave-active[data-v-60bcd88e]{-webkit-animation:easeout-data-v-60bcd88e .2s ease-out;animation:easeout-data-v-60bcd88e .2s ease-out}@-webkit-keyframes easein-data-v-60bcd88e{0%{height:0%}to{height:100%}}@keyframes easein-data-v-60bcd88e{0%{height:0%}to{height:100%}}@-webkit-keyframes easeout-data-v-60bcd88e{0%{height:0%}to{height:0%}}@keyframes easeout-data-v-60bcd88e{0%{height:0%}to{height:0%}}.pop-box .body .pop-groups.user-level-selector[data-v-60bcd88e]{width:100%;height:1.25rem;line-height:1.25rem;font-size:.4375rem;margin-top:1rem}.pop-box .body .pop-groups.user-level-selector label[data-v-60bcd88e]{width:4.28125rem;text-align:right;height:1.25rem;line-height:1.25rem}.pop-box .body .pop-groups.user-level-selector .select-box[data-v-60bcd88e]{width:9.375rem;height:1.25rem;line-height:1.25rem;color:#999;font-size:.4375rem;margin-left:.25rem}",""]),e.exports=t},"4d6b":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.pageEditor[data-v-8545bea6]{background-color:#fff;position:relative}.pageEditor[data-v-8545bea6],.pageEditor .tempSelectBox[data-v-8545bea6]{width:100%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.pageEditor .tempSelectBox[data-v-8545bea6]{overflow:hidden;background-color:#f4f4f4}.pageEditor .tempSelectBox .header[data-v-8545bea6]{width:100%;height:20px;line-height:20px;text-align:left;font-size:15px}.pageEditor .tempSelectBox .tempBox[data-v-8545bea6]{width:100%;overflow:hidden;overflow-x:scroll}.pageEditor .tempSelectBox .tempBox[data-v-8545bea6],.pageEditor .tempSelectBox .tempBox .tempList[data-v-8545bea6]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.pageEditor .tempSelectBox .tempBox .tempList .tempItem[data-v-8545bea6]{width:64px;height:20px;line-height:20px;margin-right:10px;display:inline-block}.pageEditor .tempSelectBox .tempBox .tempList .tempItem .header[data-v-8545bea6]{width:100%;height:20px;line-height:20px}.pageEditor .tempSelectBox .tempBox .tempList .tempItem .header input[data-v-8545bea6]{margin-right:5px}.pageEditor .tempSelectBox .tempBox[data-v-8545bea6]::-webkit-scrollbar{display:none}.pageEditor .pageEditBody[data-v-8545bea6]{width:100%;padding-top:10px}.pageEditor .pageEditBody .header[data-v-8545bea6]{width:100%;text-align:left;font-size:15px}.pageEditor .pageEditBody .header div[data-v-8545bea6]{display:inline-block;margin-left:10px}.pageEditor .pageEditBody .header div input[data-v-8545bea6]{margin-right:5px}.pageEditor .pageEditBody .body[data-v-8545bea6]{width:100%}.pageEditor .pageEditBody .body .pageEditBox[data-v-8545bea6]{width:100%;margin-top:10px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.pageEditor .pageEditBody .body .pageEditBox .edit-group[data-v-8545bea6]{width:100%;height:40px;line-height:40px;font-size:13px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;margin-bottom:8px}.pageEditor .pageEditBody .body .pageEditBox .edit-group label[data-v-8545bea6]{width:90px;text-align:right;margin-right:8px;overflow:hidden;height:40px;line-height:40px;white-space:nowrap;text-overflow:ellipsis;padding-right:10px;position:relative}.pageEditor .pageEditBody .body .pageEditBox .edit-group input[data-v-8545bea6],.pageEditor .pageEditBody .body .pageEditBox .edit-group select[data-v-8545bea6],.pageEditor .pageEditBody .body .pageEditBox .edit-group textarea[data-v-8545bea6]{width:480px;height:40px;line-height:40px;border:1px solid #ddd;-webkit-box-sizing:border-box;box-sizing:border-box;padding-left:8px;padding-right:8px}.pageEditor .pageEditBody .body .pageEditBox .edit-group input.action-btn[data-v-8545bea6]{width:80px}.pageEditor .pageEditBody .body .pageEditBox .edit-group textarea[data-v-8545bea6]{resize:none;height:50px;line-height:25px}.pageEditor .pageEditBody .body .pageEditBox .edit-group select[data-v-8545bea6]{-webkit-appearance:menulist;-moz-appearance:menulist;appearance:menulist}.pageEditor .pageEditBody .body .pageEditBox .edit-group .preview[data-v-8545bea6]{width:50%;text-align:center}.pageEditor .pageEditBody .body .pageEditBox .edit-group.need label[data-v-8545bea6]:after{content:"*";color:red;font-size:15px;display:block;width:10px;text-align:center;height:40px;line-height:40px;position:absolute;right:0;top:0}.pageEditor .pageEditBody .body .pageEditBox .edit-group.tips[data-v-8545bea6]{height:20px;line-height:20px;text-align:left;color:red;font-size:12px}.pageEditor .pageEditBody .body .pageEditBox .edit-group.editImg[data-v-8545bea6]{height:auto}.pageEditor .previewBox[data-v-8545bea6]{position:fixed;z-index:10000;width:400px;height:568px;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);overflow:hidden}.pageEditor .previewBox iframe[data-v-8545bea6]{margin:0;padding:0;background-color:#fff}',""]),e.exports=t},"65f0":function(e,t,a){var i=a("861d"),o=a("e8b5"),r=a("b622"),d=r("species");e.exports=function(e,t){var a;return o(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?i(a)&&(a=a[d],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"67bd":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"alert"},[e.showTips?a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"alert-mark"})]):e._e(),e.showTips?a("transition",{attrs:{name:"ease"}},[a("div",{staticClass:"alert-box"},[a("div",{staticClass:"alert-header"},[e._v("操作提示")]),a("div",{staticClass:"alert-body"},[a("div",{staticClass:"alert-form-line"},[e._v(e._s(e.tipsText))])]),a("div",{staticClass:"alert-footer"},[a("div",{on:{click:e.determineBtn}},[e._v("确 定")]),a("div",{on:{click:e.cancelBtn}},[e._v("取 消")])])])]):e._e()],1)},o=[],r={inject:["reload","alert","showLoading","hideLoading"],props:["showTips","tipsText"],data:function(){return{}},methods:{cancelBtn:function(){this.$emit("cancelEvent",!1)},determineBtn:function(){this.$emit("determineEvent",!1)}}},d=r,n=(a("7052"),a("2877")),s=Object(n["a"])(d,i,o,!1,null,"bd094280",null);t["a"]=s.exports},"6a4a":function(e,t,a){var i=a("35f9");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("56635bba",i,!0,{sourceMap:!1,shadowMode:!1})},"6b9b":function(e,t,a){"use strict";var i=a("6a4a"),o=a.n(i);o.a},7052:function(e,t,a){"use strict";var i=a("bbda"),o=a.n(i);o.a},"707d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select",on:{blur:e.hideSelector}},[a("label",[e._v(e._s(e.selectParams.label)+":")]),a("div",{staticClass:"select-box"},[a("select",{staticClass:"select-ipt",domProps:{value:e.value},on:{change:e.optClicked}},e._l(e.selectParams.options,(function(t,i){return a("option",{key:i,domProps:{value:t.value}},[e._v(e._s(t.text))])})),0)])])},o=[],r={props:["selectParams","value"],data:function(){return{showOpts:!1}},methods:{hideSelector:function(){this.showOpts=!1},selectIptClicked:function(){this.showOpts=!this.showOpts},optClicked:function(e){this.$emit("selectOptsClicked",e.target.value),this.hideSelector()}}},d=r,n=(a("6b9b"),a("2877")),s=Object(n["a"])(d,i,o,!1,null,"60bcd88e",null);t["a"]=s.exports},8418:function(e,t,a){"use strict";var i=a("c04e"),o=a("9bf2"),r=a("5c6c");e.exports=function(e,t,a){var d=i(t);d in e?o.f(e,d,r(0,a)):e[d]=a}},"9ca8":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".alert[data-v-bd094280]{z-index:10000}.alert[data-v-bd094280],.alert-mark[data-v-bd094280]{position:fixed;width:100%;left:0;top:0}.alert-mark[data-v-bd094280]{height:100%;background:#000;opacity:.5;z-index:10001}.alert-box[data-v-bd094280]{-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:.25rem;margin:auto;margin-top:2rem;width:18.75rem;background:#fff;position:relative;z-index:10002;padding-bottom:.34rem}.alert-header[data-v-bd094280]{padding:0 .5rem;border-bottom:1px solid #e5e5e5;font-size:.5625rem;line-height:1.75rem;height:1.75rem;color:#676b6d}.alert-body[data-v-bd094280],.alert-header[data-v-bd094280]{text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-body[data-v-bd094280]{position:relative;padding:.5rem;width:100%}.alert-form-line[data-v-bd094280]{text-align:center;height:1.06rem;margin-bottom:.5rem;font-size:.4375rem;color:#676b6d}.alert-footer[data-v-bd094280],.alert-form-line[data-v-bd094280]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-footer[data-v-bd094280]{border-top:1px solid #e5e5e5;padding:0 .5rem;height:1.75rem;line-height:1.75rem;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.alert-footer div[data-v-bd094280]{color:#666;cursor:pointer;font-size:.6rem;width:50%;text-align:center}.alert-footer div[data-v-bd094280]:first-child{border-right:1px solid #e5e5e5}.fade-enter-active[data-v-bd094280]{-webkit-animation:fade-in-data-v-bd094280 .3s ease-in;animation:fade-in-data-v-bd094280 .3s ease-in}.fade-leave-active[data-v-bd094280]{-webkit-animation:fade-out-data-v-bd094280 .5s ease-out;animation:fade-out-data-v-bd094280 .5s ease-out}.ease-enter-active[data-v-bd094280]{-webkit-animation:easein-data-v-bd094280 .3s ease-in;animation:easein-data-v-bd094280 .3s ease-in}.ease-leave-active[data-v-bd094280]{-webkit-animation:easeout-data-v-bd094280 .3s ease-out;animation:easeout-data-v-bd094280 .3s ease-out}@-webkit-keyframes easein-data-v-bd094280{0%{margin-top:-3rem}to{margin-top:2rem}}@keyframes easein-data-v-bd094280{0%{margin-top:-3rem}to{margin-top:2rem}}@-webkit-keyframes easeout-data-v-bd094280{0%{margin-top:2rem}to{margin-top:-3rem}}@keyframes easeout-data-v-bd094280{0%{margin-top:2rem}to{margin-top:-3rem}}@-webkit-keyframes fade-in-data-v-bd094280{0%{opacity:0}to{opacity:.5}}@keyframes fade-in-data-v-bd094280{0%{opacity:0}to{opacity:.5}}@-webkit-keyframes fade-out-data-v-bd094280{0%{opacity:.5}to{opacity:0}}@keyframes fade-out-data-v-bd094280{0%{opacity:.5}to{opacity:0}}",""]),e.exports=t},a434:function(e,t,a){"use strict";var i=a("23e7"),o=a("23cb"),r=a("a691"),d=a("50c4"),n=a("7b0b"),s=a("65f0"),l=a("8418"),p=a("1dde"),c=a("ae40"),g=p("splice"),u=c("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,m=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!g||!u},{splice:function(e,t){var a,i,p,c,g,u,f=n(this),x=d(f.length),w=o(e,x),_=arguments.length;if(0===_?a=i=0:1===_?(a=0,i=x-w):(a=_-2,i=m(b(r(t),0),x-w)),x+a-i>h)throw TypeError(v);for(p=s(f,i),c=0;c<i;c++)g=w+c,g in f&&l(p,c,f[g]);if(p.length=i,a<i){for(c=w;c<x-i;c++)g=c+i,u=c+a,g in f?f[u]=f[g]:delete f[u];for(c=x;c>x-i+a;c--)delete f[c-1]}else if(a>i)for(c=x-i;c>w;c--)g=c+i-1,u=c+a-1,g in f?f[u]=f[g]:delete f[u];for(c=0;c<a;c++)f[c+w]=arguments[c+2];return f.length=x-i+a,p}})},bbda:function(e,t,a){var i=a("9ca8");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("2dabebfa",i,!0,{sourceMap:!1,shadowMode:!1})},d920:function(e,t,a){"use strict";var i=a("ee6c"),o=a.n(i);o.a},dc40:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pageEditor"},[e.editable?a("div",{staticClass:"tempSelectBox"},[a("div",{staticClass:"header"},[e._v(" 选择模板 ")]),a("div",{staticClass:"tempBox"},[a("div",{staticClass:"tempList"},[a("div",{staticClass:"tempItem"},[a("div",{staticClass:"header"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.templete,expression:"templete"}],attrs:{id:"temp0",type:"radio",name:"tempSelectRadio",value:"0"},domProps:{checked:e._q(e.templete,"0")},on:{change:function(t){e.templete="0"}}}),a("label",{attrs:{for:"temp0"}},[e._v("模板1")])])])])])]):e._e(),a("div",{staticClass:"pageEditBody"},[a("div",{staticClass:"header"},[e._v(" 中间页配置 "),e.editable?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isCreateNew,expression:"isCreateNew"}],attrs:{id:"createNewRadio",type:"radio",name:"isCreateNew",value:"1"},domProps:{checked:e._q(e.isCreateNew,"1")},on:{change:function(t){e.isCreateNew="1"}}}),a("label",{attrs:{for:"createNewRadio"}},[e._v("新建")])]):e._e(),e.editable?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isCreateNew,expression:"isCreateNew"}],attrs:{id:"selectOldRadio",type:"radio",name:"isCreateNew",value:"0"},domProps:{checked:e._q(e.isCreateNew,"0")},on:{change:function(t){e.isCreateNew="0"}}}),a("label",{attrs:{for:"selectOldRadio"}},[e._v("选择已有中间页")])]):e._e()]),a("div",{staticClass:"body"},[1!=e.isCreateNew&&e.editable?e._e():a("div",{staticClass:"pageEditBox"},[a("div",{staticClass:"edit-group need"},[a("label",[e._v("中间页标题")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",disabled:!e.editable},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),a("div",{staticClass:"edit-group need"},[a("label",[e._v("所属平台")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.platform,expression:"platform"}],attrs:{disabled:!e.editable},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.platform=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"tb"}},[e._v("淘宝")]),a("option",{attrs:{value:"jd"}},[e._v("京东")]),a("option",{attrs:{value:"wph"}},[e._v("唯品会")])])]),a("div",{staticClass:"edit-group need"},[a("label",[e._v("活动链接")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.jump_url,expression:"jump_url"}],attrs:{type:"text",disabled:!e.editable},domProps:{value:e.jump_url},on:{input:function(t){t.target.composing||(e.jump_url=t.target.value)}}})]),"jd"==e.platform?a("div",{staticClass:"edit-group need"},[a("label",[e._v("短链接")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.short_url,expression:"short_url"}],attrs:{type:"text",disabled:!e.editable},domProps:{value:e.short_url},on:{input:function(t){t.target.composing||(e.short_url=t.target.value)}}})]):e._e(),a("div",{staticClass:"edit-group need"},[a("label",[e._v("文案")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.copywriting,expression:"copywriting"}],attrs:{type:"text",disabled:!e.editable},domProps:{value:e.copywriting},on:{input:function(t){t.target.composing||(e.copywriting=t.target.value)}}})]),e._m(0),a("div",{staticClass:"edit-group need"},[a("label",[e._v("页面背景色")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.bg_color,expression:"bg_color"}],attrs:{type:"text",disabled:!e.editable},domProps:{value:e.bg_color},on:{input:function(t){t.target.composing||(e.bg_color=t.target.value)}}})]),a("div",{staticClass:"edit-group need"},[a("label",[e._v("边框颜色")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.border_color,expression:"border_color"}],attrs:{type:"text",disabled:!e.editable},domProps:{value:e.border_color},on:{input:function(t){t.target.composing||(e.border_color=t.target.value)}}})]),a("div",{staticClass:"edit-group",staticStyle:{height:"50px"}},[a("label",[e._v("描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.desc,expression:"desc"}],attrs:{placeholder:"描述该中间页面背景/用途，仅作为内部说明，不会展示到APP界面",cols:"",rows:"2",disabled:!e.editable},domProps:{value:e.desc},on:{input:function(t){t.target.composing||(e.desc=t.target.value)}}})]),a("div",{staticClass:"edit-group need editImg"},[a("label",[e._v("背景图片")]),a("div",[e.bg_img?e._e():a("input",{staticClass:"action-btn",attrs:{type:"button",value:"上传"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.selectBgImg(t)}}}),e.bg_img?a("img",{style:"width: 375px; height: auto;"+(e.editable?" cursor: pointer;":""),attrs:{src:e.bg_img},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.selectBgImg(t)}}}):e._e()])]),e._m(1),a("div",{staticClass:"edit-group need editImg"},[a("label",[e._v("按钮图片")]),a("div",[e.button_img?e._e():a("input",{staticClass:"action-btn",attrs:{type:"button",value:"上传"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.selectBtnImg(t)}}}),e.button_img?a("img",{style:"width: 180px; height: auto;"+(e.editable?" cursor: pointer;":""),attrs:{src:e.button_img},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.selectBtnImg(t)}}}):e._e()])]),e._m(2),a("div",{staticClass:"edit-group"},[a("label"),a("div",{staticClass:"preview"},[a("input",{staticClass:"action-btn",attrs:{type:"button",value:"预览"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.preview(t)}}})])])]),0==e.isCreateNew&&e.editable?a("div",{staticClass:"pageEditBox"},[a("div",{staticClass:"edit-group need"},[a("label",[e._v("选择中间页")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.page_id,expression:"page_id"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.page_id=t.target.multiple?a:a[0]},e.choosePageMidle]}},e._l(e.pageList,(function(t,i){return a("option",{key:i,domProps:{value:t.id}},[e._v(e._s(t.title))])})),0)])]):e._e(),a("form",{ref:"fileForm",staticStyle:{display:"none"},attrs:{enctype:"multipart/form-data"}},[a("input",{ref:"files",staticStyle:{display:"none"},attrs:{type:"file",accept:".jpg, .jpeg, .png, .gif",name:"file"},on:{change:e.uploadImage}})])])]),e.showPreview?a("div",{staticClass:"cover",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.hidePreview(t)}}}):e._e(),e.showPreview?a("div",{staticClass:"previewBox"},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.pageUrl}})]):e._e()])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-group tips"},[a("label"),a("div",[e._v("文案格式:'好物天天购,复制{{}},打开tb,天猫超市每天抢'")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-group tips"},[a("label"),a("div",[e._v(" 文件大小300k以下，尺寸 750*? ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-group tips"},[a("label"),a("div",[e._v(" 文件大小35k以下，尺寸 ?*103 ")])])}],r=(a("c975"),a("d3b7"),a("2c17")),d=a("bff1"),n=a("4328"),s=a.n(n),l={inject:["alert","showLoading","hideLoading"],props:["editable","pageId"],data:function(){return{showPreview:!1,pagePrefix:["http://static.yunzhanxinxi.com/templete2.html"],templete:0,isCreateNew:1,page_id:"",title:"",platform:"",jump_url:"",short_url:"",copywriting:"",bg_color:"",border_color:"",desc:"",bg_img:"",button_img:"",imgType:"bg",bgSize:307200,btnSize:35840,pageList:null,middlePageUrl:""}},computed:{pageUrl:function(){return this.pagePrefix[this.templete]+"?preview=1&title="+encodeURIComponent(this.title)+"&platform="+encodeURIComponent(this.platform)+"&jump_url="+encodeURIComponent(this.jump_url)+"&short_url="+encodeURIComponent(this.short_url)+"&copywriting="+encodeURIComponent(this.copywriting)+"&bg_color="+encodeURIComponent(this.bg_color)+"&border_color="+encodeURIComponent(this.border_color)+"&bg_img="+encodeURIComponent(this.bg_img)+"&button_img="+encodeURIComponent(this.button_img)}},created:function(){var e=this;this.getPageList().then((function(){if(e.pageId){e.$data["page_id"]=e.pageId;for(var t=null,a=0;a<(e.pageList||[]).length;a++)if(e.pageList[a].id==e.pageId){t=e.pageList[a];break}t&&(e.title=t.title,e.platform=t.platform,e.copywriting=t.copywriting,e.$data["jump_url"]=t.jump_url,e.$data["short_url"]=t.short_url,e.$data["bg_color"]=t.bg_color,e.$data["border_color"]=t.border_color,e.desc=t.desc,e.$data["bg_img"]=t.bg_img,e.$data["button_img"]=t.button_img)}}))},methods:{choosePageMidle:function(e){for(var t=0;t<this.pageList.length;t++)this.pageList[t].id==e.target.value&&(this.middlePageUrl=this.pageList[t]["page_url"])},getPageList:function(){var e=this;return Object(r["a"])({url:d["default"].urls.pageList,method:"get",params:{status:1}}).then((function(t){200==t.status&&200==t.data.code?e.pageList=t.data.data.data||[]:e.alert("加载中间页列表失败")})).catch((function(t){e.alert(t.message||"加载中间页列表失败")}))},addNewPage:function(e){return Object(r["a"])({method:"post",url:d["default"].urls.addMiddle,data:s.a.stringify(e)}).then((function(e){if(200==e.status&&200==e.data.code)return e.data.data;throw new Error("添加中间页失败")}))},pubNewPage:function(e){return Object(r["a"])({url:d["default"].urls.changeMiddleStatus,method:"post",data:s.a.stringify({ids:e,type:"open"})}).then((function(e){if(200!=e.status&&200!=e.data.data)throw new Error("发布中间页失败")}))},getPageData:function(){var e=this;if(1==this.isCreateNew){this.showLoading();var t={page_id:this.pageId,title:this.title,platform:this.platform,jump_url:this.jump_url,short_url:this.short_url,copywriting:this.copywriting,bg_color:this.bg_color,border_color:this.border_color,desc:this.desc,bg_img:this.bg_img,button_img:this.button_img};return this.addNewPage(t).then((function(t){return e.pubNewPage(t).then((function(){return t}))})).catch((function(t){e.hideLoading(),e.alert(t.message||"添加中间页失败")})).then((function(a){return e.hideLoading(),{pageContent:t,pageId:a,pageUrl:e.pagePrefix[e.templete]+"?pageId="+e.pageId}}))}return{pageId:this.page_id,pageUrl:this.middlePageUrl}},selectBgImg:function(){this.editable&&(this.imgType="bg",this.$refs.files.click())},selectBtnImg:function(){this.editable&&(this.imgType="btn",this.$refs.files.click())},preview:function(){this.showPreview=!0},hidePreview:function(){this.showPreview=!1},uploadImage:function(){var e=this;return new Promise((function(t,a){var i=e.$refs.files.files[0].size;"bg"==e.imgType?i>e.bgSize&&(e.alert("背景图片大小不超过300K"),a()):"btn"==e.imgType&&i>e.btnSize&&(e.alert("按钮图片大小不超过35K"),a());var o=document.createElement("img");o.onload=function(){"bg"==e.imgType?750!=o.width&&(e.alert("背景图片尺寸为750*?,所选图片尺寸错误"),a()):"btn"==e.imgType&&103!=o.height&&(e.alert("按钮图片尺寸为?*103,所选图片尺寸错误"),a());var i=new FormData(e.$refs.fileForm);Object(r["a"])({url:d["default"].urls.uploadImage,method:"post",data:i,headers:{"Content-Type":"multipart/form-data"}}).then((function(i){if(200==i.status&&200==i.data.code){var o=(-1==i.data.data.url.indexOf("http://")?"http://":"")+i.data.data.url;t(o)}else e.alert("上传图片失败"),a()})).catch((function(t){e.alert("上传图片失败"),a()})).then((function(){e.$refs.files.value=""}))};var n=new FileReader;n.onload=function(e){o.src=e.target.result},n.readAsDataURL(e.$refs.files.files[0])})).then((function(t){t&&("bg"==e.imgType?e.$data["bg_img"]=t:"btn"==e.imgType&&(e.$data["button_img"]=t))}))}}},p=l,c=(a("f4aa"),a("2877")),g=Object(c["a"])(p,i,o,!1,null,"8545bea6",null);t["a"]=g.exports},e8b5:function(e,t,a){var i=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},ee6c:function(e,t,a){var i=a("27e0");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("ee7232fa",i,!0,{sourceMap:!1,shadowMode:!1})},f4aa:function(e,t,a){"use strict";var i=a("1f92"),o=a.n(i);o.a},fe52:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",[a("thead",[a("tr",[e._l(e.theadData,(function(t,i){return a("th",{key:i},[e._v(e._s(t.name))])})),a("th",[e._v("操作")])],2)]),a("tbody",e._l(e.tbodyData.data,(function(t,i,o){return a("tr",{key:o},[e._l(e.theadData,(function(i,o){return a("td",{key:o,staticStyle:{padding:"4px"}},["img"==i.field?a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",cursor:"pointer"}},[a("img",{staticStyle:{width:"5rem",height:"3rem","border-radius":"5px"},attrs:{src:t[i.field],alt:"图片"},on:{click:function(a){return e.choosePicture(t[i.field])}}})]):a("div",[e._v(e._s(t[i.field]))])])})),a("td",{staticStyle:{padding:"0 10px"}},["发布中"==t.status?a("div",{staticClass:"issue"},[a("div",{staticClass:"textValue",on:{click:function(a){return e.offShelfBtn(t.id)}}},[e._v("下架")]),a("div",{staticClass:"textValue",on:{click:function(a){return e.editBtn(t)}}},[e._v("编辑")])]):a("div",{staticClass:"issue"},[a("div",{staticClass:"textValue",on:{click:function(a){return e.releaseBtn(t.id)}}},[e._v("发布")]),a("div",{staticClass:"textValue",on:{click:function(a){return e.deleteBtn(t.id)}}},[e._v("删除")]),a("div",{staticClass:"textValue",on:{click:function(a){return e.editBtn(t)}}},[e._v("编辑")])])])],2)})),0),e.showImg?a("div",{staticClass:"mask"},[a("div",{staticClass:"alert-mark",on:{click:e.closeImg}}),a("img",{staticClass:"imgBox",attrs:{src:e.imgUrl,alt:"图片"}})]):e._e()])},o=[],r={props:["theadData","tbodyData"],data:function(){return{showImg:!1,imgUrl:""}},methods:{offShelfBtn:function(e){this.$emit("offShelfEvent",e)},releaseBtn:function(e){this.$emit("releaseEvent",e)},deleteBtn:function(e){this.$emit("deleteEvent",e)},choosePicture:function(e){this.imgUrl=e,this.showImg=!0},closeImg:function(){this.showImg=!1},lookUpBtn:function(e){this.$emit("lookUpEvent",e)},editBtn:function(e){this.$emit("editEvent",e)}}},d=r,n=(a("d920"),a("2877")),s=Object(n["a"])(d,i,o,!1,null,"ca4a0a1c",null);t["a"]=s.exports}}]);