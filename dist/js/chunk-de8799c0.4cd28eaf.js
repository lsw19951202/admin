(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de8799c0"],{"0ac2":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-container",style:"margin-top: "+(t.tbStyle.marginTop||0)+";",on:{scroll:function(e){return e.preventDefault(),e.stopPropagation(),t.tableScroll(e)}}},[a("table",{ref:"table",style:"width: "+t.tbStyle.width+"; position: relative;",attrs:{cellspacing:"0"}},[a("thead",{directives:[{name:"show",rawName:"v-show",value:t.showFixedHeadCol,expression:"showFixedHeadCol"}],ref:"fixedHeadCol",style:"z-index: 53; left: "+t.scrollPos.left+"px; top: "+t.scrollPos.top+"px; position: absolute; border-right: 1px solid #E2E2E2; border-bottom: 1px solid #E2E2E2;"},t._l(t.getFixedHeadCol,(function(e,i){return a("tr",{key:i},t._l(e,(function(e,i){return a("td",{key:i,attrs:{colspan:e.colspan||1,rowspan:e.rowspan||1}},[t._v(" "+t._s(e.name)+" ")])})),0)})),0),a("thead",{ref:"fixedHead",style:"z-index: 52; left: 0; top: "+t.scrollPos.top+"px; border-bottom: 1px solid #E2E2E2;"},t._l(t.tbData.tableHeader,(function(e,i){return a("tr",{key:i},[t._l(e,(function(e,i){return a("td",{key:i,attrs:{colspan:e.colspan||1,rowspan:e.rowspan||1}},[t._v(" "+t._s(e.name)+" ")])})),"userRankList"==t.tbType?a("td",[t._v(" 操作 ")]):t._e()],2)})),0),a("tbody",{directives:[{name:"show",rawName:"v-show",value:t.showFixedHeadCol,expression:"showFixedHeadCol"}],ref:"fixedCol",style:"z-index: 51; left: "+t.scrollPos.left+"px; top: "+1.5*t.tbData.lockedRow+"rem; position: absolute; background-color: white; border-right: 1px solid #E2E2E2;"},t._l(t.getFixedCol,(function(e,i){return a("tr",{key:i,staticStyle:{"background-color":"white"}},t._l(e,(function(e,i){return a("td",{key:i,attrs:{colspan:e.colspan||1,rowspan:e.rowspan||1}},[t._v(" "+t._s(e.text)+" ")])})),0)})),0),a("tbody",{ref:"tbody",staticStyle:{"z-index":"50","background-color":"white"}},t._l(t.tbData.tbData,(function(e,i){return a("tr",{key:i,staticStyle:{"background-color":"white"}},[t._l(e,(function(e,i){return a("td",{key:i,attrs:{colspan:e.colspan||1,rowspan:e.rowspan||1}},[t._v(" "+t._s(e.text)+" ")])})),"userRankList"==t.tbType?a("td",[a("a",{attrs:{href:"javascript: void(0);"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.rowClicked(e)}}},[t._v("查看订单")])]):t._e(),"poolList"==t.tbType?a("td",[a("a",{attrs:{href:"javascript: void(0);"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.rowClicked(e,"prize")}}},[t._v("奖励详情")]),a("a",{staticStyle:{"margin-left":".5rem"},attrs:{href:"javascript: void(0);"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.rowClicked(e,"order")}}},[t._v("订单详情")]),a("a",{staticStyle:{"margin-left":".5rem"},attrs:{href:"javascript: void(0);"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.rowClicked(e,"prizeList")}}},[t._v("奖金列表")])]):t._e()],2)})),0)])])},s=[],l=(a("a434"),{props:["tbData","tbStyle","tbType"],data:function(){return{showFixedHeadCol:!1,scrollPos:{left:0,top:0}}},computed:{getFixedHeadCol:function(){var t=[];if(this.tbData.tableHeader.length>0){for(var e=0;e<this.tbData.lockedRow;e++)t.push([]);for(var a=0;a<this.tbData.lockedRow;a++)for(var i=0;i<this.tbData.lockedCol;i++){if(t[a].length>=this.tbData.lockedCol)break;if(t[a].push(this.tbData.tableHeader[a][i]),(this.tbData.tableHeader[a][i].colspan||1)>1)for(var s=1;s<(this.tbData.tableHeader[a][i].colspan||1);s++)t[a].push({text:"needDel"});if((this.tbData.tableHeader[a][i].rowspan||1)>1)for(var l=1;l<this.tbData.tableHeader[a][i].rowspan;l++)for(var o=0;o<(this.tbData.tableHeader[a][i].colspan||1);o++)t[a+l].push({text:"needDel"})}for(var r=0;r<t.length;r++){for(var n=0;n<t[r].length;n++)"needDel"==t[r][n]["text"]&&(t[r].splice(n,1),n--);0==t[r].length&&(t.splice(r,1),r--)}}return t},getFixedCol:function(){for(var t=[],e=0;e<this.tbData.tbData.length;e++)t.push([]);for(var a=0;a<this.tbData.tbData.length;a++)for(var i=0;i<this.tbData.lockedCol;i++){if(t[a].length>=this.tbData.lockedCol)break;for(var s=0;s<(this.tbData.tbData[a][i].rowspan||1);s++)for(var l=0;l<(this.tbData.tbData[a][i].colspan||1);l++)t[a+s].push(0==s&&0==l?this.tbData.tbData[a][i]:{text:"needDel"})}for(var o=0;o<t.length;o++){for(var r=0;r<t[o].length;r++)"needDel"==t[o][r]["text"]&&(t[o].splice(r,1),r--);0==t[o].length&&(t.splice(o,1),o--)}return t}},watch:{tbData:function(){var t=this;this.$nextTick((function(){t.resizeFixedHead()}))}},methods:{rowClicked:function(t,e){e?this.$emit("rowClicked",{tp:e,data:t}):this.$emit("rowClicked",t)},resizeFixedHead:function(){this.showFixedHeadCol=!1,this.$refs["table"].style.paddingTop="0px",this.$refs["fixedHead"].style.position="static";for(var t=this.$refs["fixedCol"],e=this.$refs["fixedHead"],a=this.$refs["fixedHeadCol"],i=this.$refs["tbody"],s=[],l=0;l<e.children.length;l++){var o=e.children[l].children;s.push([]);for(var r=0;r<o.length;r++)s[l].push(o[r].offsetWidth)}for(var n=0;n<a.children.length;n++)for(var c=a.children[n].children,d=0;d<c.length;d++){var h=c[d];h.style.width=s[n][d]+"px",h.style.maxWidth=s[n][d]+"px",h.style.minWidth=s[n][d]+"px",h.style.height=e.children[n].children[d].offsetHeight+"px"}for(var p=0;p<e.children.length;p++)for(var f=e.children[p].children,u=0;u<f.length;u++){var b=f[u];b.style.width=s[p][u]+"px",b.style.maxWidth=s[p][u]+"px",b.style.minWidth=s[p][u]+"px"}for(var v=[],m=0;m<i.children.length;m++){var _=i.children[m].children;v.push([]);for(var g=0;g<_.length;g++)v[m].push(_[g].offsetWidth)}for(var y=0;y<t.children.length;y++)for(var x=t.children[y].children,w=0;w<x.length;w++){var k=x[w];k.style.width=v[y][w]+"px",k.style.maxWidth=v[y][w]+"px",k.style.minWidth=v[y][w]+"px"}for(var D=0;D<i.children.length;D++)for(var C=i.children[D].children,T=0;T<C.length;T++){var S=C[T];S.style.width=v[D][T]+"px",S.style.minWidth=v[D][T]+"px",S.style.maxWidth=v[D][T]+"px"}this.$refs["table"].style.paddingTop=1.5*this.tbData.lockedRow+"rem",this.$refs["fixedHead"].style.position="absolute",this.showFixedHeadCol=!0},tableScroll:function(t){this.scrollPos={left:t.target.scrollLeft,top:t.target.scrollTop}}}}),o=l,r=(a("f781"),a("2877")),n=Object(r["a"])(o,i,s,!1,null,"562520ec",null);e["a"]=n.exports},"1dde":function(t,e,a){var i=a("d039"),s=a("b622"),l=a("2d00"),o=s("species");t.exports=function(t){return l>=51||!i((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3ca3":function(t,e,a){"use strict";var i=a("6547").charAt,s=a("69f3"),l=a("7dd0"),o="String Iterator",r=s.set,n=s.getterFor(o);l(String,"String",(function(t){r(this,{type:o,string:String(t),index:0})}),(function(){var t,e=n(this),a=e.string,s=e.index;return s>=a.length?{value:void 0,done:!0}:(t=i(a,s),e.index+=t.length,{value:t,done:!1})}))},"4e4f":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".table-container[data-v-562520ec]{margin:0;position:relative;overflow:scroll}.table-container div[data-v-562520ec]{position:absolute;left:0;top:0;overflow:hidden;background-color:#fff}td[data-v-562520ec]{overflow:scroll}tbody td[data-v-562520ec]{word-break:break-all}",""]),t.exports=e},"65f0":function(t,e,a){var i=a("861d"),s=a("e8b5"),l=a("b622"),o=l("species");t.exports=function(t,e){var a;return s(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?i(a)&&(a=a[o],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"66fa":function(t,e,a){"use strict";var i=a("be05"),s=a.n(i);s.a},"70f0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-container hideScrollBar"},[a("div",{staticClass:"detail-data-box nopadding"},[a("ul",{staticClass:"tab-box"},[a("li",{class:"tab-item"+(1==t.company_id?" selected":""),on:{click:function(e){return t.tabClicked(1)}}},[t._v("四川云瞻")]),a("li",{class:"tab-item"+(2==t.company_id?" selected":""),staticStyle:{left:"145px"},on:{click:function(e){return t.tabClicked(2)}}},[t._v("成都云瞻")]),a("li",{class:"tab-item"+(0==t.company_id?" selected":""),staticStyle:{left:"290px"},on:{click:function(e){return t.tabClicked(0)}}},[t._v("酬金汇总")])]),a("div",{staticClass:"detail-main"},[a("header",{staticClass:"search-header"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.company_id,expression:"company_id == 1"}],staticClass:"search-group",staticStyle:{"margin-left":"0"}},[a("label",[t._v("期间:")]),a("flat-picker",{staticClass:"search-time-picker",attrs:{config:t.dateConfig,placeholder:"期间"},model:{value:t.start_time_sc,callback:function(e){t.start_time_sc=e},expression:"start_time_sc"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.company_id,expression:"company_id == 2"}],staticClass:"search-group",staticStyle:{"margin-left":"0"}},[a("label",[t._v("期间:")]),a("flat-picker",{staticClass:"search-time-picker",attrs:{config:t.dateConfig,placeholder:"期间"},model:{value:t.start_time_cd,callback:function(e){t.start_time_cd=e},expression:"start_time_cd"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.company_id,expression:"company_id == 0"}],staticClass:"search-group",staticStyle:{"margin-left":"0"}},[a("label",[t._v("期间:")]),a("flat-picker",{staticClass:"search-time-picker",attrs:{config:t.dateConfig,placeholder:"期间"},model:{value:t.start_time_all,callback:function(e){t.start_time_all=e},expression:"start_time_all"}})],1),a("button",{staticClass:"search-btn",on:{click:t.loadData}},[t._v("搜索")]),a("div",{staticStyle:{flex:"1"}}),a("a",{staticClass:"action-btn",staticStyle:{display:"inline-block"},attrs:{href:t.downloadUrl,download:t.company[t.company_id]+".xlsx"}},[t._v("导出")])]),a("div",{staticClass:"table_title"},[t._v(t._s(t.getTitle))]),a("div",{staticClass:"table_sub_title flex"},[a("div",{staticClass:"text_left",staticStyle:{width:"100px","white-space":"nowrap"}},[t._v(" 编制单位："+t._s(t.company[t.company_id])+" ")]),a("div",{staticClass:"flex1 text-center"},[t._v(" 期间："+t._s(t.getTimeIn)+" ")]),a("div",{staticClass:"text-right",staticStyle:{width:"100px","white-space":"nowrap"}},[t._v(" 单元：人民币元 ")])]),a("locked-table",{directives:[{name:"show",rawName:"v-show",value:1==t.company_id,expression:"company_id == 1"}],attrs:{tbData:t.scTBData,tbStyle:t.tbStyle}}),a("locked-table",{directives:[{name:"show",rawName:"v-show",value:2==t.company_id,expression:"company_id == 2"}],attrs:{tbData:t.cdTBData,tbStyle:t.tbStyle}}),a("locked-table",{directives:[{name:"show",rawName:"v-show",value:0==t.company_id,expression:"company_id == 0"}],attrs:{tbData:t.allTBData,tbStyle:t.tbStyle}})],1)])])},s=[],l=(a("a434"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("ddb0"),a("c38f")),o=a.n(l),r=(a("0952"),a("dc1c")),n=a("bff1"),c=a("0ac2"),d={inject:["reload","alert","showLoading","hideLoading","loadFields","loadTBData"],components:{"flat-picker":o.a,"locked-table":c["a"]},data:function(){var t=new Date,e="";return e+=t.getFullYear()+"-",e+=(t.getMonth()<9?"0":"")+(t.getMonth()+1),{start_time_sc:e,start_time_cd:e,start_time_all:e,dateConfig:{time_24hr:!0,maxDate:e,locale:r["Mandarin"],dateFormat:"Y-m"},company_id:0,company:{0:"云瞻信息",1:"四川云瞻",2:"成都云瞻"},scTBData:{tableHeader:n["default"].tableHeader.cpsremMonth,tbData:[],lockedRow:1,lockedCol:4},cdTBData:{tableHeader:n["default"].tableHeader.cpsremMonth,tbData:[],lockedRow:1,lockedCol:4},allTBData:{tableHeader:n["default"].tableHeader.cpsremMonthAll,tbData:[],lockedRow:1,lockedCol:2},fields:[],allFields:[],tbStyle:{width:"100%"}}},computed:{getTitle:function(){return 0==this.company_id?"云瞻信息"+this.start_time_all.split("-")[1]+"月CPS代理人酬金统计表":this.company[this.company_id]+"CPS代理人酬金暂估表"},downloadUrl:function(){return n["default"].baseUrl+n["default"].urls.cpsremMonth+"?company_id="+this.company_id+"&statistics_month="+(1==this.company_id?this.start_time_sc:2==this.company_id?this.start_time_cd:this.start_time_all)+"&page=1&is_excel=1&skey="+this.$cookies.get("skey")},getTimeIn:function(){return 1==this.company_id?this.start_time_sc:2==this.company_id?this.start_time_cd:this.start_time_all}},created:function(){var t=this;return this.showLoading(),Promise.all([this.loadFields(n["default"].urls.cpsFields,{order_type:"remunerationCompanyMonth"}),this.loadFields(n["default"].urls.cpsFields,{order_type:"remunerationMonth"}),this.loadTBData(n["default"].urls.cpsremMonth,{company_id:1,page:1,statistics_month:this.start_time_sc},"get"),this.loadTBData(n["default"].urls.cpsremMonth,{company_id:2,page:1,statistics_month:this.start_time_cd},"get"),this.loadTBData(n["default"].urls.cpsremMonth,{company_id:0,page:1,statistics_month:this.start_time_all},"get")]).then((function(e){t.fields=e[0].fields,t.allFields=e[1].fields;var a=e[0].tableHeader;a[0].splice(0,0,{name:"序号"}),t.scTBData={tableHeader:a,tbData:t.createTBData(e[2],1),lockedRow:e[0].tableHeader.length,lockedCol:e[0].lockedFields.length},t.cdTBData={tableHeader:a,tbData:t.createTBData(e[3],2),lockedRow:e[0].tableHeader.length,lockedCol:e[0].lockedFields.length},t.allTBData={tableHeader:e[1].tableHeader,tbData:t.createTBData(e[4],0),lockedRow:e[1].tableHeader.length,lockedCol:e[1].lockedFields.length}})).catch((function(e){t.alert(e.message||"加载数据失败")})).then((function(){t.hideLoading()}))},methods:{tabClicked:function(t){this.$data["company_id"]=t},loadData:function(){var t=this,e={company_id:this.company_id,page:1,statistics_month:1==this.company_id?this.start_time_sc:2==this.company_id?this.start_time_cd:this.start_time_all};this.showLoading(),this.loadTBData(n["default"].urls.cpsremMonth,e,"get").then((function(e){var a=t.createTBData(e,t.company_id);1==t.company_id&&(t.scTBData={tbData:a,tableHeader:t.scTBData.tableHeader,lockedRow:t.scTBData.lockedRow,lockedCol:t.scTBData.lockedCol}),2==t.company_id&&(t.cdTBData={tbData:a,tableHeader:t.cdTBData.tableHeader,lockedRow:t.cdTBData.lockedRow,lockedCol:t.cdTBData.lockedCol}),0==t.company_id&&(t.allTBData={tbData:a,tableHeader:t.allTBData.tableHeader,lockedRow:t.allTBData.lockedRow,lockedCol:t.allTBData.lockedCol})})).catch((function(e){t.alert(e.message||"加载数据失败")})).then((function(){t.hideLoading()}))},createTBData:function(t,e){var a=[];if(0==e)for(var i=0;i<t.length;i++)for(var s=0;s<t[i]["statistics_list"].length;s++){for(var l=t[i]["statistics_list"][s],o=[],r=0;r<this.allFields.length;r++)0==s&&0==r&&o.push({text:l[this.allFields[r]]||(0===l[this.allFields[r]]?l[this.allFields[r]]:"--"),rowspan:t[i]["statistics_list"].length}),0!=r&&o.push({text:l[this.allFields[r]]||(0===l[this.allFields[r]]?l[this.allFields[r]]:"--")});a.push(o)}else for(var n=0,c=0;c<t.length;c++)for(var d=t[c]["statistics_data"]||{},h=0;c<t.length-1&&h<t[c]["statistics_list"].length||c==t.length-1&&h<1;h++){var p=t[c]["statistics_list"][h],f=[];f.push({text:c==t.length-1?p[this.fields[0]]:++n});for(var u=0;u<this.fields.length;u++)0==h&&(0==u?f.push({rowspan:t[c]["statistics_list"].length,text:p[this.fields[0]]||(0===p[this.fields[0]]?0:"--")}):Object.prototype.hasOwnProperty.call(d,this.fields[u])&&f.push({rowspan:t[c]["statistics_list"].length,text:d[this.fields[u]]||(0===d[this.fields[u]]?0:"--")})),0==u||Object.prototype.hasOwnProperty.call(d,this.fields[u])||f.push({text:p[this.fields[u]]||(0===p[this.fields[u]]?0:"--")});a.push(f)}return a}},watch:{company_id:function(t,e){var a=this;this.$nextTick((function(){1==t?a.$children[3].resizeFixedHead():2==t?a.$children[4].resizeFixedHead():a.$children[5].resizeFixedHead()}))}}},h=d,p=(a("66fa"),a("2877")),f=Object(p["a"])(h,i,s,!1,null,"75e41d94",null);e["default"]=f.exports},8418:function(t,e,a){"use strict";var i=a("c04e"),s=a("9bf2"),l=a("5c6c");t.exports=function(t,e,a){var o=i(e);o in t?s.f(t,o,l(0,a)):t[o]=a}},a434:function(t,e,a){"use strict";var i=a("23e7"),s=a("23cb"),l=a("a691"),o=a("50c4"),r=a("7b0b"),n=a("65f0"),c=a("8418"),d=a("1dde"),h=a("ae40"),p=d("splice"),f=h("splice",{ACCESSORS:!0,0:0,1:2}),u=Math.max,b=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var a,i,d,h,p,f,_=r(this),g=o(_.length),y=s(t,g),x=arguments.length;if(0===x?a=i=0:1===x?(a=0,i=g-y):(a=x-2,i=b(u(l(e),0),g-y)),g+a-i>v)throw TypeError(m);for(d=n(_,i),h=0;h<i;h++)p=y+h,p in _&&c(d,h,_[p]);if(d.length=i,a<i){for(h=y;h<g-i;h++)p=h+i,f=h+a,p in _?_[f]=_[p]:delete _[f];for(h=g;h>g-i+a;h--)delete _[h-1]}else if(a>i)for(h=g-i;h>y;h--)p=h+i-1,f=h+a-1,p in _?_[f]=_[p]:delete _[f];for(h=0;h<a;h++)_[h+y]=arguments[h+2];return _.length=g-i+a,d}})},be05:function(t,e,a){var i=a("c3ef");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("18399b48",i,!0,{sourceMap:!1,shadowMode:!1})},c3ef:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".detail-container[data-v-75e41d94]{background-color:#f2f2f2;padding:0;margin:0;overflow-y:scroll}",""]),t.exports=e},ddb0:function(t,e,a){var i=a("da84"),s=a("fdbc"),l=a("e260"),o=a("9112"),r=a("b622"),n=r("iterator"),c=r("toStringTag"),d=l.values;for(var h in s){var p=i[h],f=p&&p.prototype;if(f){if(f[n]!==d)try{o(f,n,d)}catch(b){f[n]=d}if(f[c]||o(f,c,h),s[h])for(var u in l)if(f[u]!==l[u])try{o(f,u,l[u])}catch(b){f[u]=l[u]}}}},e8b5:function(t,e,a){var i=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},ea57:function(t,e,a){var i=a("4e4f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("2bc63ce5",i,!0,{sourceMap:!1,shadowMode:!1})},f781:function(t,e,a){"use strict";var i=a("ea57"),s=a.n(i);s.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);