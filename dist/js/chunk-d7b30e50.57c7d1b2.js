(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7b30e50"],{"0a24":function(t,a,e){var i=e("eae4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=e("499e").default;r("79eb437f",i,!0,{sourceMap:!1,shadowMode:!1})},"196b":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".confirm[data-v-5f6fa4c7]{z-index:9997;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.confirm[data-v-5f6fa4c7],.confirm-mark[data-v-5f6fa4c7]{position:fixed;width:100%;left:0;top:0}.confirm-mark[data-v-5f6fa4c7]{height:100%;background:#000;opacity:.5;z-index:9998}.confirm-box[data-v-5f6fa4c7]{border-radius:.25rem;margin:auto;margin-top:1rem;width:18.75rem;background:#fff;position:relative;z-index:9999;padding-bottom:.34rem}.confirm-box[data-v-5f6fa4c7],.confirm-header[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-header[data-v-5f6fa4c7]{padding:0 .5rem;border-bottom:1px solid #e5e5e5;font-size:.5625rem;line-height:1.75rem;height:1.75rem;color:#676b6d}.confirm-body[data-v-5f6fa4c7]{position:relative;padding:.5rem}.confirm-body[data-v-5f6fa4c7],.confirm-form-line[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.confirm-form-line[data-v-5f6fa4c7]{height:1.06rem;margin-bottom:.5rem;font-size:.4375rem;display:-webkit-box;display:-ms-flexbox;display:flex;color:#676b6d}.confirm-form-line.line2[data-v-5f6fa4c7]{display:block}.confirm-form-line.line2[data-v-5f6fa4c7],.confirm-form-line.line2>div[data-v-5f6fa4c7]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.confirm-form-line.line2>div[data-v-5f6fa4c7]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:0}.confirm-form-line.line2>div>label[data-v-5f6fa4c7]{display:inline-block;width:3rem;text-align:right}.confirm-form-line.line2>div>div[data-v-5f6fa4c7]{display:inline-block;width:0;-webkit-box-flex:1;-ms-flex:1;flex:1}.confirm-form-line label[data-v-5f6fa4c7]{width:16%;text-align:right;font-size:.4375rem;padding:0 .5rem;height:100%;line-height:1.06rem}.confirm-form-line .monthBox[data-v-5f6fa4c7]{display:inline-block;padding-top:.15rem}.confirm-form-line.line2>div>div .sub[data-v-5f6fa4c7],.confirm-form-line .monthBox .sub[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-right:none;cursor:pointer}.confirm-form-line.line2>div>div .add[data-v-5f6fa4c7],.confirm-form-line .monthBox .add[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-left:none;margin-right:.2rem;cursor:pointer}.confirm-form-line.line2>div>div .num[data-v-5f6fa4c7],.confirm-form-line .monthBox .num[data-v-5f6fa4c7]{vertical-align:top;display:inline-block;width:1rem;height:.7rem;border:1px solid #333;text-align:center;outline:none}.confirm-form-line-right[data-v-5f6fa4c7]{-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:1.06rem;padding:0 .5rem}.confirm-form-line-right[data-v-5f6fa4c7],.confirm-form-line-right input[data-v-5f6fa4c7]{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-form-line-right input[data-v-5f6fa4c7]{width:100%;display:block;padding:.2rem .375rem;font-size:.4375rem;color:#555;background-color:#fff;border:1px solid #ccc;border-radius:.125rem}.confirm-footer[data-v-5f6fa4c7]{width:100%;border-top:1px solid #e5e5e5;padding:0 .5rem;height:1.75rem;line-height:1.75rem;text-align:right}.confirm-footer[data-v-5f6fa4c7],.confirm-footer button[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-footer button[data-v-5f6fa4c7]{display:inline-block;font-size:.4375rem}.confirm-ok[data-v-5f6fa4c7]{background-color:#26af95;color:#fff;width:2.5rem}.confirm-cancel[data-v-5f6fa4c7],.confirm-ok[data-v-5f6fa4c7]{padding:.2rem .375rem;border-radius:.125rem;border:1px solid transparent;cursor:pointer}.confirm-cancel[data-v-5f6fa4c7]{background-color:#fff;border-color:#ccc;color:#333;margin-left:1rem}.fade-enter-active[data-v-5f6fa4c7]{-webkit-animation:fade-in-data-v-5f6fa4c7 .3s ease-in;animation:fade-in-data-v-5f6fa4c7 .3s ease-in}.fade-leave-active[data-v-5f6fa4c7]{-webkit-animation:fade-out-data-v-5f6fa4c7 .5s ease-out;animation:fade-out-data-v-5f6fa4c7 .5s ease-out}.ease-enter-active[data-v-5f6fa4c7]{-webkit-animation:easein-data-v-5f6fa4c7 .3s ease-in;animation:easein-data-v-5f6fa4c7 .3s ease-in}.ease-leave-active[data-v-5f6fa4c7]{-webkit-animation:easeout-data-v-5f6fa4c7 .3s ease-out;animation:easeout-data-v-5f6fa4c7 .3s ease-out}@-webkit-keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@-webkit-keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@-webkit-keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@-webkit-keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}@keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}",""]),t.exports=a},2161:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"confirm"},[e("transition",{attrs:{name:"fade"}},[t.isShow?e("div",{staticClass:"confirm-mark"}):t._e()]),e("transition",{attrs:{name:"ease"}},[t.isShow?e("div",{staticClass:"confirm-box"},[e("div",{staticClass:"confirm-header"},[t._v(t._s(t.confirmParams.header))]),"modifyPwd"==t.confirmParams.type?e("div",{staticClass:"confirm-body"},[e("div",{staticClass:"confirm-form-line"},[e("label",[t._v("账户名:")]),e("div",{staticClass:"confirm-form-line-right"},[t._v(" "+t._s(t.confirmParams.username)+" ")])]),e("div",{staticClass:"confirm-form-line"},[e("label",[t._v("密码:")]),e("div",{staticClass:"confirm-form-line-right"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.pwd,expression:"pwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.pwd},on:{input:function(a){a.target.composing||(t.pwd=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"confirm-form-line"},[e("label",[t._v("确认密码:")]),e("div",{staticClass:"confirm-form-line-right"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.confirmPwd,expression:"confirmPwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.confirmPwd},on:{input:function(a){a.target.composing||(t.confirmPwd=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])])]):t._e(),"del"==t.confirmParams.type?e("div",{staticClass:"confirm-body"},[e("div",{staticClass:"confirm-form-line"},[t._v("确定删除?")])]):t._e(),"modifyStatus"==t.confirmParams.type?e("div",{staticClass:"confirm-body"},[e("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))])]):t._e(),"yfdRobot"==t.confirmParams.type?e("div",{staticClass:"confirm-body"},["outline"==t.confirmParams.tp||"delete"==t.confirmParams.tp?e("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))]):"globalSetting"==t.confirmParams.tp?e("div",{staticClass:"confirm-form-line line2"},[e("div",[e("label",[t._v("H5全局权限")]),e("div",[e("div",{staticClass:"line",staticStyle:{"margin-bottom":".5rem",display:"inline-block"}},[t._v(" 微信群 "),e("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.groupStatu},on:{changeSwitchStatus:t.changeGroupStatus}})],1),e("div",{staticClass:"line",staticStyle:{display:"inline-block","margin-left":"1rem"}},[t._v(" 朋友圈 "),e("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.friendStatu},on:{changeSwitchStatus:t.changeFriendStatus}})],1)])]),e("div",[e("label",[t._v("最大同步群数")]),e("div",[e("div",{staticClass:"sub",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.subNumber(a)}}},[t._v("-")]),e("div",{staticClass:"num"},[t._v(t._s(t.confirmParams.maxGroup))]),e("div",{staticClass:"add",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.addNumber(a)}}},[t._v("+")]),t._v(" 限10个以内 ")])]),e("div",[e("label",[t._v("监控设置")]),e("div",[t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_one?e("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start"}},[e("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("1群：")]),e("div",{staticClass:"group_setting",staticStyle:{display:"inline-block","font-size":"0.375rem",color:"red"}},[t._v(" 开启指令："+t._s(t.confirmParams.adminGroupSettings.group_one.open_monitor)+" "),e("br"),t._v(" 关闭指令："+t._s(t.confirmParams.adminGroupSettings.group_one.close_monitor)+" ")])]):t._e(),t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_two?e("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start","margin-top":"0.3rem"}},[e("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("2群：")]),e("div",{staticClass:"group_setting",staticStyle:{display:"inline-block",flex:"1"}},[e("div",{staticClass:"action-btn",style:t.confirmParams.setGroupTwo?"background-color: #ccc; color: white; width: fit-content; display: inline-block;":"display: inline-block; width: fit-content;",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.$parent.changeGroupTwoStatu(a)}}},[t._v("设置")]),t.confirmParams.setGroupTwo?e("div",{staticClass:"action-btn",staticStyle:{float:"right",display:"inline-block"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.$parent.refreshAdminGroupSettings(a)}}},[t._v("刷新")]):t._e(),t.confirmParams.setGroupTwo?e("div",{staticClass:"table",staticStyle:{width:"100%",height:"5rem",overflow:"hidden","overflow-y":"auto"}},[e("table",[e("thead",[e("tr",{staticStyle:{height:"1rem"}},[e("td",{staticStyle:{width:"1.5rem"}},[t._v("序号")]),e("td",[t._v("群名")])])]),e("tbody",t._l(t.confirmParams.adminGroupSettings.group_two,(function(a,i){return e("tr",{key:i,staticStyle:{height:"1rem"}},[e("td",{staticStyle:{width:"1.5rem"}},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.confirmParams.adminGroupSettings.select_group.indexOf(a.group_id)>=0},on:{change:function(a){return a.preventDefault(),a.stopPropagation(),t.$parent.changeGroupTwoSelect(i)}}}),t._v(t._s(i+1))]),e("td",[t._v(t._s(a.group_name))])])})),0)])]):t._e(),t.confirmParams.setGroupTwo?e("div",{staticStyle:{"font-size":".375rem",color:"red"}},[t._v("已选中："+t._s(t.selectedGroupName))]):t._e()])]):t._e()])]),e("div",{staticStyle:{"margin-top":"0.2rem"}},[e("label",[t._v("H5顶部提示")]),e("div",{staticStyle:{width:"100%",height:"3rem"}},[e("html-editor",{staticClass:"headerMsgEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.head_message,editable:!0}})],1)]),e("div",{staticStyle:{"margin-top":"0.2rem"}},[e("label",[t._v("淘口令小尾巴")]),e("div",{staticStyle:{width:"100%",height:"3rem"}},[e("html-editor",{staticClass:"tkCodeEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.tk_code,editable:!0}})],1)])]):e("div",{staticClass:"confirm-form-line"},[e("label",[t._v("选择续时时间")]),e("div",{staticClass:"monthBox"},[e("div",{staticClass:"sub",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.subNumber(a)}}},[t._v("-")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmParams.month,expression:"confirmParams.month"}],staticClass:"num",attrs:{type:"text"},domProps:{value:t.confirmParams.month},on:{input:function(a){a.target.composing||t.$set(t.confirmParams,"month",a.target.value)}}}),e("div",{staticClass:"add",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.addNumber(a)}}},[t._v("+")]),t._v(" 月 ")])])]):t._e(),e("div",{staticClass:"confirm-footer"},[e("button",{staticClass:"confirm-ok",on:{click:function(a){return t.confirm(1)}}},[t._v("确认")]),e("button",{staticClass:"confirm-cancel",on:{click:function(a){return t.confirm(0)}}},[t._v("取消")])])]):t._e()])],1)},r=[],n=(e("c975"),e("a15b"),e("406a")),o=e("a0f6"),s={props:["isShow","confirmParams"],data:function(){return{pwd:"",confirmPwd:""}},components:{"switch-progress":n["a"],htmlEditor:o["a"]},computed:{selectedGroupName:function(){for(var t=[],a=0;a<this.confirmParams.adminGroupSettings.group_two.length;a++)this.confirmParams.adminGroupSettings.select_group.indexOf(this.confirmParams.adminGroupSettings.group_two[a].group_id)>=0&&t.push(this.confirmParams.adminGroupSettings.group_two[a].group_name);return t.join(",")}},methods:{changeGroupStatus:function(t){this.confirmParams.groupStatu=t.status},changeFriendStatus:function(t){this.confirmParams.friendStatu=t.status},subNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month>1&&(this.confirmParams.month-=1):"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup>1&&(this.confirmParams.maxGroup-=1)},addNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month=this.confirmParams.month-0+1:"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup<10&&(this.confirmParams.maxGroup=this.confirmParams.maxGroup-0+1)},confirm:function(t){if(0==t)this.$emit("confirmClicked");else switch(this.confirmParams.type){case"modifyPwd":this.confirmModifyPwd();break;case"del":this.confirmDel();break;case"modifyStatus":this.confirmModifyStatus();break;case"yfdRobot":this.confirmModifyStatus();break;default:return}},confirmModifyStatus:function(){if(this.confirmParams.tp&&"globalSetting"==this.confirmParams.tp)for(var t in this.$children)this.$children[t].$el.className.indexOf("headerMsgEditor")>=0&&(this.confirmParams.tipsStringSettings["head_message"]=this.$children[t].getContent()),this.$children[t].$el.className.indexOf("tkCodeEditor")>=0&&(this.confirmParams.tipsStringSettings["tk_code"]=this.$children[t].getContent());this.$emit("confirmClicked",this.confirmParams)},confirmDel:function(){this.$emit("confirmClicked",this.confirmParams)},confirmModifyPwd:function(){if(this.pwd)if(this.confirmPwd)if(this.confirmPwd==this.pwd){var t=this.confirmParams;t.pwd=this.pwd,this.$emit("confirmClicked",t),this.pwd="",this.confirmPwd=""}else this.$parent.alert("两次输入的密码不一致");else this.$parent.alert("请再次输入新密码");else this.$parent.alert("请输入新密码")}}},c=s,d=(e("9f6d"),e("2877")),l=Object(d["a"])(c,i,r,!1,null,"5f6fa4c7",null);a["a"]=l.exports},"21f0":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDRENzdFMzgyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDRENzdFMzkyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NEQ3N0UzNjJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NEQ3N0UzNzJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu9JCT8AAAAzSURBVHjaYrx3795/BjIBC5RmJEPvfyYGCsBI1MyCHoJE6GHEpZlxNLTpEFVk5SyAAAMAQ6sGvzkOx9MAAAAASUVORK5CYII="},"9f6d":function(t,a,e){"use strict";var i=e("fc49"),r=e.n(i);r.a},ba04:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"detail-container"},[t.showUserEditor?t._e():e("div",{staticClass:"detail-header"},["T"==t.contentData.actions.user_add?e("button",{staticClass:"action-btn",on:{click:t.showEditUserView}},[t._v("新增用户")]):t._e()]),t.showUserEditor?t._e():e("div",{staticClass:"table-container"},[e("detail-table",{attrs:{tableHeaderFixed:t.tableHeaderFixed,tableBodyClick:t.tableBodyClick,tbType:t.tbType,tableHeader:t.tableHeader,tbData:t.contentData.data},on:{editUserClicked:t.editUserInfo,modifyPwdClicked:t.modifyPwd,deleteUserClicked:t.deleteUser}})],1),t.showUserEditor?e("user-editor",{attrs:{userInfo:t.currUserInfo,authInfo:t.authInfo,authTree:t.authTree,editUser:t.editUser},on:{reloadUserList:t.loadUserList}}):e("div",{staticClass:"pages-container"},[t._v(" 共搜索到"),e("span",{staticClass:"pages-rows"},[t._v(t._s(t.contentData.total))]),t._v("条数据 "),e("div",{staticClass:"pages-btns"},[e("div",{class:"pageBtn prev"+(1==t.contentData.page?" disabled":""),on:{click:t.loadPrevPage}},[t._v("<")]),t._l(t.toPage-t.fromPage+1,(function(a){return e("div",{key:a,class:"pageBtn"+(a+t.fromPage-1==t.currPage?" checked":""),on:{click:function(e){return t.loadUserList(a+t.fromPage-1)}}},[t._v(t._s(a+t.fromPage-1))])})),e("div",{class:"pageBtn next"+(t.contentData.page==t.contentData.total_page?" disabled":""),on:{click:t.loadNextPage}},[t._v(">")])],2)]),e("confirm",{attrs:{isShow:t.showConfirm,confirmParams:t.confirmParams},on:{confirmClicked:t.confirmClicked}})],1)},r=[],n=(e("d3b7"),e("bcc8")),o=e("bff1"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"user-editor hideScrollBar"},[e("div",{staticClass:"form-group lineheight1rem"},[e("label",[t._v("账户名:")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfo.user_name,expression:"userInfo.user_name",modifiers:{trim:!0}}],staticClass:"form-ipt",attrs:{type:"text"},domProps:{value:t.userInfo.user_name},on:{input:function(a){a.target.composing||t.$set(t.userInfo,"user_name",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}}),t.editUser?t._e():e("label",[t._v("账户密码:")]),t.editUser?t._e():e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfo.passwd,expression:"userInfo.passwd",modifiers:{trim:!0}}],staticClass:"form-ipt",attrs:{type:"password"},domProps:{value:t.userInfo.passwd},on:{input:function(a){a.target.composing||t.$set(t.userInfo,"passwd",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}}),e("label",[t._v("用户姓名:")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfo.user_real_name,expression:"userInfo.user_real_name",modifiers:{trim:!0}}],staticClass:"form-ipt",attrs:{type:"text"},domProps:{value:t.userInfo.user_real_name},on:{input:function(a){a.target.composing||t.$set(t.userInfo,"user_real_name",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group h-flex lineheight1rem"},[e("label",[t._v("账户角色:")]),e("ul",{staticClass:"h-list"},t._l(t.authTree.roles_info,(function(a,i){return e("li",{key:i,staticClass:"h-item"},[e("input",{staticClass:"checkbox",attrs:{type:"checkbox","data-url":a.name},domProps:{checked:t.roles[a.name]},on:{click:function(e){return t.roleItemClicked(a)}}}),t._v(t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"form-group h-flex"},[e("label",[t._v("用户额外权限:")]),e("div",{staticStyle:{flex:"1"}},[e("ul",{staticClass:"tree-box"},t._l(t.authTree.auth_info.auth_info,(function(a,i){return e("li",{key:i,staticClass:"tree-item"},[e("a",{staticClass:"collapse",attrs:{"data-toggle":"collapse","aria-expanded":a.expand?"":"false"},on:{click:function(e){return t.itemClicked(a)}}}),e("label",[e("input",{staticClass:"checkbox",attrs:{type:"checkbox","data-url":a.name},domProps:{checked:t.rootAuths[a.name]},on:{change:function(e){return t.ckdChanged(a)}}}),t._v(" "+t._s(a.name)+" ")]),e("ul",{class:"tree-box child"+(a.expand?"":" hide")},t._l(a.auth_detail,(function(i,r){return e("li",{key:r,staticClass:"tree-item"},[e("a",{staticClass:"collapse",attrs:{"data-toggle":"collapse","aria-expanded":i.expand?"":"false"},on:{click:function(a){return t.itemClicked(i)}}}),e("label",[e("input",{staticClass:"checkbox",attrs:{type:"checkbox","data-url":i.name},domProps:{checked:t.auths[i.name]},on:{change:function(e){return t.ckdChanged(i,a)}}}),t._v(" "+t._s(i.show_name)+" ")]),e("ul",{class:"tree-box child"+(i.expand?"":" hide")},t._l(i.auth_detail,(function(r,n){return e("li",{key:n,staticClass:"tree-item"},[e("a",{staticClass:"collapse",attrs:{"data-toggle":"collapse","aria-expanded":r.expand?"":"false"}}),e("label",[e("input",{staticClass:"checkbox",attrs:{type:"checkbox","data-url":r.name},domProps:{checked:t.auths[r.name]},on:{change:function(e){return t.ckdChanged(r,i,a)}}}),t._v(" "+t._s(r.show_name)+" ")])])})),0)])})),0)])})),0),e("div",{staticClass:"actions"},[e("button",{staticClass:"action",attrs:{value:"保存"},on:{click:t.saveUserInfo}},[t._v("保存")]),e("button",{staticClass:"action",attrs:{value:"取消"},on:{click:t.cancelEdit}},[t._v("取消")])])])])])},c=[],d=(e("b0c0"),e("2c17")),l=e("4328"),f=e.n(l),m={props:["userInfo","editUser","authInfo","authTree"],data:function(){return{roles:{},auths:{},rootAuths:{}}},created:function(){if(this.authInfo){for(var t in this.authInfo.user_roles_info)this.roles[this.authInfo.user_roles_info[t].item_name]=!0;for(var a in this.authInfo.user_info.extra_permission)this.auths[this.authInfo.user_info.extra_permission[a]]=!0}for(var e in this.roles=Object.assign({},this.roles),this.auths=Object.assign({},this.auths),this.authTree.auth_info.auth_info){var i=this.authTree.auth_info.auth_info[e];if(void 0!=this.auths[i.name]&&delete this.auths[i.name],this.rootAuths[i.name]=!1,i.auth_detail)for(var r in i.auth_detail){var n=i.auth_detail[r];if(this.auths[n.name]){this.rootAuths[i.name]=!0;break}if(n.auth_detail)for(var o in n.auth_detail){var s=n.auth_detail[o];if(this.auths[s.name]){this.rootAuths[i.name]=!0;break}}}}this.rootAuths=Object.assign({},this.rootAuths)},methods:{itemClicked:function(t){t.expand=!t.expand},roleItemClicked:function(t){var a={};a[t.name]=!this.roles[t.name],this.roles=Object.assign({},this.roles,a)},saveUserInfo:function(){var t=this,a="",e={user_name:this.userInfo["user_name"],user_real_name:this.userInfo["user_real_name"],roles:[],extra_permission:[]};for(var i in this.editUser?(e["user_id"]=this.userInfo["user_id"],a=o["default"].urls.userEdit):(e.password=this.userInfo.passwd,a=o["default"].urls.userAdd),this.roles)this.roles[i]&&e.roles.push(i);for(var r in this.auths)this.auths[r]&&e["extra_permission"].push(r);for(var n in this.rootAuths)this.rootAuths[n]&&e["extra_permission"].push(n);Object(d["a"])({url:a,method:"post",data:f.a.stringify(e)}).then((function(a){if(200==a.status){var e=a.data;200==e.code?(t.cancelEdit(),t.$emit("reloadUserList")):t.$parent.alert(e.message||"请求失败")}})).catch((function(t){}))},cancelEdit:function(){this.$parent.showUserEditor=!1,this.$parent.currUserInfo={},this.$parent.editUser=!1,this.$parent.$parent.subTitle2="",this.$parent.authInfo=null,this.initAuthTree()},initAuthTree:function(){for(var t in this.authTree.auth_info.auth_info){var a=this.authTree.auth_info.auth_info[t];if(a.expand=!1,a.auth_detail)for(var e in a.auth_detail){var i=a.auth_detail[e];i.expand=!1}}},ckdChanged:function(t,a,e){var i=t.name,r={},n={};if(e)if(r[i]=!this.auths[i],r[i])r[a.name]=!0,n[e.name]=!0;else{var o=!1;for(var s in a.auth_detail){var c=a.auth_detail[s];if(this.auths[c.name]&&0!=r[c.name]){o=!0;break}}if(r[a.name]=o,!o){var d=!1;for(var l in e.auth_detail){var f=e.auth_detail[l];if(this.auths[f.name]&&0!=r[f.name]){d=!0;break}}n[e.name]=d}}else if(a)if(r[i]=!this.auths[i],r[i])for(var m in n[a.name]=!0,t.auth_detail){var u=t.auth_detail[m];r[u.name]=!0}else{for(var h in t.auth_detail){var p=t.auth_detail[h];r[p.name]=!1}var v=!1;for(var g in a.auth_detail){var b=a.auth_detail[g];if(this.auths[b.name]&&0!=r[b.name]){v=!0;break}}n[a.name]=v}else if(n[i]=!this.rootAuths[i],n[i])for(var k in t.auth_detail){var _=t.auth_detail[k];for(var w in r[_.name]=!0,_.auth_detail){var A=_.auth_detail[w];r[A.name]=!0}}else for(var y in t.auth_detail){var x=t.auth_detail[y];for(var C in r[x.name]=!1,x.auth_detail){var P=x.auth_detail[C];r[P.name]=!1}}this.auths=Object.assign({},this.auths,r),this.rootAuths=Object.assign({},this.rootAuths,n)}}},u=m,h=(e("d072"),e("2877")),p=Object(h["a"])(u,s,c,!1,null,"b88341d2",null),v=p.exports,g=e("2161"),b={inject:["reload","alert","showLoading","hideLoading"],components:{"detail-table":n["a"],"user-editor":v,confirm:g["a"]},data:function(){return{tableHeader:o["default"].tableHeader.userManager,tbType:"user",tableHeaderFixed:!1,tableBodyClick:!1,showUserEditor:!1,currUserInfo:{},currPage:1,authTree:null,editUser:!1,showConfirm:!1,confirmParams:{},authInfo:null,contentData:{actions:{},data:{},total:1,page:1,total_page:1}}},created:function(){this.loadAuthTree(),this.loadUserList(1)},methods:{confirmClicked:function(t){var a=this;if(this.showConfirm=!1,t){var e="",i="get",r="",n={},s=null,c=null;"modifyPwd"==t.type?(e=o["default"].urls.editPwd,i="post",r=f.a.stringify({user_id:t.user_id,password:t.pwd}),s=function(){a.alert("修改密码成功")},c=function(t){a.alert(t||"修改密码失败")}):"del"==t.type&&(e=o["default"].urls.userDel,i="get",n={user_id:t.user_id},s=this.loadUserList,c=function(t){a.alert(t||"删除用户失败")}),Object(d["a"])({url:e,method:i,data:r,params:n}).then((function(t){if(200==t.status){var a=t.data;200==a.code?s():c(a.message)}else c("操作失败")})).catch((function(t){c(t.message)}))}},loadPrevPage:function(){1==this.currPage?this.alert("已经是第一页"):this.loadUserList(this.currPage-1)},loadNextPage:function(){this.currPage==this.contentData.total_page?this.alert("已经是最后一页"):this.loadUserList(this.currPage-0+1)},loadUserList:function(t){var a=this;this.showLoading(),Object(d["a"])({url:o["default"].urls.userAuthList,method:"get",params:{page:t||this.currPage}}).then((function(t){if(200==t.status){var e=t.data;200==e.code?a.contentData=Object.assign({},e.data):a.alert(e.message||"请求用户列表数据失败")}else a.alert("请求用户列表数据失败")})).catch((function(t){a.alert("请求用户列表数据失败")})).then((function(){a.hideLoading()}))},showEditUserView:function(){this.editUser=!1,this.showUserEditor=!0,this.currUserInfo={},this.$parent.subTitle2=this.editUser?"编辑用户":"新增用户"},editUserInfo:function(t){this.editUser=!0,this.$parent.subTitle2=this.editUser?"编辑用户":"新增用户",this.loadAuthInfo(this.contentData.data[t].user_id),this.currUserInfo=Object.assign({},this.contentData.data[t])},modifyPwd:function(t){var a={type:"modifyPwd",username:this.contentData.data[t]["user_name"],header:"修改密码",user_id:this.contentData.data[t]["user_id"]};this.confirmParams=Object.assign({},a),this.showConfirm=!0},deleteUser:function(t){var a={type:"del",header:"操作提示",user_id:this.contentData.data[t]["user_id"]};this.confirmParams=Object.assign({},a),this.showConfirm=!0},loadAuthTree:function(){var t=this;return this.authTree?(new Promise).resolve():d["a"].get(o["default"].urls.userAuthTree).then((function(a){if(200==a.status){var e=a.data;if(200==e.code){var i=e.data;for(var r in i.auth_info.auth_info){var n=i.auth_info.auth_info[r];if(n.expand=!1,n.auth_detail)for(var o in n.auth_detail){var s=n.auth_detail[o];if(s.expand=!1,s.auth_detail)for(var c in s.auth_detail){var d=s.auth_detail[c];d.expand=!0}}}t.authTree=Object.assign({},i)}}})).catch((function(t){}))},loadAuthInfo:function(t){var a=this;return Object(d["a"])({url:o["default"].urls.userAuthInfo,params:{user_id:t}}).then((function(t){if(200==t.status){var e=t.data;200==e.code&&(a.authInfo=Object.assign({},e.data),a.showUserEditor=!0)}})).catch((function(t){}))}},computed:{fromPage:function(){var t=1;return t=this.contentData.total_page>9?this.contentData.page<=5?1:this.contentData.total_page-this.contentData.page<=4?this.contentData.total_page-8:this.contentData.page-4:1,t},toPage:function(){var t=9;return t=this.contentData.total_page>9?this.contentData.page<=5?9:this.contentData.total_page-this.contentData.page<=4?this.contentData.total_page-0:this.contentData.page-0+4:this.contentData.total_page-0||1,t}}},k=b,_=Object(h["a"])(k,i,r,!1,null,null,null);a["default"]=_.exports},d072:function(t,a,e){"use strict";var i=e("0a24"),r=e.n(i);r.a},e902:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAPCAYAAAAlH6X5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjI5NjEwRkIyQkVDMTFFN0I2M0RBNjk4NkMwODQwQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjI5NjEwRkMyQkVDMTFFN0I2M0RBNjk4NkMwODQwQkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMjk2MTBGOTJCRUMxMUU3QjYzREE2OTg2QzA4NDBCRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMjk2MTBGQTJCRUMxMUU3QjYzREE2OTg2QzA4NDBCRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjefXEsAAAAiSURBVHjaYrh37x4DEwMDwx8QwQwiwFxGOOs/nEVAAiDAAD0iBbdysbFuAAAAAElFTkSuQmCC"},eae4:function(t,a,e){var i=e("24fb"),r=e("1de5"),n=e("0993"),o=e("f0c8"),s=e("e902"),c=e("21f0"),d=e("eaec");a=i(!1);var l=r(n),f=r(o),m=r(s),u=r(c),h=r(d);a.push([t.i,".user-editor[data-v-b88341d2]{color:#666;overflow:scroll}.checkbox[data-v-b88341d2]{vertical-align:sub;position:relative;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:.5rem;width:.625rem;height:.625rem}.checkbox[data-v-b88341d2]:checked:after{background-image:url("+l+")}.checkbox[data-v-b88341d2]:after{background-color:#fff;background-image:url("+f+');position:absolute;content:" ";background-repeat:no-repeat;background-position:50%;background-size:100% 100%;width:.625rem;height:.625rem}.tree-box[data-v-b88341d2]{background:#fff url('+m+") .25rem/1px repeat-y}.tree-box.child[data-v-b88341d2]{padding-left:2rem}.tree-item[data-v-b88341d2]{margin:.3rem 0;background-color:#fff;margin-top:0}.tree-item>a[data-toggle=collapse][data-v-b88341d2]{padding-left:1rem;background:#fff url("+u+") no-repeat 0/auto;cursor:pointer;padding-left:1.5rem}.tree-item>a[data-toggle=collapse][aria-expanded=false][data-v-b88341d2]{background:#fff url("+h+") no-repeat 0/auto}.tree-item>label[data-v-b88341d2]{margin-bottom:.3rem;display:inline-block}.hide[data-v-b88341d2]{display:none}.actions[data-v-b88341d2]{margin-top:.5rem;width:100%}.action[data-v-b88341d2]{width:2.5rem;height:1.0625rem;color:#fff;text-align:center;font-size:.4375rem;cursor:pointer;background-color:#108beb;border-radius:.125rem}.action[data-v-b88341d2]:last-child{margin-left:1rem}",""]),t.exports=a},eaec:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDRENzdFMzQyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDRENzdFMzUyQkU0MTFFN0I2M0RBNjk4NkMwODQwQkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NEQ3N0UzMjJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NEQ3N0UzMzJCRTQxMUU3QjYzREE2OTg2QzA4NDBCRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqAl8X0AAABASURBVHjaYrx3795/BjIBC5RmJEPvfyYGCgAhzf8p0cwwODWzEOFHdDFGXJoZsWhkHGYBRkgzI82jiqycBRBgAEsYCb61/i3PAAAAAElFTkSuQmCC"},fc49:function(t,a,e){var i=e("196b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=e("499e").default;r("94ae02be",i,!0,{sourceMap:!1,shadowMode:!1})}}]);