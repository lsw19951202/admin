(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-236a795d"],{"18da":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.detail-container[data-v-314a2e7f]{background-color:#f2f2f2;padding:0;margin:0;overflow-y:scroll}.detail-data-box[data-v-314a2e7f]{margin-top:0}.footer[data-v-314a2e7f]{display:-webkit-box;display:-ms-flexbox;display:flex}.footer .settingbox[data-v-314a2e7f]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.footer .pages-container[data-v-314a2e7f]{width:0;-webkit-box-flex:1;-ms-flex:1;flex:1}.odConfirmBox[data-v-314a2e7f]{position:fixed;left:0;top:0;width:100%;height:100%;z-index:9900;background-color:rgba(0,0,0,.7)}.odConfirmBox .main[data-v-314a2e7f]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:#fff;border-radius:10px;text-align:left}.odConfirmBox .main .header[data-v-314a2e7f]{width:100%;height:1rem;line-height:1rem;font-size:.625rem;border-bottom:1px solid #333;padding:0 .5rem}.odConfirmBox .main .iptLine[data-v-314a2e7f]{padding:.5rem;font-size:.5rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.odConfirmBox .main .iptLine label[data-v-314a2e7f]{height:100%;display:inline-block;width:2.5rem;text-align:right}.odConfirmBox .main .iptLine label.bt[data-v-314a2e7f]:after{content:"*";display:inline-block;color:red}.odConfirmBox .main .iptLine .iptRight[data-v-314a2e7f]{display:inline-block;padding-left:.5rem}.odConfirmBox .main .iptLine .iptRight .accountNum[data-v-314a2e7f],.odConfirmBox .main .iptLine .iptRight .tips[data-v-314a2e7f]{width:100%;font-size:.4125rem;color:red;white-space:nowrap}.odConfirmBox .main .iptLine .iptRight textarea[data-v-314a2e7f]{width:100%;resize:none;height:5rem;padding:.3rem;border:1px solid #999;-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:.3rem}.odConfirmBox .main .iptLine .iptRight .action-btn.cancel[data-v-314a2e7f]{color:#333;background-color:#ccc}',""]),t.exports=e},"196b":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".confirm[data-v-5f6fa4c7]{z-index:9997;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.confirm[data-v-5f6fa4c7],.confirm-mark[data-v-5f6fa4c7]{position:fixed;width:100%;left:0;top:0}.confirm-mark[data-v-5f6fa4c7]{height:100%;background:#000;opacity:.5;z-index:9998}.confirm-box[data-v-5f6fa4c7]{border-radius:.25rem;margin:auto;margin-top:1rem;width:18.75rem;background:#fff;position:relative;z-index:9999;padding-bottom:.34rem}.confirm-box[data-v-5f6fa4c7],.confirm-header[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-header[data-v-5f6fa4c7]{padding:0 .5rem;border-bottom:1px solid #e5e5e5;font-size:.5625rem;line-height:1.75rem;height:1.75rem;color:#676b6d}.confirm-body[data-v-5f6fa4c7]{position:relative;padding:.5rem}.confirm-body[data-v-5f6fa4c7],.confirm-form-line[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.confirm-form-line[data-v-5f6fa4c7]{height:1.06rem;margin-bottom:.5rem;font-size:.4375rem;display:-webkit-box;display:-ms-flexbox;display:flex;color:#676b6d}.confirm-form-line.line2[data-v-5f6fa4c7]{display:block}.confirm-form-line.line2[data-v-5f6fa4c7],.confirm-form-line.line2>div[data-v-5f6fa4c7]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.confirm-form-line.line2>div[data-v-5f6fa4c7]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:0}.confirm-form-line.line2>div>label[data-v-5f6fa4c7]{display:inline-block;width:3rem;text-align:right}.confirm-form-line.line2>div>div[data-v-5f6fa4c7]{display:inline-block;width:0;-webkit-box-flex:1;-ms-flex:1;flex:1}.confirm-form-line label[data-v-5f6fa4c7]{width:16%;text-align:right;font-size:.4375rem;padding:0 .5rem;height:100%;line-height:1.06rem}.confirm-form-line .monthBox[data-v-5f6fa4c7]{display:inline-block;padding-top:.15rem}.confirm-form-line.line2>div>div .sub[data-v-5f6fa4c7],.confirm-form-line .monthBox .sub[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-right:none;cursor:pointer}.confirm-form-line.line2>div>div .add[data-v-5f6fa4c7],.confirm-form-line .monthBox .add[data-v-5f6fa4c7]{display:inline-block;width:.7rem;height:.7rem;border:1px solid #333;text-align:center;border-left:none;margin-right:.2rem;cursor:pointer}.confirm-form-line.line2>div>div .num[data-v-5f6fa4c7],.confirm-form-line .monthBox .num[data-v-5f6fa4c7]{vertical-align:top;display:inline-block;width:1rem;height:.7rem;border:1px solid #333;text-align:center;outline:none}.confirm-form-line-right[data-v-5f6fa4c7]{-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:1.06rem;padding:0 .5rem}.confirm-form-line-right[data-v-5f6fa4c7],.confirm-form-line-right input[data-v-5f6fa4c7]{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-form-line-right input[data-v-5f6fa4c7]{width:100%;display:block;padding:.2rem .375rem;font-size:.4375rem;color:#555;background-color:#fff;border:1px solid #ccc;border-radius:.125rem}.confirm-footer[data-v-5f6fa4c7]{width:100%;border-top:1px solid #e5e5e5;padding:0 .5rem;height:1.75rem;line-height:1.75rem;text-align:right}.confirm-footer[data-v-5f6fa4c7],.confirm-footer button[data-v-5f6fa4c7]{-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-footer button[data-v-5f6fa4c7]{display:inline-block;font-size:.4375rem}.confirm-ok[data-v-5f6fa4c7]{background-color:#26af95;color:#fff;width:2.5rem}.confirm-cancel[data-v-5f6fa4c7],.confirm-ok[data-v-5f6fa4c7]{padding:.2rem .375rem;border-radius:.125rem;border:1px solid transparent;cursor:pointer}.confirm-cancel[data-v-5f6fa4c7]{background-color:#fff;border-color:#ccc;color:#333;margin-left:1rem}.fade-enter-active[data-v-5f6fa4c7]{-webkit-animation:fade-in-data-v-5f6fa4c7 .3s ease-in;animation:fade-in-data-v-5f6fa4c7 .3s ease-in}.fade-leave-active[data-v-5f6fa4c7]{-webkit-animation:fade-out-data-v-5f6fa4c7 .5s ease-out;animation:fade-out-data-v-5f6fa4c7 .5s ease-out}.ease-enter-active[data-v-5f6fa4c7]{-webkit-animation:easein-data-v-5f6fa4c7 .3s ease-in;animation:easein-data-v-5f6fa4c7 .3s ease-in}.ease-leave-active[data-v-5f6fa4c7]{-webkit-animation:easeout-data-v-5f6fa4c7 .3s ease-out;animation:easeout-data-v-5f6fa4c7 .3s ease-out}@-webkit-keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@keyframes easein-data-v-5f6fa4c7{0%{margin-top:-5rem}to{margin-top:1rem}}@-webkit-keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@keyframes easeout-data-v-5f6fa4c7{0%{margin-top:1rem}to{margin-top:-5rem}}@-webkit-keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@keyframes fade-in-data-v-5f6fa4c7{0%{opacity:0}to{opacity:.5}}@-webkit-keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}@keyframes fade-out-data-v-5f6fa4c7{0%{opacity:.5}to{opacity:0}}",""]),t.exports=e},"1c7f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-container"},[a("div",{staticClass:"detail-data-box"},[a("header",{staticClass:"search-header"},[a("div",{staticClass:"search-group"},[a("label",[t._v("用户ID")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_id,expression:"user_id"}],attrs:{type:"text"},domProps:{value:t.user_id},on:{input:function(e){e.target.composing||(t.user_id=e.target.value)}}})]),a("div",{staticClass:"search-group"},[a("label",[t._v("用户手机号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.telephone,expression:"telephone"}],attrs:{type:"text"},domProps:{value:t.telephone},on:{input:function(e){e.target.composing||(t.telephone=e.target.value)}}})]),a("div",{staticClass:"search-group"},[a("label",[t._v("微信昵称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nick_name,expression:"nick_name"}],attrs:{type:"text"},domProps:{value:t.nick_name},on:{input:function(e){e.target.composing||(t.nick_name=e.target.value)}}})]),a("selector",{staticClass:"search-group",attrs:{value:t.login_status,selectParams:t.selectParams},on:{selectOptsClicked:t.selectOptsClicked}}),a("button",{staticClass:"action-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.loadTBData(1)}}},[t._v("搜索")]),t.showGlobalSetBtn?a("button",{staticClass:"action-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.openGlobalSetting(e)}}},[t._v("H5设置")]):t._e(),a("button",{staticClass:"action-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.changeOpenDeviceBoxStatu(e)}}},[t._v("开通账号")])],1),a("div",{staticClass:"table-container hideScrollBar"},[a("detail-table",{attrs:{allChecked:t.allChecked,checkedArray:t.checkedArray,tbType:t.tbType,tbData:t.tbData,tableHeader:t.tbHeader,tableHeaderFixed:!1},on:{changeAllCheckStatus:t.changeAllCheckStatus,changeCheckStatus:t.changeCheckStatus,changeTimeLineStatu:t.changeTimeLineStatu,changeWechatStatu:t.changeWechatStatu,sortTBData:t.sortTBData}})],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"settingbox"},[a("button",{staticClass:"action-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.outlineRobots(e)}}},[t._v("批量下线")]),a("button",{staticClass:"action-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteRobots(e)}}},[t._v("批量删除")]),a("button",{staticClass:"action-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.renewRobots(e)}}},[t._v("批量续时")])]),a("page",{attrs:{pageData:t.pageData},on:{loadList:t.loadTBData}})],1)]),a("confirm",{attrs:{isShow:t.showConfirm,confirmParams:t.confirmParams},on:{confirmClicked:t.confirmClicked}}),t.showOpenDeviceBox?a("div",{staticClass:"odConfirmBox"},[a("div",{staticClass:"main"},[a("div",{staticClass:"header"},[t._v("开通账号")]),a("div",{staticClass:"iptLine"},[a("label",{staticClass:"bt"},[t._v("输入账号")]),a("div",{staticClass:"iptRight"},[a("div",{staticClass:"tips"},[t._v(" 请输入需要开通的用户手机号,一行一个,或者通过英文逗号隔开 ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.phones,expression:"phones"}],domProps:{value:t.phones},on:{input:function(e){e.target.composing||(t.phones=e.target.value)}}}),a("div",{staticClass:"accountNum"},[t._v("本次开通账号数量:"+t._s(t.phonesNum)+"个")])])]),a("div",{staticClass:"iptLine"},[a("label"),a("div",{staticClass:"iptRight"},[a("button",{staticClass:"action-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.openDevice(e)}}},[t._v("开通")]),a("button",{staticClass:"action-btn cancel",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.changeOpenDeviceBoxStatu(e)}}},[t._v("取消")])])])])]):t._e()],1)},o=[],n=(a("c975"),a("a15b"),a("a434"),a("ac1f"),a("5319"),a("1276"),a("bcc8")),r=a("707d"),s=a("ef59"),c=a("bff1"),l=a("2c17"),d=a("4328"),f=a.n(d),m=a("2161"),u={inject:["reload","alert","showLoading","hideLoading"],components:{"detail-table":n["a"],selector:r["a"],page:s["a"],confirm:m["a"]},data:function(){return{phonesNum:0,phones:null,showOpenDeviceBox:!1,showGlobalSetBtn:!1,user_id:"",telephone:"",nick_name:"",login_status:"",tbType:"yfdRobotList",tbData:[],tbHeader:c["default"].tableHeader.yfdRobotList,pageData:{total:0,page:1,total_page:0},robots:[],robot:{},selectParams:{label:"登陆状态",placeholder:"请选择",options:[{value:"",text:"请选择"},{value:1,text:"在线"},{value:2,text:"不在线"}]},checkedArray:[],allChecked:!1,showConfirm:!1,confirmParams:{htmlEditorConfig:{actions:{bold:!0,italic:!0,alignLeft:!0,alignCenter:!0,alignRight:!0,strikethrough:!0,underline:!0,emoji:!0,image:!1,link:!1,video:!1,fontSize:!0}},type:"yfdRobot",header:"操作提示",text:"",ids:"",tp:"outline",month:1,groupStatu:!1,friendStatu:!1,maxGroup:5,adminGroupSettings:null,tipsStringSettings:null,setGroupTwo:!1},rank_time:"",time_type:"",globalSettings:{max_group:"",friend_status:"",group_status:""},maxGroupChanging:!1,adminGroupSettings:null,tipsStringSettings:null}},created:function(){this.loadTBData(),this.loadGlobalSetting(),this.loadAdminGroupSetting(),this.loadTipsStringSetting()},provide:function(){return{outlineRobotConfirm:this.outlineRobotConfirm,renewRobotConfirm:this.renewRobotConfirm,deleteRobotConfirm:this.deleteRobotConfirm}},watch:{phones:function(t){if(null!=t&&""!=t)if(","!=t)if(t.indexOf("，")>0)this.phones=t.replace("，",",");else if(/[^(\d|,|\n)]/.test(t))this.phones=t.replace(/[^(\d|,|\n)]/,"");else if(/,{2,}/.test(t))this.phones=t.replace(/,{2,}/,",");else if(/\n{2,}/.test(t))this.phones=t.replace(/\n{2,}/,"\n");else{for(var e=t.split(/[,\n]/),a=0,i=0;i<e.length;i++)""!=e[i]&&a++;this.phonesNum=a}else this.phones="";else this.phonesNum=0}},methods:{refreshAdminGroupSettings:function(){var t=this;this.loadAdminGroupSetting().then((function(){t.confirmParams.adminGroupSettings=JSON.parse(JSON.stringify(t.adminGroupSettings))}))},changeGroupTwoSelect:function(t){if(this.confirmParams.adminGroupSettings.select_group.indexOf(this.confirmParams.adminGroupSettings.group_two[t].group_id)>=0){var e=this.confirmParams.adminGroupSettings.select_group.indexOf(this.confirmParams.adminGroupSettings.group_two[t].group_id);this.confirmParams.adminGroupSettings.select_group.splice(e,1)}else this.confirmParams.adminGroupSettings.select_group.push(this.confirmParams.adminGroupSettings.group_two[t].group_id)},changeGroupTwoStatu:function(){this.confirmParams.setGroupTwo=!this.confirmParams.setGroupTwo},openDevice:function(){for(var t=this,e=/^1[3456789]\d{9}$/,a=this.phones.split(/[,\n]/),i=[],o=0;o<a.length;o++)if(e.test(a[o]))i.push(a[o]);else if(""!=a[o])return void this.alert("手机号码"+a[o]+"格式错误");if(0!=i.length)return Object(l["a"])({method:"post",url:c["default"].urls.yfdOpenDevice,data:f.a.stringify({telephone:i.join(",")})}).then((function(e){200==e.status&&200==e.data.code?(t.alert(e.data.message||"开通账号成功"),t.loadTBData(),t.changeOpenDeviceBoxStatu()):t.alert(e.data&&e.data.message||"开通账号失败")})).catch((function(e){t.alert("开通账号失败")}))},changeOpenDeviceBoxStatu:function(){this.phones="",this.showOpenDeviceBox=!this.showOpenDeviceBox},changeMaxGroup:function(t,e){var a=this;if(!this.maxGroupChanging){this.maxGroupChanging=!0;var i=this.robots[t].max_group||0;if("reduce"==e){if(i<=0)return void(this.maxGroupChanging=!1);i--}else if("add"==e)i++;else{if(!/^\d+$/.test(e))return this.alert("请输入正确的数字,并回车确认"),void(this.maxGroupChanging=!1);if(this.robots[t].max_group==e)return void(this.maxGroupChanging=!1);i=e}return Object(l["a"])({url:c["default"].urls.yfdMaxGroup,method:"post",data:f.a.stringify({user_id:this.robots[t].user_id,group_num:i})}).then((function(e){if(200==e.status&&200==e.data.code){a.robots[t]["max_group"]=i;var o=a.tbData;o[t][o[t].length-1]["max_group"]=i,a.tbData=Object.assign([],o)}else a.alert(e.data&&e.data.message||"修改用户最大群数失败")})).catch((function(t){a.alert("修改用户最大群数失败")})).then((function(){a.maxGroupChanging=!1}))}},loadTipsStringSetting:function(){var t=this;return Object(l["a"])({url:c["default"].urls.yfdTipsString,method:"get"}).then((function(e){200==e.status&&200==e.data.code?t.tipsStringSettings=e.data.data:t.alert("加载H5提示和淘口令小尾巴失败")})).catch((function(e){t.alert("加载H5提示和淘口令小尾巴失败")}))},loadAdminGroupSetting:function(){var t=this;return Object(l["a"])({url:c["default"].urls.yfdGetAdminGroup,method:"get"}).then((function(e){200==e.status&&200==e.data.code?t.adminGroupSettings=e.data.data:t.alert("加载监控配置失败")})).catch((function(e){t.alert("加载监控配置失败")}))},loadGlobalSetting:function(){var t=this;Object(l["a"])({url:c["default"].urls.yfdGetGlobalSetting,method:"get"}).then((function(e){200==e.status&&200==e.data.code?(t.globalSettings["max_group"]=e.data.data.max_group,t.globalSettings["friend_status"]="T"==e.data.data.friend_status,t.globalSettings["group_status"]="T"==e.data.data.group_status):t.alert("加载全局配置失败")})).catch((function(e){t.alert("加载全局配置失败")}))},h5Setting:function(t){this.globalSetting(t),this.tipsStringSetting(t),t.setGroupTwo&&this.adminGroupSetting(t)},tipsStringSetting:function(t){var e=this;Object(l["a"])({url:c["default"].urls.yfdTipsString,method:"post",data:f.a.stringify({head_message:t.tipsStringSettings.head_message,tk_code:t.tipsStringSettings.tk_code})}).then((function(t){200==t.status&&200==t.data.code?e.loadTipsStringSetting():e.alert("修改H5顶部提示和淘口令小尾巴失败")})).catch((function(t){e.alert("修改H5顶部提示和淘口令小尾巴失败")}))},adminGroupSetting:function(t){var e=this;Object(l["a"])({url:c["default"].urls.yfdAdminGroup,method:"post",data:f.a.stringify({admin_user_id:t.adminGroupSettings.admin_user_id,admin_group:t.adminGroupSettings.select_group.join(",")})}).then((function(t){200==t.status&&200==t.data.code?e.loadAdminGroupSetting():e.alert("修改2群失败")})).catch((function(t){e.alert("修改2群失败")}))},globalSetting:function(t){var e=this;Object(l["a"])({url:c["default"].urls.yfdGlobalSetting,method:"post",data:f.a.stringify({friend_status:t.friendStatu?"T":"F",group_status:t.groupStatu?"T":"F",max_group:t.maxGroup})}).then((function(t){200==t.status&&200==t.data.code?e.loadGlobalSetting():e.alert("修改H5权限配置或者最大同步群失败")})).catch((function(t){e.alert("修改H5权限配置或者最大同步群失败")}))},openGlobalSetting:function(){this.confirmParams.header="编辑H5配置",this.confirmParams.tp="globalSetting",this.confirmParams.groupStatu=this.globalSettings.group_status,this.confirmParams.friendStatu=this.globalSettings.friend_status,this.confirmParams.maxGroup=this.globalSettings.max_group,this.confirmParams.adminGroupSettings=JSON.parse(JSON.stringify(this.adminGroupSettings)),this.confirmParams.tipsStringSettings=JSON.parse(JSON.stringify(this.tipsStringSettings)),this.showConfirm=!0},confirmClicked:function(t){if(this.showConfirm=!1,t)switch(t.tp){case"outline":this.outlineRobot(t.ids);break;case"delete":this.deleteRobot(t.ids);break;case"renew":this.renewRobot(t.ids,t.month);break;case"globalSetting":this.h5Setting(t);break;default:return}},outlineRobotConfirm:function(t){this.confirmParams.header="操作提示",this.confirmParams.text="确定下线该用户?",this.confirmParams.ids=t,this.confirmParams.tp="outline",this.showConfirm=!0},renewRobotConfirm:function(t){this.confirmParams.header="编辑续时时间",this.confirmParams.tp="renew",this.confirmParams.ids=t,this.confirmParams.month=1,this.showConfirm=!0},deleteRobotConfirm:function(t){this.confirmParams.header="操作提示",this.confirmParams.text="确定删除该用户?",this.confirmParams.ids=t,this.confirmParams.tp="delete",this.showConfirm=!0},outlineRobots:function(){this.checkedArray&&0!=this.checkedArray.length?this.outlineRobotConfirm(this.checkedArray.join(",")):this.alert("先选中要下线的用户")},outlineRobot:function(t){var e=this;Object(l["a"])({method:"post",url:c["default"].urls.yfdLogout,data:f.a.stringify({user_id:t})}).then((function(t){200==t.status&&200==t.data.code?e.loadTBData(e.pageData.page||1):e.alert("修改用户登陆状态失败")})).catch((function(t){e.alert("修改用户登陆状态失败")}))},renewRobots:function(){this.checkedArray&&0!=this.checkedArray.length?this.renewRobotConfirm(this.checkedArray.join(",")):this.alert("先选中要续时的用户")},renewRobot:function(t,e){var a=this;/\d+/.test(e)?e<=0?this.alert("续时月数必须大于0"):Object(l["a"])({method:"post",url:c["default"].urls.yfdAddTime,data:f.a.stringify({month:e,user_id:t})}).then((function(t){200==t.status&&200==t.data.code?a.loadTBData(a.pageData.page||1):a.alert("用户续时失败")})).catch((function(t){a.alert("用户续时失败")})):this.alert("续时月数格式错误")},deleteRobots:function(){this.checkedArray&&0!=this.checkedArray.length?this.deleteRobotConfirm(this.checkedArray.join(",")):this.alert("先选中要删除的用户")},deleteRobot:function(t){var e=this;Object(l["a"])({url:c["default"].urls.yfdDel,method:"post",data:f.a.stringify({user_id:t})}).then((function(t){200==t.status&&200==t.data.code?e.loadTBData(e.pageData.page||1):e.alert("删除用户失败")})).catch((function(t){e.alert("删除用户失败")}))},changeWechatStatu:function(t){var e=this;Object(l["a"])({method:"post",url:c["default"].urls.yfdWechatStatu,data:f.a.stringify({user_id:t.userId,group_status:t.status?"T":"F"})}).then((function(t){200==t.status&&200==t.data.code?e.loadTBData(e.pageData.page||1):e.alert("同步微信群状态失败")})).catch((function(t){e.alert("同步微信群状态失败")}))},changeTimeLineStatu:function(t){var e=this;Object(l["a"])({method:"post",url:c["default"].urls.yfdTimeLineStatu,data:f.a.stringify({user_id:t.userId,friend_status:t.status?"T":"F"})}).then((function(t){200==t.status&&200==t.data.code?e.loadTBData(e.pageData.page||1):e.alert("同步朋友圈状态失败")})).catch((function(t){e.alert("同步朋友圈状态失败")}))},loadTBData:function(t){var e=this;return Object(l["a"])({method:"post",url:c["default"].urls.yfdRobotList,data:f.a.stringify({page:t||1,user_id:this.user_id,login_status:this.login_status,nick_name:this.nick_name,telephone:this.telephone,time_type:this.time_type,rank_time:this.rank_time})}).then((function(t){200==t.status&&200==t.data.code?e.createTBData(t.data.data):e.alert("加载机器人列表失败")})).catch((function(t){e.alert("加载机器人列表失败")}))},sortTBData:function(t){this.$data["rank_time"]=t.sortBy,this.$data["time_type"]=t.sortType,this.loadTBData(this.pageData.page)},createTBData:function(t){this.robots=t.data,this.checkedArray=[],this.showGlobalSetBtn="T"==t.actions.config_status,this.pageData.page=t.page,this.pageData.total=t.total,this.pageData["total_page"]=t.total_page||t.pageCount;for(var e=[],a=["user_id","app_user_id","telephone","app_nick_name","nick_name","max_group","bind_group","login_status","first_login_time","activate_time","exp_time"],i=0;i<t.data.length;i++){var o=t.data[i];e.push([i+1<10?"0"+(i+1):i+1]);for(var n=0;n<a.length;n++)e[i].push(o[a[n]]?o[a[n]]:0==o[a[n]]?0:"--");e[i].push(o["actions"]||{}),e[i][e[i].length-1]["group_syn"]=o.group_status,e[i][e[i].length-1]["friend_syn"]=o.friends_status,e[i][e[i].length-1]["online_status"]=o.online_status,e[i][e[i].length-1]["max_group"]=o.max_group||0}this.tbData=e},selectOptsClicked:function(t){this.$data["login_status"]=t},changeCheckStatus:function(t){var e=this.robots[t]["user_id"];this.checkedArray.indexOf(e)>=0?this.checkedArray.splice(this.checkedArray.indexOf(e),1):this.checkedArray.push(e),this.robots&&this.checkedArray&&this.checkedArray.length==this.robots.length?this.allChecked=!0:this.allChecked=!1},changeAllCheckStatus:function(){if(this.checkedArray&&this.robots&&this.checkedArray.length==this.robots.length)this.checkedArray=[],this.allChecked=!1;else{for(var t=[],e=0;e<(this.robots||[]).length;e++)t.push(this.robots[e]["user_id"]);this.checkedArray=t,this.allChecked=!0}}}},h=u,p=(a("c67f"),a("2877")),g=Object(p["a"])(h,i,o,!1,null,"314a2e7f",null);e["default"]=g.exports},"1dde":function(t,e,a){var i=a("d039"),o=a("b622"),n=a("2d00"),r=o("species");t.exports=function(t){return n>=51||!i((function(){var e=[],a=e.constructor={};return a[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2161:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confirm"},[a("transition",{attrs:{name:"fade"}},[t.isShow?a("div",{staticClass:"confirm-mark"}):t._e()]),a("transition",{attrs:{name:"ease"}},[t.isShow?a("div",{staticClass:"confirm-box"},[a("div",{staticClass:"confirm-header"},[t._v(t._s(t.confirmParams.header))]),"modifyPwd"==t.confirmParams.type?a("div",{staticClass:"confirm-body"},[a("div",{staticClass:"confirm-form-line"},[a("label",[t._v("账户名:")]),a("div",{staticClass:"confirm-form-line-right"},[t._v(" "+t._s(t.confirmParams.username)+" ")])]),a("div",{staticClass:"confirm-form-line"},[a("label",[t._v("密码:")]),a("div",{staticClass:"confirm-form-line-right"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.pwd,expression:"pwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"confirm-form-line"},[a("label",[t._v("确认密码:")]),a("div",{staticClass:"confirm-form-line-right"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.confirmPwd,expression:"confirmPwd",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.confirmPwd},on:{input:function(e){e.target.composing||(t.confirmPwd=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]):t._e(),"del"==t.confirmParams.type?a("div",{staticClass:"confirm-body"},[a("div",{staticClass:"confirm-form-line"},[t._v("确定删除?")])]):t._e(),"modifyStatus"==t.confirmParams.type?a("div",{staticClass:"confirm-body"},[a("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))])]):t._e(),"yfdRobot"==t.confirmParams.type?a("div",{staticClass:"confirm-body"},["outline"==t.confirmParams.tp||"delete"==t.confirmParams.tp?a("div",{staticClass:"confirm-form-line"},[t._v(t._s(t.confirmParams.text))]):"globalSetting"==t.confirmParams.tp?a("div",{staticClass:"confirm-form-line line2"},[a("div",[a("label",[t._v("H5全局权限")]),a("div",[a("div",{staticClass:"line",staticStyle:{"margin-bottom":".5rem",display:"inline-block"}},[t._v(" 微信群 "),a("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.groupStatu},on:{changeSwitchStatus:t.changeGroupStatus}})],1),a("div",{staticClass:"line",staticStyle:{display:"inline-block","margin-left":"1rem"}},[t._v(" 朋友圈 "),a("switch-progress",{staticStyle:{"vertical-align":"middle"},attrs:{turnOn:t.confirmParams.friendStatu},on:{changeSwitchStatus:t.changeFriendStatus}})],1)])]),a("div",[a("label",[t._v("最大同步群数")]),a("div",[a("div",{staticClass:"sub",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.subNumber(e)}}},[t._v("-")]),a("div",{staticClass:"num"},[t._v(t._s(t.confirmParams.maxGroup))]),a("div",{staticClass:"add",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addNumber(e)}}},[t._v("+")]),t._v(" 限10个以内 ")])]),a("div",[a("label",[t._v("监控设置")]),a("div",[t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_one?a("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start"}},[a("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("1群：")]),a("div",{staticClass:"group_setting",staticStyle:{display:"inline-block","font-size":"0.375rem",color:"red"}},[t._v(" 开启指令："+t._s(t.confirmParams.adminGroupSettings.group_one.open_monitor)+" "),a("br"),t._v(" 关闭指令："+t._s(t.confirmParams.adminGroupSettings.group_one.close_monitor)+" ")])]):t._e(),t.confirmParams.adminGroupSettings&&t.confirmParams.adminGroupSettings.group_two?a("div",{staticClass:"group",staticStyle:{display:"flex","align-items":"flex-start","margin-top":"0.3rem"}},[a("div",{staticClass:"group_name",staticStyle:{display:"inline-block"}},[t._v("2群：")]),a("div",{staticClass:"group_setting",staticStyle:{display:"inline-block",flex:"1"}},[a("div",{staticClass:"action-btn",style:t.confirmParams.setGroupTwo?"background-color: #ccc; color: white; width: fit-content; display: inline-block;":"display: inline-block; width: fit-content;",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$parent.changeGroupTwoStatu(e)}}},[t._v("设置")]),t.confirmParams.setGroupTwo?a("div",{staticClass:"action-btn",staticStyle:{float:"right",display:"inline-block"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$parent.refreshAdminGroupSettings(e)}}},[t._v("刷新")]):t._e(),t.confirmParams.setGroupTwo?a("div",{staticClass:"table",staticStyle:{width:"100%",height:"5rem",overflow:"hidden","overflow-y":"auto"}},[a("table",[a("thead",[a("tr",{staticStyle:{height:"1rem"}},[a("td",{staticStyle:{width:"1.5rem"}},[t._v("序号")]),a("td",[t._v("群名")])])]),a("tbody",t._l(t.confirmParams.adminGroupSettings.group_two,(function(e,i){return a("tr",{key:i,staticStyle:{height:"1rem"}},[a("td",{staticStyle:{width:"1.5rem"}},[a("input",{attrs:{type:"checkbox"},domProps:{checked:t.confirmParams.adminGroupSettings.select_group.indexOf(e.group_id)>=0},on:{change:function(e){return e.preventDefault(),e.stopPropagation(),t.$parent.changeGroupTwoSelect(i)}}}),t._v(t._s(i+1))]),a("td",[t._v(t._s(e.group_name))])])})),0)])]):t._e(),t.confirmParams.setGroupTwo?a("div",{staticStyle:{"font-size":".375rem",color:"red"}},[t._v("已选中："+t._s(t.selectedGroupName))]):t._e()])]):t._e()])]),a("div",{staticStyle:{"margin-top":"0.2rem"}},[a("label",[t._v("H5顶部提示")]),a("div",{staticStyle:{width:"100%",height:"3rem"}},[a("html-editor",{staticClass:"headerMsgEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.head_message,editable:!0}})],1)]),a("div",{staticStyle:{"margin-top":"0.2rem"}},[a("label",[t._v("淘口令小尾巴")]),a("div",{staticStyle:{width:"100%",height:"3rem"}},[a("html-editor",{staticClass:"tkCodeEditor",attrs:{config:t.confirmParams.htmlEditorConfig,htmlText:t.confirmParams.tipsStringSettings.tk_code,editable:!0}})],1)])]):a("div",{staticClass:"confirm-form-line"},[a("label",[t._v("选择续时时间")]),a("div",{staticClass:"monthBox"},[a("div",{staticClass:"sub",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.subNumber(e)}}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmParams.month,expression:"confirmParams.month"}],staticClass:"num",attrs:{type:"text"},domProps:{value:t.confirmParams.month},on:{input:function(e){e.target.composing||t.$set(t.confirmParams,"month",e.target.value)}}}),a("div",{staticClass:"add",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addNumber(e)}}},[t._v("+")]),t._v(" 月 ")])])]):t._e(),a("div",{staticClass:"confirm-footer"},[a("button",{staticClass:"confirm-ok",on:{click:function(e){return t.confirm(1)}}},[t._v("确认")]),a("button",{staticClass:"confirm-cancel",on:{click:function(e){return t.confirm(0)}}},[t._v("取消")])])]):t._e()])],1)},o=[],n=(a("c975"),a("a15b"),a("406a")),r=a("a0f6"),s={props:["isShow","confirmParams"],data:function(){return{pwd:"",confirmPwd:""}},components:{"switch-progress":n["a"],htmlEditor:r["a"]},computed:{selectedGroupName:function(){for(var t=[],e=0;e<this.confirmParams.adminGroupSettings.group_two.length;e++)this.confirmParams.adminGroupSettings.select_group.indexOf(this.confirmParams.adminGroupSettings.group_two[e].group_id)>=0&&t.push(this.confirmParams.adminGroupSettings.group_two[e].group_name);return t.join(",")}},methods:{changeGroupStatus:function(t){this.confirmParams.groupStatu=t.status},changeFriendStatus:function(t){this.confirmParams.friendStatu=t.status},subNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month>1&&(this.confirmParams.month-=1):"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup>1&&(this.confirmParams.maxGroup-=1)},addNumber:function(){"renew"==this.confirmParams.tp?this.confirmParams.month=this.confirmParams.month-0+1:"globalSetting"==this.confirmParams.tp&&this.confirmParams.maxGroup<10&&(this.confirmParams.maxGroup=this.confirmParams.maxGroup-0+1)},confirm:function(t){if(0==t)this.$emit("confirmClicked");else switch(this.confirmParams.type){case"modifyPwd":this.confirmModifyPwd();break;case"del":this.confirmDel();break;case"modifyStatus":this.confirmModifyStatus();break;case"yfdRobot":this.confirmModifyStatus();break;default:return}},confirmModifyStatus:function(){if(this.confirmParams.tp&&"globalSetting"==this.confirmParams.tp)for(var t in this.$children)this.$children[t].$el.className.indexOf("headerMsgEditor")>=0&&(this.confirmParams.tipsStringSettings["head_message"]=this.$children[t].getContent()),this.$children[t].$el.className.indexOf("tkCodeEditor")>=0&&(this.confirmParams.tipsStringSettings["tk_code"]=this.$children[t].getContent());this.$emit("confirmClicked",this.confirmParams)},confirmDel:function(){this.$emit("confirmClicked",this.confirmParams)},confirmModifyPwd:function(){if(this.pwd)if(this.confirmPwd)if(this.confirmPwd==this.pwd){var t=this.confirmParams;t.pwd=this.pwd,this.$emit("confirmClicked",t),this.pwd="",this.confirmPwd=""}else this.$parent.alert("两次输入的密码不一致");else this.$parent.alert("请再次输入新密码");else this.$parent.alert("请输入新密码")}}},c=s,l=(a("9f6d"),a("2877")),d=Object(l["a"])(c,i,o,!1,null,"5f6fa4c7",null);e["a"]=d.exports},"35f9":function(t,e,a){var i=a("24fb"),o=a("1de5"),n=a("558f");e=i(!1);var r=o(n);e.push([t.i,".select-box[data-v-60bcd88e]{width:5rem;height:1rem;line-height:1rem;border:1px solid #d9d9dd;border-radius:.125rem!important}.select-box[data-v-60bcd88e],.select-ipt[data-v-60bcd88e]{display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:.4375rem}.select-ipt[data-v-60bcd88e]{-webkit-appearance:menulist;-moz-appearance:menulist;appearance:menulist;width:100%;height:100%;padding-left:.34375rem;border:none;outline:none;vertical-align:top;border-radius:.125rem!important;cursor:pointer}.select-dropdown[data-v-60bcd88e]{width:.3125rem;height:.1875rem;background:url("+r+") no-repeat;background-size:100% 100%;display:inline-block;margin-left:.15625rem;vertical-align:middle}.select-options[data-v-60bcd88e]{overflow:hidden;position:absolute;background-color:#fff;opacity:1;z-index:8000;width:5rem;height:auto;border-radius:.125rem;-webkit-box-shadow:0 0 .1875rem hsla(0,0%,60.4%,.5);box-shadow:0 0 .1875rem hsla(0,0%,60.4%,.5);max-height:8.125rem;overflow-y:scroll}.select-option[data-v-60bcd88e],.select-options[data-v-60bcd88e]{-webkit-box-sizing:border-box;box-sizing:border-box}.select-option[data-v-60bcd88e]{padding-left:.34375rem;padding-right:.34375rem;height:1rem;line-height:1rem;font-size:.4375rem;white-space:nowrap;overflow-x:hidden}.select-option.selected[data-v-60bcd88e]{background-color:#4880ea;color:#fff}.ease-enter-active[data-v-60bcd88e]{-webkit-animation:easein-data-v-60bcd88e .2s ease-in;animation:easein-data-v-60bcd88e .2s ease-in}.ease-leave-active[data-v-60bcd88e]{-webkit-animation:easeout-data-v-60bcd88e .2s ease-out;animation:easeout-data-v-60bcd88e .2s ease-out}@-webkit-keyframes easein-data-v-60bcd88e{0%{height:0%}to{height:100%}}@keyframes easein-data-v-60bcd88e{0%{height:0%}to{height:100%}}@-webkit-keyframes easeout-data-v-60bcd88e{0%{height:0%}to{height:0%}}@keyframes easeout-data-v-60bcd88e{0%{height:0%}to{height:0%}}.pop-box .body .pop-groups.user-level-selector[data-v-60bcd88e]{width:100%;height:1.25rem;line-height:1.25rem;font-size:.4375rem;margin-top:1rem}.pop-box .body .pop-groups.user-level-selector label[data-v-60bcd88e]{width:4.28125rem;text-align:right;height:1.25rem;line-height:1.25rem}.pop-box .body .pop-groups.user-level-selector .select-box[data-v-60bcd88e]{width:9.375rem;height:1.25rem;line-height:1.25rem;color:#999;font-size:.4375rem;margin-left:.25rem}",""]),t.exports=e},"65f0":function(t,e,a){var i=a("861d"),o=a("e8b5"),n=a("b622"),r=n("species");t.exports=function(t,e){var a;return o(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?i(a)&&(a=a[r],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"6a4a":function(t,e,a){var i=a("35f9");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("56635bba",i,!0,{sourceMap:!1,shadowMode:!1})},"6b9b":function(t,e,a){"use strict";var i=a("6a4a"),o=a.n(i);o.a},"707d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select",on:{blur:t.hideSelector}},[a("label",[t._v(t._s(t.selectParams.label)+":")]),a("div",{staticClass:"select-box"},[a("select",{staticClass:"select-ipt",domProps:{value:t.value},on:{change:t.optClicked}},t._l(t.selectParams.options,(function(e,i){return a("option",{key:i,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)])])},o=[],n={props:["selectParams","value"],data:function(){return{showOpts:!1}},methods:{hideSelector:function(){this.showOpts=!1},selectIptClicked:function(){this.showOpts=!this.showOpts},optClicked:function(t){this.$emit("selectOptsClicked",t.target.value),this.hideSelector()}}},r=n,s=(a("6b9b"),a("2877")),c=Object(s["a"])(r,i,o,!1,null,"60bcd88e",null);e["a"]=c.exports},"79b3":function(t,e,a){var i=a("18da");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("77670eb0",i,!0,{sourceMap:!1,shadowMode:!1})},8418:function(t,e,a){"use strict";var i=a("c04e"),o=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var r=i(e);r in t?o.f(t,r,n(0,a)):t[r]=a}},"9f6d":function(t,e,a){"use strict";var i=a("fc49"),o=a.n(i);o.a},a434:function(t,e,a){"use strict";var i=a("23e7"),o=a("23cb"),n=a("a691"),r=a("50c4"),s=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),f=a("ae40"),m=d("splice"),u=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!m||!u},{splice:function(t,e){var a,i,d,f,m,u,v=s(this),_=r(v.length),x=o(t,_),y=arguments.length;if(0===y?a=i=0:1===y?(a=0,i=_-x):(a=y-2,i=p(h(n(e),0),_-x)),_+a-i>g)throw TypeError(b);for(d=c(v,i),f=0;f<i;f++)m=x+f,m in v&&l(d,f,v[m]);if(d.length=i,a<i){for(f=x;f<_-i;f++)m=f+i,u=f+a,m in v?v[u]=v[m]:delete v[u];for(f=_;f>_-i+a;f--)delete v[f-1]}else if(a>i)for(f=_-i;f>x;f--)m=f+i-1,u=f+a-1,m in v?v[u]=v[m]:delete v[u];for(f=0;f<a;f++)v[f+x]=arguments[f+2];return v.length=_-i+a,d}})},c67f:function(t,e,a){"use strict";var i=a("79b3"),o=a.n(i);o.a},e8b5:function(t,e,a){var i=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},ef59:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pages-container"},[t._v(" 共搜索到"),a("span",{staticClass:"pages-rows"},[t._v(t._s(t.pageData.total))]),t._v("条数据 "),a("div",{staticClass:"pages-btns"},[a("div",{class:"pageBtn prev"+(1==t.pageData.page?" disabled":""),on:{click:t.loadPrevPage}},[t._v("<")]),t._l(t.toPage-t.fromPage+1,(function(e){return a("div",{key:e,class:"pageBtn"+(e+t.fromPage-1==t.pageData.page?" checked":""),on:{click:function(a){return t.loadList(e+t.fromPage-1)}}},[t._v(t._s(e+t.fromPage-1))])})),a("div",{class:"pageBtn next"+(t.pageData.page==t.pageData.total_page?" disabled":""),on:{click:t.loadNextPage}},[t._v(">")])],2)])},o=[],n={inject:["alert"],props:["pageData"],data:function(){return{}},methods:{loadPrevPage:function(){1!=this.pageData.page?this.loadList(this.pageData.page-1):this.alert("已经是第一页")},loadNextPage:function(){this.pageData.page>=this.pageData.total_page?this.alert("已经是最后一页"):this.loadList(this.pageData.page-0+1)},loadList:function(t){this.$emit("loadList",t)}},computed:{fromPage:function(){var t=1;return t=this.pageData.total_page>9?this.pageData.page<=5?1:this.pageData.total_page-this.pageData.page<=4?this.pageData.total_page-8:this.pageData.page-4:1,t},toPage:function(){var t=9;return t=this.pageData.total_page>9?this.pageData.page<=5?9:this.pageData.total_page-this.pageData.page<=4?this.pageData.total_page-0:this.pageData.page-0+4:this.pageData.total_page-0||1,t}}},r=n,s=a("2877"),c=Object(s["a"])(r,i,o,!1,null,null,null);e["a"]=c.exports},fc49:function(t,e,a){var i=a("196b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("94ae02be",i,!0,{sourceMap:!1,shadowMode:!1})}}]);