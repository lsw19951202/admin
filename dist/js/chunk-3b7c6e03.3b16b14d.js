(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b7c6e03"],{"0ac2":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-container",style:"margin-top: "+(t.tbStyle.marginTop||0)+";",on:{scroll:function(e){return e.preventDefault(),e.stopPropagation(),t.tableScroll(e)}}},[a("table",{ref:"table",style:"width: "+t.tbStyle.width+"; position: relative;",attrs:{cellspacing:"0"}},[a("thead",{directives:[{name:"show",rawName:"v-show",value:t.showFixedHeadCol,expression:"showFixedHeadCol"}],ref:"fixedHeadCol",style:"z-index: 53; left: "+t.scrollPos.left+"px; top: "+t.scrollPos.top+"px; position: absolute; border-right: 1px solid #E2E2E2; border-bottom: 1px solid #E2E2E2;"},t._l(t.getFixedHeadCol,(function(e,r){return a("tr",{key:r},t._l(e,(function(e,r){return a("td",{key:r,attrs:{colspan:e.colspan||1,rowspan:e.rowspan||1}},[t._v(" "+t._s(e.name)+" ")])})),0)})),0),a("thead",{ref:"fixedHead",style:"z-index: 52; left: 0; top: "+t.scrollPos.top+"px; border-bottom: 1px solid #E2E2E2;"},t._l(t.tbData.tableHeader,(function(e,r){return a("tr",{key:r},[t._l(e,(function(e,r){return a("td",{key:r,attrs:{colspan:e.colspan||1,rowspan:e.rowspan||1}},[t._v(" "+t._s(e.name)+" ")])})),"userRankList"==t.tbType?a("td",[t._v(" 操作 ")]):t._e()],2)})),0),a("tbody",{directives:[{name:"show",rawName:"v-show",value:t.showFixedHeadCol,expression:"showFixedHeadCol"}],ref:"fixedCol",style:"z-index: 51; left: "+t.scrollPos.left+"px; top: "+1.5*t.tbData.lockedRow+"rem; position: absolute; background-color: white; border-right: 1px solid #E2E2E2;"},t._l(t.getFixedCol,(function(e,r){return a("tr",{key:r,staticStyle:{"background-color":"white"}},t._l(e,(function(e,r){return a("td",{key:r,attrs:{colspan:e.colspan||1,rowspan:e.rowspan||1}},[t._v(" "+t._s(e.text)+" ")])})),0)})),0),a("tbody",{ref:"tbody",staticStyle:{"z-index":"50","background-color":"white"}},t._l(t.tbData.tbData,(function(e,r){return a("tr",{key:r,staticStyle:{"background-color":"white"}},[t._l(e,(function(e,r){return a("td",{key:r,attrs:{colspan:e.colspan||1,rowspan:e.rowspan||1}},[t._v(" "+t._s(e.text)+" ")])})),"userRankList"==t.tbType?a("td",[a("a",{attrs:{href:"javascript: void(0);"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.rowClicked(e)}}},[t._v("查看订单")])]):t._e(),"poolList"==t.tbType?a("td",[a("a",{attrs:{href:"javascript: void(0);"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.rowClicked(e,"prize")}}},[t._v("奖励详情")]),a("a",{staticStyle:{"margin-left":".5rem"},attrs:{href:"javascript: void(0);"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.rowClicked(e,"order")}}},[t._v("订单详情")]),a("a",{staticStyle:{"margin-left":".5rem"},attrs:{href:"javascript: void(0);"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.rowClicked(e,"prizeList")}}},[t._v("奖金列表")])]):t._e()],2)})),0)])])},i=[],o=(a("a434"),{props:["tbData","tbStyle","tbType"],data:function(){return{showFixedHeadCol:!1,scrollPos:{left:0,top:0}}},computed:{getFixedHeadCol:function(){var t=[];if(this.tbData.tableHeader.length>0){for(var e=0;e<this.tbData.lockedRow;e++)t.push([]);for(var a=0;a<this.tbData.lockedRow;a++)for(var r=0;r<this.tbData.lockedCol;r++){if(t[a].length>=this.tbData.lockedCol)break;if(t[a].push(this.tbData.tableHeader[a][r]),(this.tbData.tableHeader[a][r].colspan||1)>1)for(var i=1;i<(this.tbData.tableHeader[a][r].colspan||1);i++)t[a].push({text:"needDel"});if((this.tbData.tableHeader[a][r].rowspan||1)>1)for(var o=1;o<this.tbData.tableHeader[a][r].rowspan;o++)for(var l=0;l<(this.tbData.tableHeader[a][r].colspan||1);l++)t[a+o].push({text:"needDel"})}for(var s=0;s<t.length;s++){for(var n=0;n<t[s].length;n++)"needDel"==t[s][n]["text"]&&(t[s].splice(n,1),n--);0==t[s].length&&(t.splice(s,1),s--)}}return t},getFixedCol:function(){for(var t=[],e=0;e<this.tbData.tbData.length;e++)t.push([]);for(var a=0;a<this.tbData.tbData.length;a++)for(var r=0;r<this.tbData.lockedCol;r++){if(t[a].length>=this.tbData.lockedCol)break;for(var i=0;i<(this.tbData.tbData[a][r].rowspan||1);i++)for(var o=0;o<(this.tbData.tbData[a][r].colspan||1);o++)t[a+i].push(0==i&&0==o?this.tbData.tbData[a][r]:{text:"needDel"})}for(var l=0;l<t.length;l++){for(var s=0;s<t[l].length;s++)"needDel"==t[l][s]["text"]&&(t[l].splice(s,1),s--);0==t[l].length&&(t.splice(l,1),l--)}return t}},watch:{tbData:function(){var t=this;this.$nextTick((function(){t.resizeFixedHead()}))}},methods:{rowClicked:function(t,e){e?this.$emit("rowClicked",{tp:e,data:t}):this.$emit("rowClicked",t)},resizeFixedHead:function(){this.showFixedHeadCol=!1,this.$refs["table"].style.paddingTop="0px",this.$refs["fixedHead"].style.position="static";for(var t=this.$refs["fixedCol"],e=this.$refs["fixedHead"],a=this.$refs["fixedHeadCol"],r=this.$refs["tbody"],i=[],o=0;o<e.children.length;o++){var l=e.children[o].children;i.push([]);for(var s=0;s<l.length;s++)i[o].push(l[s].offsetWidth)}for(var n=0;n<a.children.length;n++)for(var c=a.children[n].children,d=0;d<c.length;d++){var f=c[d];f.style.width=i[n][d]+"px",f.style.maxWidth=i[n][d]+"px",f.style.minWidth=i[n][d]+"px",f.style.height=e.children[n].children[d].offsetHeight+"px"}for(var h=0;h<e.children.length;h++)for(var p=e.children[h].children,u=0;u<p.length;u++){var b=p[u];b.style.width=i[h][u]+"px",b.style.maxWidth=i[h][u]+"px",b.style.minWidth=i[h][u]+"px"}for(var v=[],g=0;g<r.children.length;g++){var x=r.children[g].children;v.push([]);for(var y=0;y<x.length;y++)v[g].push(x[y].offsetWidth)}for(var w=0;w<t.children.length;w++)for(var m=t.children[w].children,k=0;k<m.length;k++){var D=m[k];D.style.width=v[w][k]+"px",D.style.maxWidth=v[w][k]+"px",D.style.minWidth=v[w][k]+"px"}for(var C=0;C<r.children.length;C++)for(var _=r.children[C].children,S=0;S<_.length;S++){var L=_[S];L.style.width=v[C][S]+"px",L.style.minWidth=v[C][S]+"px",L.style.maxWidth=v[C][S]+"px"}this.$refs["table"].style.paddingTop=1.5*this.tbData.lockedRow+"rem",this.$refs["fixedHead"].style.position="absolute",this.showFixedHeadCol=!0},tableScroll:function(t){this.scrollPos={left:t.target.scrollLeft,top:t.target.scrollTop}}}}),l=o,s=(a("f781"),a("2877")),n=Object(s["a"])(l,r,i,!1,null,"562520ec",null);e["a"]=n.exports},"1dde":function(t,e,a){var r=a("d039"),i=a("b622"),o=a("2d00"),l=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[],a=e.constructor={};return a[l]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3a13":function(t,e,a){var r=a("807f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("499e").default;i("6ebbd460",r,!0,{sourceMap:!1,shadowMode:!1})},"3ca3":function(t,e,a){"use strict";var r=a("6547").charAt,i=a("69f3"),o=a("7dd0"),l="String Iterator",s=i.set,n=i.getterFor(l);o(String,"String",(function(t){s(this,{type:l,string:String(t),index:0})}),(function(){var t,e=n(this),a=e.string,i=e.index;return i>=a.length?{value:void 0,done:!0}:(t=r(a,i),e.index+=t.length,{value:t,done:!1})}))},"4e4f":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".table-container[data-v-562520ec]{margin:0;position:relative;overflow:scroll}.table-container div[data-v-562520ec]{position:absolute;left:0;top:0;overflow:hidden;background-color:#fff}td[data-v-562520ec]{overflow:scroll}tbody td[data-v-562520ec]{word-break:break-all}",""]),t.exports=e},"65f0":function(t,e,a){var r=a("861d"),i=a("e8b5"),o=a("b622"),l=o("species");t.exports=function(t,e){var a;return i(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?r(a)&&(a=a[l],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"807f":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".detail-container[data-v-14063762]{background-color:#f2f2f2;padding:0;margin:0;overflow-y:scroll}",""]),t.exports=e},8418:function(t,e,a){"use strict";var r=a("c04e"),i=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var l=r(e);l in t?i.f(t,l,o(0,a)):t[l]=a}},a434:function(t,e,a){"use strict";var r=a("23e7"),i=a("23cb"),o=a("a691"),l=a("50c4"),s=a("7b0b"),n=a("65f0"),c=a("8418"),d=a("1dde"),f=a("ae40"),h=d("splice"),p=f("splice",{ACCESSORS:!0,0:0,1:2}),u=Math.max,b=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var a,r,d,f,h,p,x=s(this),y=l(x.length),w=i(t,y),m=arguments.length;if(0===m?a=r=0:1===m?(a=0,r=y-w):(a=m-2,r=b(u(o(e),0),y-w)),y+a-r>v)throw TypeError(g);for(d=n(x,r),f=0;f<r;f++)h=w+f,h in x&&c(d,f,x[h]);if(d.length=r,a<r){for(f=w;f<y-r;f++)h=f+r,p=f+a,h in x?x[p]=x[h]:delete x[p];for(f=y;f>y-r+a;f--)delete x[f-1]}else if(a>r)for(f=y-r;f>w;f--)h=f+r-1,p=f+a-1,h in x?x[p]=x[h]:delete x[p];for(f=0;f<a;f++)x[f+w]=arguments[f+2];return x.length=y-r+a,d}})},bcaf:function(t,e,a){"use strict";var r=a("3a13"),i=a.n(r);i.a},ddb0:function(t,e,a){var r=a("da84"),i=a("fdbc"),o=a("e260"),l=a("9112"),s=a("b622"),n=s("iterator"),c=s("toStringTag"),d=o.values;for(var f in i){var h=r[f],p=h&&h.prototype;if(p){if(p[n]!==d)try{l(p,n,d)}catch(b){p[n]=d}if(p[c]||l(p,c,f),i[f])for(var u in o)if(p[u]!==o[u])try{l(p,u,o[u])}catch(b){p[u]=o[u]}}}},e8b5:function(t,e,a){var r=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},ea57:function(t,e,a){var r=a("4e4f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("499e").default;i("2bc63ce5",r,!0,{sourceMap:!1,shadowMode:!1})},ee74:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-container hideScrollBar"},[a("div",{staticClass:"detail-data-box nopadding"},[a("div",{staticClass:"detail-main"},[a("header",{staticClass:"search-header"},[a("div",{staticClass:"search-group",staticStyle:{"margin-left":"0"}},[a("label",[t._v("期间:")]),a("flat-picker",{staticClass:"search-time-picker",attrs:{config:t.dateConfig,placeholder:"期间"},model:{value:t.start_time,callback:function(e){t.start_time=e},expression:"start_time"}})],1),a("button",{staticClass:"search-btn",on:{click:t.loadData}},[t._v("搜索")]),a("div",{staticStyle:{flex:"1"}}),a("a",{staticClass:"action-btn",staticStyle:{display:"inline-block"},attrs:{href:t.downloadUrl,download:"年度推广费用.xlsx"}},[t._v("导出")])]),a("div",{staticClass:"table_title"},[t._v("四川云瞻"+t._s(t.start_time)+"年CPS业务推广费汇统计表")]),a("div",{staticClass:"table_sub_title flex"},[a("div",{staticClass:"text_left",staticStyle:{width:"100px","white-space":"nowrap"}},[t._v(" 编制单位：四川云瞻 ")]),a("div",{staticClass:"flex1 text-center"},[t._v(" 期间："+t._s(t.start_time)+"年 ")]),a("div",{staticClass:"text-right",staticStyle:{width:"100px","white-space":"nowrap"}},[t._v(" 单元：人民币元 ")])]),a("locked-table",{attrs:{tbData:t.tbData,tbStyle:t.tbStyle}})],1)])])},i=[],o=(a("a434"),a("d3b7"),a("3ca3"),a("ddb0"),a("c38f")),l=a.n(o),s=(a("0952"),a("dc1c")),n=a("bff1"),c=a("0ac2"),d={inject:["reload","alert","showLoading","hideLoading","loadFields","loadTBData","strToNum","numToStr"],components:{"flat-picker":l.a,"locked-table":c["a"]},data:function(){var t=new Date,e="";return e+=t.getFullYear(),{start_time:e,dateConfig:{time_24hr:!0,maxDate:e,locale:s["Mandarin"],dateFormat:"Y"},tbData:{tableHeader:n["default"].tableHeader.cpsgenYear,tbData:[],lockedRow:1,lockedCol:2},fields:[],tbStyle:{width:"100%"}}},computed:{downloadUrl:function(){return n["default"].baseUrl+n["default"].urls.cpsgenYear+"?statistics_year="+this.start_time+"&is_excel=1&skey="+this.$cookies.get("skey")}},created:function(){var t=this;return this.showLoading(),Promise.all([this.loadFields(n["default"].urls.cpsFields,{order_type:"generalizeyear"}),this.loadTBData(n["default"].urls.cpsgenYear,{statistics_year:this.start_time},"get")]).then((function(e){t.fields=e[0].fields;var a=e[0].tableHeader;a[0].splice(0,0,{name:"序号"}),t.tbData={tableHeader:a,tbData:t.createTBData(e[1]),lockedRow:e[0].tableHeader.length,lockedCol:e[0].lockedFields.length+1}})).catch((function(e){t.alert(e.message||"加载数据失败")})).then((function(){t.hideLoading()}))},methods:{loadData:function(){var t=this;this.showLoading(),this.loadTBData(n["default"].urls.cpsgenYear,{statistics_month:this.start_time},"get").then((function(e){var a=t.createTBData(e);t.tbData={tbData:a,tableHeader:t.tbData.tableHeader,lockedRow:t.tbData.lockedRow,lockedCol:t.tbData.lockedCol}})).catch((function(e){t.alert(e.message||"加载数据失败")})).then((function(){t.hideLoading()}))},createTBData:function(t){for(var e=[],a=1,r=0;r<t.length;r++){var i=t[r],o=[];o.push({text:a++});for(var l=0;l<this.fields.length;l++)o.push({text:i[this.fields[l]]||(0===i[this.fields[l]]?0:"--")});e.push(o)}return e}}},f=d,h=(a("bcaf"),a("2877")),p=Object(h["a"])(f,r,i,!1,null,"14063762",null);e["default"]=p.exports},f781:function(t,e,a){"use strict";var r=a("ea57"),i=a.n(r);i.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);